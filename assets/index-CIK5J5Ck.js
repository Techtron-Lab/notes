var l_=Object.defineProperty;var s_=(i,e,o)=>e in i?l_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var w=(i,e,o)=>s_(i,typeof e!="symbol"?e+"":e,o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();function a_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Zu={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function r_(){if(Kh)return Il;Kh=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,a,u){var d=null;if(u!==void 0&&(d=""+u),a.key!==void 0&&(d=""+a.key),"key"in a){u={};for(var h in a)h!=="key"&&(u[h]=a[h])}else u=a;return a=u.ref,{$$typeof:i,type:l,key:d,ref:a!==void 0?a:null,props:u}}return Il.Fragment=e,Il.jsx=o,Il.jsxs=o,Il}var Xh;function u_(){return Xh||(Xh=1,Zu.exports=r_()),Zu.exports}var _=u_(),Wu={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function c_(){if(Zh)return Se;Zh=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function Y(b,$,oe){this.props=b,this.context=$,this.refs=k,this.updater=oe||M}Y.prototype.isReactComponent={},Y.prototype.setState=function(b,$){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,$,"setState")},Y.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function W(){}W.prototype=Y.prototype;function G(b,$,oe){this.props=b,this.context=$,this.refs=k,this.updater=oe||M}var K=G.prototype=new W;K.constructor=G,R(K,Y.prototype),K.isPureReactComponent=!0;var ne=Array.isArray;function j(){}var V={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function B(b,$,oe){var ce=oe.ref;return{$$typeof:i,type:b,key:$,ref:ce!==void 0?ce:null,props:oe}}function F(b,$){return B(b.type,$,b.props)}function ie(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function re(b){var $={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(oe){return $[oe]})}var ae=/\/+/g;function Te(b,$){return typeof b=="object"&&b!==null&&b.key!=null?re(""+b.key):$.toString(36)}function Le(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(j,j):(b.status="pending",b.then(function($){b.status==="pending"&&(b.status="fulfilled",b.value=$)},function($){b.status==="pending"&&(b.status="rejected",b.reason=$)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function H(b,$,oe,ce,ve){var _e=typeof b;(_e==="undefined"||_e==="boolean")&&(b=null);var te=!1;if(b===null)te=!0;else switch(_e){case"bigint":case"string":case"number":te=!0;break;case"object":switch(b.$$typeof){case i:case e:te=!0;break;case v:return te=b._init,H(te(b._payload),$,oe,ce,ve)}}if(te)return ve=ve(b),te=ce===""?"."+Te(b,0):ce,ne(ve)?(oe="",te!=null&&(oe=te.replace(ae,"$&/")+"/"),H(ve,$,oe,"",function(Ze){return Ze})):ve!=null&&(ie(ve)&&(ve=F(ve,oe+(ve.key==null||b&&b.key===ve.key?"":(""+ve.key).replace(ae,"$&/")+"/")+te)),$.push(ve)),1;te=0;var ye=ce===""?".":ce+":";if(ne(b))for(var Re=0;Re<b.length;Re++)ce=b[Re],_e=ye+Te(ce,Re),te+=H(ce,$,oe,_e,ve);else if(Re=A(b),typeof Re=="function")for(b=Re.call(b),Re=0;!(ce=b.next()).done;)ce=ce.value,_e=ye+Te(ce,Re++),te+=H(ce,$,oe,_e,ve);else if(_e==="object"){if(typeof b.then=="function")return H(Le(b),$,oe,ce,ve);throw $=String(b),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return te}function ee(b,$,oe){if(b==null)return b;var ce=[],ve=0;return H(b,ce,"","",function(_e){return $.call(oe,_e,ve++)}),ce}function he(b){if(b._status===-1){var $=b._result;$=$(),$.then(function(oe){(b._status===0||b._status===-1)&&(b._status=1,b._result=oe)},function(oe){(b._status===0||b._status===-1)&&(b._status=2,b._result=oe)}),b._status===-1&&(b._status=0,b._result=$)}if(b._status===1)return b._result.default;throw b._result}var qe=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Pe={map:ee,forEach:function(b,$,oe){ee(b,function(){$.apply(this,arguments)},oe)},count:function(b){var $=0;return ee(b,function(){$++}),$},toArray:function(b){return ee(b,function($){return $})||[]},only:function(b){if(!ie(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Se.Activity=S,Se.Children=Pe,Se.Component=Y,Se.Fragment=o,Se.Profiler=a,Se.PureComponent=G,Se.StrictMode=l,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Se.__COMPILER_RUNTIME={__proto__:null,c:function(b){return V.H.useMemoCache(b)}},Se.cache=function(b){return function(){return b.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(b,$,oe){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ce=R({},b.props),ve=b.key;if($!=null)for(_e in $.key!==void 0&&(ve=""+$.key),$)!L.call($,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&$.ref===void 0||(ce[_e]=$[_e]);var _e=arguments.length-2;if(_e===1)ce.children=oe;else if(1<_e){for(var te=Array(_e),ye=0;ye<_e;ye++)te[ye]=arguments[ye+2];ce.children=te}return B(b.type,ve,ce)},Se.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:u,_context:b},b},Se.createElement=function(b,$,oe){var ce,ve={},_e=null;if($!=null)for(ce in $.key!==void 0&&(_e=""+$.key),$)L.call($,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ve[ce]=$[ce]);var te=arguments.length-2;if(te===1)ve.children=oe;else if(1<te){for(var ye=Array(te),Re=0;Re<te;Re++)ye[Re]=arguments[Re+2];ve.children=ye}if(b&&b.defaultProps)for(ce in te=b.defaultProps,te)ve[ce]===void 0&&(ve[ce]=te[ce]);return B(b,_e,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(b){return{$$typeof:h,render:b}},Se.isValidElement=ie,Se.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:he}},Se.memo=function(b,$){return{$$typeof:g,type:b,compare:$===void 0?null:$}},Se.startTransition=function(b){var $=V.T,oe={};V.T=oe;try{var ce=b(),ve=V.S;ve!==null&&ve(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(j,qe)}catch(_e){qe(_e)}finally{$!==null&&oe.types!==null&&($.types=oe.types),V.T=$}},Se.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Se.use=function(b){return V.H.use(b)},Se.useActionState=function(b,$,oe){return V.H.useActionState(b,$,oe)},Se.useCallback=function(b,$){return V.H.useCallback(b,$)},Se.useContext=function(b){return V.H.useContext(b)},Se.useDebugValue=function(){},Se.useDeferredValue=function(b,$){return V.H.useDeferredValue(b,$)},Se.useEffect=function(b,$){return V.H.useEffect(b,$)},Se.useEffectEvent=function(b){return V.H.useEffectEvent(b)},Se.useId=function(){return V.H.useId()},Se.useImperativeHandle=function(b,$,oe){return V.H.useImperativeHandle(b,$,oe)},Se.useInsertionEffect=function(b,$){return V.H.useInsertionEffect(b,$)},Se.useLayoutEffect=function(b,$){return V.H.useLayoutEffect(b,$)},Se.useMemo=function(b,$){return V.H.useMemo(b,$)},Se.useOptimistic=function(b,$){return V.H.useOptimistic(b,$)},Se.useReducer=function(b,$,oe){return V.H.useReducer(b,$,oe)},Se.useRef=function(b){return V.H.useRef(b)},Se.useState=function(b){return V.H.useState(b)},Se.useSyncExternalStore=function(b,$,oe){return V.H.useSyncExternalStore(b,$,oe)},Se.useTransition=function(){return V.H.useTransition()},Se.version="19.2.0",Se}var Wh;function Dc(){return Wh||(Wh=1,Wu.exports=c_()),Wu.exports}var de=Dc();const f_=a_(de);var ju={exports:{}},Ll={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function d_(){return jh||(jh=1,(function(i){function e(H,ee){var he=H.length;H.push(ee);e:for(;0<he;){var qe=he-1>>>1,Pe=H[qe];if(0<a(Pe,ee))H[qe]=ee,H[he]=Pe,he=qe;else break e}}function o(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var ee=H[0],he=H.pop();if(he!==ee){H[0]=he;e:for(var qe=0,Pe=H.length,b=Pe>>>1;qe<b;){var $=2*(qe+1)-1,oe=H[$],ce=$+1,ve=H[ce];if(0>a(oe,he))ce<Pe&&0>a(ve,oe)?(H[qe]=ve,H[ce]=he,qe=ce):(H[qe]=oe,H[$]=he,qe=$);else if(ce<Pe&&0>a(ve,he))H[qe]=ve,H[ce]=he,qe=ce;else break e}}return ee}function a(H,ee){var he=H.sortIndex-ee.sortIndex;return he!==0?he:H.id-ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var y=[],g=[],v=1,S=null,E=3,A=!1,M=!1,R=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function K(H){for(var ee=o(g);ee!==null;){if(ee.callback===null)l(g);else if(ee.startTime<=H)l(g),ee.sortIndex=ee.expirationTime,e(y,ee);else break;ee=o(g)}}function ne(H){if(R=!1,K(H),!M)if(o(y)!==null)M=!0,j||(j=!0,re());else{var ee=o(g);ee!==null&&Le(ne,ee.startTime-H)}}var j=!1,V=-1,L=5,B=-1;function F(){return k?!0:!(i.unstable_now()-B<L)}function ie(){if(k=!1,j){var H=i.unstable_now();B=H;var ee=!0;try{e:{M=!1,R&&(R=!1,W(V),V=-1),A=!0;var he=E;try{t:{for(K(H),S=o(y);S!==null&&!(S.expirationTime>H&&F());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,E=S.priorityLevel;var Pe=qe(S.expirationTime<=H);if(H=i.unstable_now(),typeof Pe=="function"){S.callback=Pe,K(H),ee=!0;break t}S===o(y)&&l(y),K(H)}else l(y);S=o(y)}if(S!==null)ee=!0;else{var b=o(g);b!==null&&Le(ne,b.startTime-H),ee=!1}}break e}finally{S=null,E=he,A=!1}ee=void 0}}finally{ee?re():j=!1}}}var re;if(typeof G=="function")re=function(){G(ie)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Te=ae.port2;ae.port1.onmessage=ie,re=function(){Te.postMessage(null)}}else re=function(){Y(ie,0)};function Le(H,ee){V=Y(function(){H(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(H){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var he=E;E=ee;try{return H()}finally{E=he}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=E;E=H;try{return ee()}finally{E=he}},i.unstable_scheduleCallback=function(H,ee,he){var qe=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?qe+he:qe):he=qe,H){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=he+Pe,H={id:v++,callback:ee,priorityLevel:H,startTime:he,expirationTime:Pe,sortIndex:-1},he>qe?(H.sortIndex=he,e(g,H),o(y)===null&&H===o(g)&&(R?(W(V),V=-1):R=!0,Le(ne,he-qe))):(H.sortIndex=Pe,e(y,H),M||A||(M=!0,j||(j=!0,re()))),H},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(H){var ee=E;return function(){var he=E;E=ee;try{return H.apply(this,arguments)}finally{E=he}}}})(tc)),tc}var ep;function m_(){return ep||(ep=1,ec.exports=d_()),ec.exports}var nc={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function h_(){if(tp)return pt;tp=1;var i=Dc();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:y,containerInfo:g,implementation:v}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,pt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,v)},pt.flushSync=function(y){var g=d.T,v=l.p;try{if(d.T=null,l.p=2,y)return y()}finally{d.T=g,l.p=v,l.d.f()}},pt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(y,g))},pt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},pt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?l.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:A}):v==="script"&&l.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(y)},pt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin);l.d.L(y,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);l.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(y)},pt.requestFormReset=function(y){l.d.r(y)},pt.unstable_batchedUpdates=function(y,g){return y(g)},pt.useFormState=function(y,g,v){return d.H.useFormState(y,g,v)},pt.useFormStatus=function(){return d.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var np;function p_(){if(np)return nc.exports;np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nc.exports=h_(),nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function g_(){if(ip)return Ll;ip=1;var i=m_(),e=Dc(),o=p_();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(l(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(l(188));return n!==t?null:t}for(var s=t,r=n;;){var m=s.return;if(m===null)break;var p=m.alternate;if(p===null){if(r=m.return,r!==null){s=r;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===s)return y(m),t;if(p===r)return y(m),n;p=p.sibling}throw Error(l(188))}if(s.return!==r.return)s=m,r=p;else{for(var T=!1,C=m.child;C;){if(C===s){T=!0,s=m,r=p;break}if(C===r){T=!0,r=m,s=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===s){T=!0,s=p,r=m;break}if(C===r){T=!0,r=p,s=m;break}C=C.sibling}if(!T)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),G=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function Te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case Y:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case j:return"SuspenseList";case B:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case G:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case K:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:Te(t.type)||"Memo";case L:n=t._payload,t=t._init;try{return Te(t(n))}catch{}}return null}var Le=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},qe=[],Pe=-1;function b(t){return{current:t}}function $(t){0>Pe||(t.current=qe[Pe],qe[Pe]=null,Pe--)}function oe(t,n){Pe++,qe[Pe]=t.current,t.current=n}var ce=b(null),ve=b(null),_e=b(null),te=b(null);function ye(t,n){switch(oe(_e,n),oe(ve,t),oe(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?vh(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=vh(n),t=Sh(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ce),oe(ce,t)}function Re(){$(ce),$(ve),$(_e)}function Ze(t){t.memoizedState!==null&&oe(te,t);var n=ce.current,s=Sh(n,t.type);n!==s&&(oe(ve,t),oe(ce,s))}function Hn(t){ve.current===t&&($(ce),$(ve)),te.current===t&&($(te),bl._currentValue=he)}var ot,Ct;function ht(t){if(ot===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ot=n&&n[1]||"",Ct=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+t+Ct}var Dt=!1;function nn(t,n){if(!t||Dt)return"";Dt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(z){var P=z}Reflect.construct(t,[],J)}else{try{J.call()}catch(z){P=z}t.call(J.prototype)}}else{try{throw Error()}catch(z){P=z}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(z){if(z&&P&&typeof z.stack=="string")return[z.stack,P.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var x=T.split(`
`),q=C.split(`
`);for(m=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(r===x.length||m===q.length)for(r=x.length-1,m=q.length-1;1<=r&&0<=m&&x[r]!==q[m];)m--;for(;1<=r&&0<=m;r--,m--)if(x[r]!==q[m]){if(r!==1||m!==1)do if(r--,m--,0>m||x[r]!==q[m]){var O=`
`+x[r].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=r&&0<=m);break}}}finally{Dt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ht(s):""}function yi(t,n){switch(t.tag){case 26:case 27:case 5:return ht(t.type);case 16:return ht("Lazy");case 13:return t.child!==n&&n!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return nn(t.type,!1);case 11:return nn(t.type.render,!1);case 1:return nn(t.type,!0);case 31:return ht("Activity");default:return""}}function on(t){try{var n="",s=null;do n+=yi(t,s),s=t,t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var pn=Object.prototype.hasOwnProperty,Go=i.unstable_scheduleCallback,za=i.unstable_cancelCallback,BT=i.unstable_shouldYield,zT=i.unstable_requestPaint,It=i.unstable_now,GT=i.unstable_getCurrentPriorityLevel,Kc=i.unstable_ImmediatePriority,Xc=i.unstable_UserBlockingPriority,Fl=i.unstable_NormalPriority,HT=i.unstable_LowPriority,Zc=i.unstable_IdlePriority,VT=i.log,OT=i.unstable_setDisableYieldValue,Ho=null,Lt=null;function Vn(t){if(typeof VT=="function"&&OT(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Ho,t)}catch{}}var Ut=Math.clz32?Math.clz32:QT,kT=Math.log,FT=Math.LN2;function QT(t){return t>>>=0,t===0?32:31-(kT(t)/FT|0)|0}var Ql=256,Jl=262144,Yl=4194304;function vi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $l(t,n,s){var r=t.pendingLanes;if(r===0)return 0;var m=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=r&134217727;return C!==0?(r=C&~p,r!==0?m=vi(r):(T&=C,T!==0?m=vi(T):s||(s=C&~t,s!==0&&(m=vi(s))))):(C=r&~p,C!==0?m=vi(C):T!==0?m=vi(T):s||(s=r&~t,s!==0&&(m=vi(s)))),m===0?0:n!==0&&n!==m&&(n&p)===0&&(p=m&-m,s=n&-n,p>=s||p===32&&(s&4194048)!==0)?n:m}function Vo(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function JT(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var t=Yl;return Yl<<=1,(Yl&62914560)===0&&(Yl=4194304),t}function Ga(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Oo(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function YT(t,n,s,r,m,p){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var C=t.entanglements,x=t.expirationTimes,q=t.hiddenUpdates;for(s=T&~s;0<s;){var O=31-Ut(s),J=1<<O;C[O]=0,x[O]=-1;var P=q[O];if(P!==null)for(q[O]=null,O=0;O<P.length;O++){var z=P[O];z!==null&&(z.lane&=-536870913)}s&=~J}r!==0&&jc(t,r,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~n))}function jc(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var r=31-Ut(n);t.entangledLanes|=n,t.entanglements[r]=t.entanglements[r]|1073741824|s&261930}function ef(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var r=31-Ut(s),m=1<<r;m&n|t[r]&n&&(t[r]|=n),s&=~m}}function tf(t,n){var s=n&-n;return s=(s&42)!==0?1:Ha(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Va(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nf(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Oh(t.type))}function of(t,n){var s=ee.p;try{return ee.p=t,n()}finally{ee.p=s}}var On=Math.random().toString(36).slice(2),rt="__reactFiber$"+On,_t="__reactProps$"+On,ki="__reactContainer$"+On,Oa="__reactEvents$"+On,$T="__reactListeners$"+On,KT="__reactHandles$"+On,lf="__reactResources$"+On,ko="__reactMarker$"+On;function ka(t){delete t[rt],delete t[_t],delete t[Oa],delete t[$T],delete t[KT]}function Fi(t){var n=t[rt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ki]||s[rt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=xh(t);t!==null;){if(s=t[rt])return s;t=xh(t)}return n}t=s,s=t.parentNode}return null}function Qi(t){if(t=t[rt]||t[ki]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Fo(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Ji(t){var n=t[lf];return n||(n=t[lf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[ko]=!0}var sf=new Set,af={};function Si(t,n){Yi(t,n),Yi(t+"Capture",n)}function Yi(t,n){for(af[t]=n,t=0;t<n.length;t++)sf.add(n[t])}var XT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rf={},uf={};function ZT(t){return pn.call(uf,t)?!0:pn.call(rf,t)?!1:XT.test(t)?uf[t]=!0:(rf[t]=!0,!1)}function Kl(t,n,s){if(ZT(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Xl(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function gn(t,n,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+r)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cf(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function WT(t,n,s){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,p=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(T){s=""+T,p.call(this,T)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fa(t){if(!t._valueTracker){var n=cf(t)?"checked":"value";t._valueTracker=WT(t,n,""+t[n])}}function ff(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return t&&(r=cf(t)?t.checked?"true":"false":t.value),t=r,t!==s?(n.setValue(t),!0):!1}function Zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jT=/[\n"\\]/g;function Qt(t){return t.replace(jT,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qa(t,n,s,r,m,p,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ja(t,T,Ft(n)):s!=null?Ja(t,T,Ft(s)):r!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Ft(C):t.removeAttribute("name")}function df(t,n,s,r,m,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Fa(t);return}s=s!=null?""+Ft(s):"",n=n!=null?""+Ft(n):s,C||n===t.value||(t.value=n),t.defaultValue=n}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=C?t.checked:!!r,t.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Fa(t)}function Ja(t,n,s){n==="number"&&Zl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function $i(t,n,s,r){if(t=t.options,n){n={};for(var m=0;m<s.length;m++)n["$"+s[m]]=!0;for(s=0;s<t.length;s++)m=n.hasOwnProperty("$"+t[s].value),t[s].selected!==m&&(t[s].selected=m),m&&r&&(t[s].defaultSelected=!0)}else{for(s=""+Ft(s),n=null,m=0;m<t.length;m++){if(t[m].value===s){t[m].selected=!0,r&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function mf(t,n,s){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ft(s):""}function hf(t,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(Le(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=Ft(n),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r),Fa(t)}function Ki(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var eE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(t,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":r?t.setProperty(n,s):typeof s!="number"||s===0||eE.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function gf(t,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var m in n)r=n[m],n.hasOwnProperty(m)&&s[m]!==r&&pf(t,m,r)}else for(var p in n)n.hasOwnProperty(p)&&pf(t,p,n[p])}function Ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(t){return nE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yn(){}var $a=null;function Ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Zi=null;function yf(t){var n=Qi(t);if(n&&(t=n.stateNode)){var s=t[_t]||null;e:switch(t=n.stateNode,n.type){case"input":if(Qa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==t&&r.form===t.form){var m=r[_t]||null;if(!m)throw Error(l(90));Qa(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===t.form&&ff(r)}break e;case"textarea":mf(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&$i(t,!!s.multiple,n,!1)}}}var Xa=!1;function vf(t,n,s){if(Xa)return t(n,s);Xa=!0;try{var r=t(n);return r}finally{if(Xa=!1,(Xi!==null||Zi!==null)&&(Gs(),Xi&&(n=Xi,t=Zi,Zi=Xi=null,yf(n),t)))for(n=0;n<t.length;n++)yf(t[n])}}function Qo(t,n){var s=t.stateNode;if(s===null)return null;var r=s[_t]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(vn)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Za=!1}var kn=null,Wa=null,jl=null;function Sf(){if(jl)return jl;var t,n=Wa,s=n.length,r,m="value"in kn?kn.value:kn.textContent,p=m.length;for(t=0;t<s&&n[t]===m[t];t++);var T=s-t;for(r=1;r<=T&&n[s-r]===m[p-r];r++);return jl=m.slice(t,1<r?1-r:void 0)}function es(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function Tf(){return!1}function At(t){function n(s,r,m,p,T){this._reactName=s,this._targetInst=m,this.type=r,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(s=t[C],this[C]=s?s(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ts:Tf,this.isPropagationStopped=Tf,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=At(Ti),Yo=S({},Ti,{view:0,detail:0}),iE=At(Yo),ja,er,$o,is=S({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(ja=t.screenX-$o.screenX,er=t.screenY-$o.screenY):er=ja=0,$o=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:er}}),Ef=At(is),oE=S({},is,{dataTransfer:0}),lE=At(oE),sE=S({},Yo,{relatedTarget:0}),tr=At(sE),aE=S({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),rE=At(aE),uE=S({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cE=At(uE),fE=S({},Ti,{data:0}),Cf=At(fE),dE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pE(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=hE[t])?!!n[t]:!1}function nr(){return pE}var gE=S({},Yo,{key:function(t){if(t.key){var n=dE[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(t){return t.type==="keypress"?es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yE=At(gE),vE=S({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=At(vE),SE=S({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),TE=At(SE),EE=S({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),CE=At(EE),_E=S({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AE=At(_E),wE=S({},Ti,{newState:0,oldState:0}),xE=At(wE),NE=[9,13,27,32],ir=vn&&"CompositionEvent"in window,Ko=null;vn&&"documentMode"in document&&(Ko=document.documentMode);var bE=vn&&"TextEvent"in window&&!Ko,Af=vn&&(!ir||Ko&&8<Ko&&11>=Ko),wf=" ",xf=!1;function Nf(t,n){switch(t){case"keyup":return NE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function RE(t,n){switch(t){case"compositionend":return bf(n);case"keypress":return n.which!==32?null:(xf=!0,wf);case"textInput":return t=n.data,t===wf&&xf?null:t;default:return null}}function ME(t,n){if(Wi)return t==="compositionend"||!ir&&Nf(t,n)?(t=Sf(),jl=Wa=kn=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Af&&n.locale!=="ko"?null:n.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!DE[t.type]:n==="textarea"}function Mf(t,n,s,r){Xi?Zi?Zi.push(r):Zi=[r]:Xi=r,n=Js(n,"onChange"),0<n.length&&(s=new ns("onChange","change",null,s,r),t.push({event:s,listeners:n}))}var Xo=null,Zo=null;function IE(t){dh(t,0)}function os(t){var n=Fo(t);if(ff(n))return t}function Df(t,n){if(t==="change")return n}var If=!1;if(vn){var or;if(vn){var lr="oninput"in document;if(!lr){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),lr=typeof Lf.oninput=="function"}or=lr}else or=!1;If=or&&(!document.documentMode||9<document.documentMode)}function Uf(){Xo&&(Xo.detachEvent("onpropertychange",qf),Zo=Xo=null)}function qf(t){if(t.propertyName==="value"&&os(Zo)){var n=[];Mf(n,Zo,t,Ka(t)),vf(IE,n)}}function LE(t,n,s){t==="focusin"?(Uf(),Xo=n,Zo=s,Xo.attachEvent("onpropertychange",qf)):t==="focusout"&&Uf()}function UE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return os(Zo)}function qE(t,n){if(t==="click")return os(n)}function PE(t,n){if(t==="input"||t==="change")return os(n)}function BE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var qt=typeof Object.is=="function"?Object.is:BE;function Wo(t,n){if(qt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var m=s[r];if(!pn.call(n,m)||!qt(t[m],n[m]))return!1}return!0}function Pf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bf(t,n){var s=Pf(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=n&&r>=n)return{node:s,offset:n-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Pf(s)}}function zf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Zl(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Zl(t.document)}return n}function sr(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var zE=vn&&"documentMode"in document&&11>=document.documentMode,ji=null,ar=null,jo=null,rr=!1;function Hf(t,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rr||ji==null||ji!==Zl(r)||(r=ji,"selectionStart"in r&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jo&&Wo(jo,r)||(jo=r,r=Js(ar,"onSelect"),0<r.length&&(n=new ns("onSelect","select",null,n,s),t.push({event:n,listeners:r}),n.target=ji)))}function Ei(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var eo={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},ur={},Vf={};vn&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Ci(t){if(ur[t])return ur[t];if(!eo[t])return t;var n=eo[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Vf)return ur[t]=n[s];return t}var Of=Ci("animationend"),kf=Ci("animationiteration"),Ff=Ci("animationstart"),GE=Ci("transitionrun"),HE=Ci("transitionstart"),VE=Ci("transitioncancel"),Qf=Ci("transitionend"),Jf=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function ln(t,n){Jf.set(t,n),Si(n,[t])}var ls=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jt=[],to=0,fr=0;function ss(){for(var t=to,n=fr=to=0;n<t;){var s=Jt[n];Jt[n++]=null;var r=Jt[n];Jt[n++]=null;var m=Jt[n];Jt[n++]=null;var p=Jt[n];if(Jt[n++]=null,r!==null&&m!==null){var T=r.pending;T===null?m.next=m:(m.next=T.next,T.next=m),r.pending=m}p!==0&&Yf(s,m,p)}}function as(t,n,s,r){Jt[to++]=t,Jt[to++]=n,Jt[to++]=s,Jt[to++]=r,fr|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function dr(t,n,s,r){return as(t,n,s,r),rs(t)}function _i(t,n){return as(t,null,null,n),rs(t)}function Yf(t,n,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var m=!1,p=t.return;p!==null;)p.childLanes|=s,r=p.alternate,r!==null&&(r.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&n!==null&&(m=31-Ut(s),t=p.hiddenUpdates,r=t[m],r===null?t[m]=[n]:r.push(n),n.lane=s|536870912),p):null}function rs(t){if(50<El)throw El=0,Eu=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var no={};function OE(t,n,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,n,s,r){return new OE(t,n,s,r)}function mr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sn(t,n){var s=t.alternate;return s===null?(s=Pt(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function $f(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function us(t,n,s,r,m,p){var T=0;if(r=t,typeof t=="function")mr(t)&&(T=1);else if(typeof t=="string")T=YC(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case B:return t=Pt(31,s,n,m),t.elementType=B,t.lanes=p,t;case R:return Ai(s.children,m,p,n);case k:T=8,m|=24;break;case Y:return t=Pt(12,s,n,m|2),t.elementType=Y,t.lanes=p,t;case ne:return t=Pt(13,s,n,m),t.elementType=ne,t.lanes=p,t;case j:return t=Pt(19,s,n,m),t.elementType=j,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:T=10;break e;case W:T=9;break e;case K:T=11;break e;case V:T=14;break e;case L:T=16,r=null;break e}T=29,s=Error(l(130,t===null?"null":typeof t,"")),r=null}return n=Pt(T,s,n,m),n.elementType=t,n.type=r,n.lanes=p,n}function Ai(t,n,s,r){return t=Pt(7,t,r,n),t.lanes=s,t}function hr(t,n,s){return t=Pt(6,t,null,n),t.lanes=s,t}function Kf(t){var n=Pt(18,null,null,0);return n.stateNode=t,n}function pr(t,n,s){return n=Pt(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xf=new WeakMap;function Yt(t,n){if(typeof t=="object"&&t!==null){var s=Xf.get(t);return s!==void 0?s:(n={value:t,source:n,stack:on(n)},Xf.set(t,n),n)}return{value:t,source:n,stack:on(n)}}var io=[],oo=0,cs=null,el=0,$t=[],Kt=0,Fn=null,cn=1,fn="";function Tn(t,n){io[oo++]=el,io[oo++]=cs,cs=t,el=n}function Zf(t,n,s){$t[Kt++]=cn,$t[Kt++]=fn,$t[Kt++]=Fn,Fn=t;var r=cn;t=fn;var m=32-Ut(r)-1;r&=~(1<<m),s+=1;var p=32-Ut(n)+m;if(30<p){var T=m-m%5;p=(r&(1<<T)-1).toString(32),r>>=T,m-=T,cn=1<<32-Ut(n)+m|s<<m|r,fn=p+t}else cn=1<<p|s<<m|r,fn=t}function gr(t){t.return!==null&&(Tn(t,1),Zf(t,1,0))}function yr(t){for(;t===cs;)cs=io[--oo],io[oo]=null,el=io[--oo],io[oo]=null;for(;t===Fn;)Fn=$t[--Kt],$t[Kt]=null,fn=$t[--Kt],$t[Kt]=null,cn=$t[--Kt],$t[Kt]=null}function Wf(t,n){$t[Kt++]=cn,$t[Kt++]=fn,$t[Kt++]=Fn,cn=n.id,fn=n.overflow,Fn=t}var ut=null,ke=null,be=!1,Qn=null,Xt=!1,vr=Error(l(519));function Jn(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Yt(n,t)),vr}function jf(t){var n=t.stateNode,s=t.type,r=t.memoizedProps;switch(n[rt]=t,n[_t]=r,s){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(s=0;s<_l.length;s++)we(_l[s],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":we("invalid",n),df(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":we("invalid",n);break;case"textarea":we("invalid",n),hf(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||gh(n.textContent,s)?(r.popover!=null&&(we("beforetoggle",n),we("toggle",n)),r.onScroll!=null&&we("scroll",n),r.onScrollEnd!=null&&we("scrollend",n),r.onClick!=null&&(n.onclick=yn),n=!0):n=!1,n||Jn(t,!0)}function ed(t){for(ut=t.return;ut;)switch(ut.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ut=ut.return}}function lo(t){if(t!==ut)return!1;if(!be)return ed(t),be=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Pu(t.type,t.memoizedProps)),s=!s),s&&ke&&Jn(t),ed(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));ke=wh(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));ke=wh(t)}else n===27?(n=ke,si(t.type)?(t=Vu,Vu=null,ke=t):ke=n):ke=ut?Wt(t.stateNode.nextSibling):null;return!0}function wi(){ke=ut=null,be=!1}function Sr(){var t=Qn;return t!==null&&(bt===null?bt=t:bt.push.apply(bt,t),Qn=null),t}function tl(t){Qn===null?Qn=[t]:Qn.push(t)}var Tr=b(null),xi=null,En=null;function Yn(t,n,s){oe(Tr,n._currentValue),n._currentValue=s}function Cn(t){t._currentValue=Tr.current,$(Tr)}function Er(t,n,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===s)break;t=t.return}}function Cr(t,n,s,r){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var T=m.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=m;for(var x=0;x<n.length;x++)if(C.context===n[x]){p.lanes|=s,C=p.alternate,C!==null&&(C.lanes|=s),Er(p.return,s,t),r||(T=null);break e}p=C.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(l(341));T.lanes|=s,p=T.alternate,p!==null&&(p.lanes|=s),Er(T,s,t),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===t){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function so(t,n,s,r){t=null;for(var m=n,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var C=m.type;qt(m.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(m===te.current){if(T=m.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}m=m.return}t!==null&&Cr(n,t,s,r),n.flags|=262144}function fs(t){for(t=t.firstContext;t!==null;){if(!qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ni(t){xi=t,En=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ct(t){return td(xi,t)}function ds(t,n){return xi===null&&Ni(t),td(t,n)}function td(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},En===null){if(t===null)throw Error(l(308));En=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else En=En.next=n;return s}var kE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},FE=i.unstable_scheduleCallback,QE=i.unstable_NormalPriority,We={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _r(){return{controller:new kE,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&FE(QE,function(){t.controller.abort()})}var il=null,Ar=0,ao=0,ro=null;function JE(t,n){if(il===null){var s=il=[];Ar=0,ao=Nu(),ro={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Ar++,n.then(nd,nd),n}function nd(){if(--Ar===0&&il!==null){ro!==null&&(ro.status="fulfilled");var t=il;il=null,ao=0,ro=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function YE(t,n){var s=[],r={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return t.then(function(){r.status="fulfilled",r.value=n;for(var m=0;m<s.length;m++)(0,s[m])(n)},function(m){for(r.status="rejected",r.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),r}var id=H.S;H.S=function(t,n){Hm=It(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&JE(t,n),id!==null&&id(t,n)};var bi=b(null);function wr(){var t=bi.current;return t!==null?t:Oe.pooledCache}function ms(t,n){n===null?oe(bi,bi.current):oe(bi,n.pool)}function od(){var t=wr();return t===null?null:{parent:We._currentValue,pool:t}}var uo=Error(l(460)),xr=Error(l(474)),hs=Error(l(542)),ps={then:function(){}};function ld(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sd(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(yn,yn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rd(t),t;default:if(typeof n.status=="string")n.then(yn,yn);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(r){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=r}},function(r){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rd(t),t}throw Mi=n,uo}}function Ri(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Mi=s,uo):s}}var Mi=null;function ad(){if(Mi===null)throw Error(l(459));var t=Mi;return Mi=null,t}function rd(t){if(t===uo||t===hs)throw Error(l(483))}var co=null,ol=0;function gs(t){var n=ol;return ol+=1,co===null&&(co=[]),sd(co,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ys(t,n){throw n.$$typeof===E?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ud(t){function n(D,N){if(t){var U=D.deletions;U===null?(D.deletions=[N],D.flags|=16):U.push(N)}}function s(D,N){if(!t)return null;for(;N!==null;)n(D,N),N=N.sibling;return null}function r(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function m(D,N){return D=Sn(D,N),D.index=0,D.sibling=null,D}function p(D,N,U){return D.index=U,t?(U=D.alternate,U!==null?(U=U.index,U<N?(D.flags|=67108866,N):U):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function T(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function C(D,N,U,Q){return N===null||N.tag!==6?(N=hr(U,D.mode,Q),N.return=D,N):(N=m(N,U),N.return=D,N)}function x(D,N,U,Q){var me=U.type;return me===R?O(D,N,U.props.children,Q,U.key):N!==null&&(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===L&&Ri(me)===N.type)?(N=m(N,U.props),ll(N,U),N.return=D,N):(N=us(U.type,U.key,U.props,null,D.mode,Q),ll(N,U),N.return=D,N)}function q(D,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=pr(U,D.mode,Q),N.return=D,N):(N=m(N,U.children||[]),N.return=D,N)}function O(D,N,U,Q,me){return N===null||N.tag!==7?(N=Ai(U,D.mode,Q,me),N.return=D,N):(N=m(N,U),N.return=D,N)}function J(D,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=hr(""+N,D.mode,U),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return U=us(N.type,N.key,N.props,null,D.mode,U),ll(U,N),U.return=D,U;case M:return N=pr(N,D.mode,U),N.return=D,N;case L:return N=Ri(N),J(D,N,U)}if(Le(N)||re(N))return N=Ai(N,D.mode,U,null),N.return=D,N;if(typeof N.then=="function")return J(D,gs(N),U);if(N.$$typeof===G)return J(D,ds(D,N),U);ys(D,N)}return null}function P(D,N,U,Q){var me=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:C(D,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===me?x(D,N,U,Q):null;case M:return U.key===me?q(D,N,U,Q):null;case L:return U=Ri(U),P(D,N,U,Q)}if(Le(U)||re(U))return me!==null?null:O(D,N,U,Q,null);if(typeof U.then=="function")return P(D,N,gs(U),Q);if(U.$$typeof===G)return P(D,N,ds(D,U),Q);ys(D,U)}return null}function z(D,N,U,Q,me){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return D=D.get(U)||null,C(N,D,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return D=D.get(Q.key===null?U:Q.key)||null,x(N,D,Q,me);case M:return D=D.get(Q.key===null?U:Q.key)||null,q(N,D,Q,me);case L:return Q=Ri(Q),z(D,N,U,Q,me)}if(Le(Q)||re(Q))return D=D.get(U)||null,O(N,D,Q,me,null);if(typeof Q.then=="function")return z(D,N,U,gs(Q),me);if(Q.$$typeof===G)return z(D,N,U,ds(N,Q),me);ys(N,Q)}return null}function ue(D,N,U,Q){for(var me=null,Me=null,fe=N,Ce=N=0,Ne=null;fe!==null&&Ce<U.length;Ce++){fe.index>Ce?(Ne=fe,fe=null):Ne=fe.sibling;var De=P(D,fe,U[Ce],Q);if(De===null){fe===null&&(fe=Ne);break}t&&fe&&De.alternate===null&&n(D,fe),N=p(De,N,Ce),Me===null?me=De:Me.sibling=De,Me=De,fe=Ne}if(Ce===U.length)return s(D,fe),be&&Tn(D,Ce),me;if(fe===null){for(;Ce<U.length;Ce++)fe=J(D,U[Ce],Q),fe!==null&&(N=p(fe,N,Ce),Me===null?me=fe:Me.sibling=fe,Me=fe);return be&&Tn(D,Ce),me}for(fe=r(fe);Ce<U.length;Ce++)Ne=z(fe,D,Ce,U[Ce],Q),Ne!==null&&(t&&Ne.alternate!==null&&fe.delete(Ne.key===null?Ce:Ne.key),N=p(Ne,N,Ce),Me===null?me=Ne:Me.sibling=Ne,Me=Ne);return t&&fe.forEach(function(fi){return n(D,fi)}),be&&Tn(D,Ce),me}function ge(D,N,U,Q){if(U==null)throw Error(l(151));for(var me=null,Me=null,fe=N,Ce=N=0,Ne=null,De=U.next();fe!==null&&!De.done;Ce++,De=U.next()){fe.index>Ce?(Ne=fe,fe=null):Ne=fe.sibling;var fi=P(D,fe,De.value,Q);if(fi===null){fe===null&&(fe=Ne);break}t&&fe&&fi.alternate===null&&n(D,fe),N=p(fi,N,Ce),Me===null?me=fi:Me.sibling=fi,Me=fi,fe=Ne}if(De.done)return s(D,fe),be&&Tn(D,Ce),me;if(fe===null){for(;!De.done;Ce++,De=U.next())De=J(D,De.value,Q),De!==null&&(N=p(De,N,Ce),Me===null?me=De:Me.sibling=De,Me=De);return be&&Tn(D,Ce),me}for(fe=r(fe);!De.done;Ce++,De=U.next())De=z(fe,D,Ce,De.value,Q),De!==null&&(t&&De.alternate!==null&&fe.delete(De.key===null?Ce:De.key),N=p(De,N,Ce),Me===null?me=De:Me.sibling=De,Me=De);return t&&fe.forEach(function(o_){return n(D,o_)}),be&&Tn(D,Ce),me}function Ve(D,N,U,Q){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var me=U.key;N!==null;){if(N.key===me){if(me=U.type,me===R){if(N.tag===7){s(D,N.sibling),Q=m(N,U.props.children),Q.return=D,D=Q;break e}}else if(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===L&&Ri(me)===N.type){s(D,N.sibling),Q=m(N,U.props),ll(Q,U),Q.return=D,D=Q;break e}s(D,N);break}else n(D,N);N=N.sibling}U.type===R?(Q=Ai(U.props.children,D.mode,Q,U.key),Q.return=D,D=Q):(Q=us(U.type,U.key,U.props,null,D.mode,Q),ll(Q,U),Q.return=D,D=Q)}return T(D);case M:e:{for(me=U.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){s(D,N.sibling),Q=m(N,U.children||[]),Q.return=D,D=Q;break e}else{s(D,N);break}else n(D,N);N=N.sibling}Q=pr(U,D.mode,Q),Q.return=D,D=Q}return T(D);case L:return U=Ri(U),Ve(D,N,U,Q)}if(Le(U))return ue(D,N,U,Q);if(re(U)){if(me=re(U),typeof me!="function")throw Error(l(150));return U=me.call(U),ge(D,N,U,Q)}if(typeof U.then=="function")return Ve(D,N,gs(U),Q);if(U.$$typeof===G)return Ve(D,N,ds(D,U),Q);ys(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(s(D,N.sibling),Q=m(N,U),Q.return=D,D=Q):(s(D,N),Q=hr(U,D.mode,Q),Q.return=D,D=Q),T(D)):s(D,N)}return function(D,N,U,Q){try{ol=0;var me=Ve(D,N,U,Q);return co=null,me}catch(fe){if(fe===uo||fe===hs)throw fe;var Me=Pt(29,fe,null,D.mode);return Me.lanes=Q,Me.return=D,Me}finally{}}}var Di=ud(!0),cd=ud(!1),$n=!1;function Nr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function br(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(t,n,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var m=r.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),r.pending=n,n=rs(t),Yf(t,null,s),n}return as(t,r,n,s),rs(t)}function sl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,ef(t,s)}}function Rr(t,n){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var m=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?m=p=T:p=p.next=T,s=s.next}while(s!==null);p===null?m=p=n:p=p.next=n}else m=p=n;s={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Mr=!1;function al(){if(Mr){var t=ro;if(t!==null)throw t}}function rl(t,n,s,r){Mr=!1;var m=t.updateQueue;$n=!1;var p=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var x=C,q=x.next;x.next=null,T===null?p=q:T.next=q,T=x;var O=t.alternate;O!==null&&(O=O.updateQueue,C=O.lastBaseUpdate,C!==T&&(C===null?O.firstBaseUpdate=q:C.next=q,O.lastBaseUpdate=x))}if(p!==null){var J=m.baseState;T=0,O=q=x=null,C=p;do{var P=C.lane&-536870913,z=P!==C.lane;if(z?(xe&P)===P:(r&P)===P){P!==0&&P===ao&&(Mr=!0),O!==null&&(O=O.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ue=t,ge=C;P=n;var Ve=s;switch(ge.tag){case 1:if(ue=ge.payload,typeof ue=="function"){J=ue.call(Ve,J,P);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ge.payload,P=typeof ue=="function"?ue.call(Ve,J,P):ue,P==null)break e;J=S({},J,P);break e;case 2:$n=!0}}P=C.callback,P!==null&&(t.flags|=64,z&&(t.flags|=8192),z=m.callbacks,z===null?m.callbacks=[P]:z.push(P))}else z={lane:P,tag:C.tag,payload:C.payload,callback:C.callback,next:null},O===null?(q=O=z,x=J):O=O.next=z,T|=P;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;z=C,C=z.next,z.next=null,m.lastBaseUpdate=z,m.shared.pending=null}}while(!0);O===null&&(x=J),m.baseState=x,m.firstBaseUpdate=q,m.lastBaseUpdate=O,p===null&&(m.shared.lanes=0),ti|=T,t.lanes=T,t.memoizedState=J}}function fd(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function dd(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)fd(s[t],n)}var fo=b(null),vs=b(0);function md(t,n){t=Dn,oe(vs,t),oe(fo,n),Dn=t|n.baseLanes}function Dr(){oe(vs,Dn),oe(fo,fo.current)}function Ir(){Dn=vs.current,$(fo),$(vs)}var Bt=b(null),Zt=null;function Zn(t){var n=t.alternate;oe(Ke,Ke.current&1),oe(Bt,t),Zt===null&&(n===null||fo.current!==null||n.memoizedState!==null)&&(Zt=t)}function Lr(t){oe(Ke,Ke.current),oe(Bt,t),Zt===null&&(Zt=t)}function hd(t){t.tag===22?(oe(Ke,Ke.current),oe(Bt,t),Zt===null&&(Zt=t)):Wn()}function Wn(){oe(Ke,Ke.current),oe(Bt,Bt.current)}function zt(t){$(Bt),Zt===t&&(Zt=null),$(Ke)}var Ke=b(0);function Ss(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Gu(s)||Hu(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _n=0,Ee=null,Ge=null,je=null,Ts=!1,mo=!1,Ii=!1,Es=0,ul=0,ho=null,$E=0;function Ye(){throw Error(l(321))}function Ur(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!qt(t[s],n[s]))return!1;return!0}function qr(t,n,s,r,m,p){return _n=p,Ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Zd:Xr,Ii=!1,p=s(r,m),Ii=!1,mo&&(p=gd(n,s,r,m)),pd(t),p}function pd(t){H.H=dl;var n=Ge!==null&&Ge.next!==null;if(_n=0,je=Ge=Ee=null,Ts=!1,ul=0,ho=null,n)throw Error(l(300));t===null||et||(t=t.dependencies,t!==null&&fs(t)&&(et=!0))}function gd(t,n,s,r){Ee=t;var m=0;do{if(mo&&(ho=null),ul=0,mo=!1,25<=m)throw Error(l(301));if(m+=1,je=Ge=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=Wd,p=n(s,r)}while(mo);return p}function KE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Ee.flags|=1024),n}function Pr(){var t=Es!==0;return Es=0,t}function Br(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function zr(t){if(Ts){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ts=!1}_n=0,je=Ge=Ee=null,mo=!1,ul=Es=0,ho=null}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ee.memoizedState=je=t:je=je.next=t,je}function Xe(){if(Ge===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var n=je===null?Ee.memoizedState:je.next;if(n!==null)je=n,Ge=t;else{if(t===null)throw Ee.alternate===null?Error(l(467)):Error(l(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},je===null?Ee.memoizedState=je=t:je=je.next=t}return je}function Cs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ul;return ul+=1,ho===null&&(ho=[]),t=sd(ho,t,n),n=Ee,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Zd:Xr),t}function _s(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===G)return ct(t)}throw Error(l(438,String(t)))}function Gr(t){var n=null,s=Ee.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=Ee.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Cs(),Ee.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),r=0;r<t;r++)s[r]=F;return n.index++,s}function An(t,n){return typeof n=="function"?n(t):n}function As(t){var n=Xe();return Hr(n,Ge,t)}function Hr(t,n,s){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var m=t.baseQueue,p=r.pending;if(p!==null){if(m!==null){var T=m.next;m.next=p.next,p.next=T}n.baseQueue=m=p,r.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{n=m.next;var C=T=null,x=null,q=n,O=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(xe&J)===J:(_n&J)===J){var P=q.revertLane;if(P===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===ao&&(O=!0);else if((_n&P)===P){q=q.next,P===ao&&(O=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(C=x=J,T=p):x=x.next=J,Ee.lanes|=P,ti|=P;J=q.action,Ii&&s(p,J),p=q.hasEagerState?q.eagerState:s(p,J)}else P={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(C=x=P,T=p):x=x.next=P,Ee.lanes|=J,ti|=J;q=q.next}while(q!==null&&q!==n);if(x===null?T=p:x.next=C,!qt(p,t.memoizedState)&&(et=!0,O&&(s=ro,s!==null)))throw s;t.memoizedState=p,t.baseState=T,t.baseQueue=x,r.lastRenderedState=p}return m===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Vr(t){var n=Xe(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var r=s.dispatch,m=s.pending,p=n.memoizedState;if(m!==null){s.pending=null;var T=m=m.next;do p=t(p,T.action),T=T.next;while(T!==m);qt(p,n.memoizedState)||(et=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),s.lastRenderedState=p}return[p,r]}function yd(t,n,s){var r=Ee,m=Xe(),p=be;if(p){if(s===void 0)throw Error(l(407));s=s()}else s=n();var T=!qt((Ge||m).memoizedState,s);if(T&&(m.memoizedState=s,et=!0),m=m.queue,Fr(Td.bind(null,r,m,t),[t]),m.getSnapshot!==n||T||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,po(9,{destroy:void 0},Sd.bind(null,r,m,s,n),null),Oe===null)throw Error(l(349));p||(_n&127)!==0||vd(r,n,s)}return s}function vd(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ee.updateQueue,n===null?(n=Cs(),Ee.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Sd(t,n,s,r){n.value=s,n.getSnapshot=r,Ed(n)&&Cd(t)}function Td(t,n,s){return s(function(){Ed(n)&&Cd(t)})}function Ed(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!qt(t,s)}catch{return!0}}function Cd(t){var n=_i(t,2);n!==null&&Rt(n,t,2)}function Or(t){var n=vt();if(typeof t=="function"){var s=t;if(t=s(),Ii){Vn(!0);try{s()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:t},n}function _d(t,n,s,r){return t.baseState=s,Hr(t,Ge,typeof r=="function"?r:An)}function XE(t,n,s,r,m){if(Ns(t))throw Error(l(485));if(t=n.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};H.T!==null?s(!0):p.isTransition=!1,r(p),s=n.pending,s===null?(p.next=n.pending=p,Ad(n,p)):(p.next=s.next,n.pending=s.next=p)}}function Ad(t,n){var s=n.action,r=n.payload,m=t.state;if(n.isTransition){var p=H.T,T={};H.T=T;try{var C=s(m,r),x=H.S;x!==null&&x(T,C),wd(t,n,C)}catch(q){kr(t,n,q)}finally{p!==null&&T.types!==null&&(p.types=T.types),H.T=p}}else try{p=s(m,r),wd(t,n,p)}catch(q){kr(t,n,q)}}function wd(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){xd(t,n,r)},function(r){return kr(t,n,r)}):xd(t,n,s)}function xd(t,n,s){n.status="fulfilled",n.value=s,Nd(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ad(t,s)))}function kr(t,n,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Nd(n),n=n.next;while(n!==r)}t.action=null}function Nd(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bd(t,n){return n}function Rd(t,n){if(be){var s=Oe.formState;if(s!==null){e:{var r=Ee;if(be){if(ke){t:{for(var m=ke,p=Xt;m.nodeType!==8;){if(!p){m=null;break t}if(m=Wt(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){ke=Wt(m.nextSibling),r=m.data==="F!";break e}}Jn(r)}r=!1}r&&(n=s[0])}}return s=vt(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:n},s.queue=r,s=$d.bind(null,Ee,r),r.dispatch=s,r=Or(!1),p=Kr.bind(null,Ee,!1,r.queue),r=vt(),m={state:n,dispatch:null,action:t,pending:null},r.queue=m,s=XE.bind(null,Ee,m,p,s),m.dispatch=s,r.memoizedState=t,[n,s,!1]}function Md(t){var n=Xe();return Dd(n,Ge,t)}function Dd(t,n,s){if(n=Hr(t,n,bd)[0],t=As(An)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=cl(n)}catch(T){throw T===uo?hs:T}else r=n;n=Xe();var m=n.queue,p=m.dispatch;return s!==n.memoizedState&&(Ee.flags|=2048,po(9,{destroy:void 0},ZE.bind(null,m,s),null)),[r,p,t]}function ZE(t,n){t.action=n}function Id(t){var n=Xe(),s=Ge;if(s!==null)return Dd(n,s,t);Xe(),n=n.memoizedState,s=Xe();var r=s.queue.dispatch;return s.memoizedState=t,[n,r,!1]}function po(t,n,s,r){return t={tag:t,create:s,deps:r,inst:n,next:null},n=Ee.updateQueue,n===null&&(n=Cs(),Ee.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,n.lastEffect=t),t}function Ld(){return Xe().memoizedState}function ws(t,n,s,r){var m=vt();Ee.flags|=t,m.memoizedState=po(1|n,{destroy:void 0},s,r===void 0?null:r)}function xs(t,n,s,r){var m=Xe();r=r===void 0?null:r;var p=m.memoizedState.inst;Ge!==null&&r!==null&&Ur(r,Ge.memoizedState.deps)?m.memoizedState=po(n,p,s,r):(Ee.flags|=t,m.memoizedState=po(1|n,p,s,r))}function Ud(t,n){ws(8390656,8,t,n)}function Fr(t,n){xs(2048,8,t,n)}function WE(t){Ee.flags|=4;var n=Ee.updateQueue;if(n===null)n=Cs(),Ee.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function qd(t){var n=Xe().memoizedState;return WE({ref:n,nextImpl:t}),function(){if((Ue&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Pd(t,n){return xs(4,2,t,n)}function Bd(t,n){return xs(4,4,t,n)}function zd(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gd(t,n,s){s=s!=null?s.concat([t]):null,xs(4,4,zd.bind(null,n,t),s)}function Qr(){}function Hd(t,n){var s=Xe();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&Ur(n,r[1])?r[0]:(s.memoizedState=[t,n],t)}function Vd(t,n){var s=Xe();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&Ur(n,r[1]))return r[0];if(r=t(),Ii){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[r,n],r}function Jr(t,n,s){return s===void 0||(_n&1073741824)!==0&&(xe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Om(),Ee.lanes|=t,ti|=t,s)}function Od(t,n,s,r){return qt(s,n)?s:fo.current!==null?(t=Jr(t,s,r),qt(t,n)||(et=!0),t):(_n&42)===0||(_n&1073741824)!==0&&(xe&261930)===0?(et=!0,t.memoizedState=s):(t=Om(),Ee.lanes|=t,ti|=t,n)}function kd(t,n,s,r,m){var p=ee.p;ee.p=p!==0&&8>p?p:8;var T=H.T,C={};H.T=C,Kr(t,!1,n,s);try{var x=m(),q=H.S;if(q!==null&&q(C,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=YE(x,r);fl(t,n,O,Vt(t))}else fl(t,n,r,Vt(t))}catch(J){fl(t,n,{then:function(){},status:"rejected",reason:J},Vt())}finally{ee.p=p,T!==null&&C.types!==null&&(T.types=C.types),H.T=T}}function jE(){}function Yr(t,n,s,r){if(t.tag!==5)throw Error(l(476));var m=Fd(t).queue;kd(t,m,n,he,s===null?jE:function(){return Qd(t),s(r)})}function Fd(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:he},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qd(t){var n=Fd(t);n.next===null&&(n=t.alternate.memoizedState),fl(t,n.next.queue,{},Vt())}function $r(){return ct(bl)}function Jd(){return Xe().memoizedState}function Yd(){return Xe().memoizedState}function eC(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Vt();t=Kn(s);var r=Xn(n,t,s);r!==null&&(Rt(r,n,s),sl(r,n,s)),n={cache:_r()},t.payload=n;return}n=n.return}}function tC(t,n,s){var r=Vt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ns(t)?Kd(n,s):(s=dr(t,n,s,r),s!==null&&(Rt(s,t,r),Xd(s,n,r)))}function $d(t,n,s){var r=Vt();fl(t,n,s,r)}function fl(t,n,s,r){var m={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ns(t))Kd(n,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var T=n.lastRenderedState,C=p(T,s);if(m.hasEagerState=!0,m.eagerState=C,qt(C,T))return as(t,n,m,0),Oe===null&&ss(),!1}catch{}finally{}if(s=dr(t,n,m,r),s!==null)return Rt(s,t,r),Xd(s,n,r),!0}return!1}function Kr(t,n,s,r){if(r={lane:2,revertLane:Nu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ns(t)){if(n)throw Error(l(479))}else n=dr(t,s,r,2),n!==null&&Rt(n,t,2)}function Ns(t){var n=t.alternate;return t===Ee||n!==null&&n===Ee}function Kd(t,n){mo=Ts=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Xd(t,n,s){if((s&4194048)!==0){var r=n.lanes;r&=t.pendingLanes,s|=r,n.lanes=s,ef(t,s)}}var dl={readContext:ct,use:_s,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};dl.useEffectEvent=Ye;var Zd={readContext:ct,use:_s,useCallback:function(t,n){return vt().memoizedState=[t,n===void 0?null:n],t},useContext:ct,useEffect:Ud,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,ws(4194308,4,zd.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ws(4194308,4,t,n)},useInsertionEffect:function(t,n){ws(4,2,t,n)},useMemo:function(t,n){var s=vt();n=n===void 0?null:n;var r=t();if(Ii){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(t,n,s){var r=vt();if(s!==void 0){var m=s(n);if(Ii){Vn(!0);try{s(n)}finally{Vn(!1)}}}else m=n;return r.memoizedState=r.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},r.queue=t,t=t.dispatch=tC.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var n=vt();return t={current:t},n.memoizedState=t},useState:function(t){t=Or(t);var n=t.queue,s=$d.bind(null,Ee,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Qr,useDeferredValue:function(t,n){var s=vt();return Jr(s,t,n)},useTransition:function(){var t=Or(!1);return t=kd.bind(null,Ee,t.queue,!0,!1),vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var r=Ee,m=vt();if(be){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Oe===null)throw Error(l(349));(xe&127)!==0||vd(r,n,s)}m.memoizedState=s;var p={value:s,getSnapshot:n};return m.queue=p,Ud(Td.bind(null,r,p,t),[t]),r.flags|=2048,po(9,{destroy:void 0},Sd.bind(null,r,p,s,n),null),s},useId:function(){var t=vt(),n=Oe.identifierPrefix;if(be){var s=fn,r=cn;s=(r&~(1<<32-Ut(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Es++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=$E++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:$r,useFormState:Rd,useActionState:Rd,useOptimistic:function(t){var n=vt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Kr.bind(null,Ee,!0,s),s.dispatch=n,[t,n]},useMemoCache:Gr,useCacheRefresh:function(){return vt().memoizedState=eC.bind(null,Ee)},useEffectEvent:function(t){var n=vt(),s={impl:t};return n.memoizedState=s,function(){if((Ue&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Xr={readContext:ct,use:_s,useCallback:Hd,useContext:ct,useEffect:Fr,useImperativeHandle:Gd,useInsertionEffect:Pd,useLayoutEffect:Bd,useMemo:Vd,useReducer:As,useRef:Ld,useState:function(){return As(An)},useDebugValue:Qr,useDeferredValue:function(t,n){var s=Xe();return Od(s,Ge.memoizedState,t,n)},useTransition:function(){var t=As(An)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:yd,useId:Jd,useHostTransitionStatus:$r,useFormState:Md,useActionState:Md,useOptimistic:function(t,n){var s=Xe();return _d(s,Ge,t,n)},useMemoCache:Gr,useCacheRefresh:Yd};Xr.useEffectEvent=qd;var Wd={readContext:ct,use:_s,useCallback:Hd,useContext:ct,useEffect:Fr,useImperativeHandle:Gd,useInsertionEffect:Pd,useLayoutEffect:Bd,useMemo:Vd,useReducer:Vr,useRef:Ld,useState:function(){return Vr(An)},useDebugValue:Qr,useDeferredValue:function(t,n){var s=Xe();return Ge===null?Jr(s,t,n):Od(s,Ge.memoizedState,t,n)},useTransition:function(){var t=Vr(An)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:yd,useId:Jd,useHostTransitionStatus:$r,useFormState:Id,useActionState:Id,useOptimistic:function(t,n){var s=Xe();return Ge!==null?_d(s,Ge,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Gr,useCacheRefresh:Yd};Wd.useEffectEvent=qd;function Zr(t,n,s,r){n=t.memoizedState,s=s(r,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Wr={enqueueSetState:function(t,n,s){t=t._reactInternals;var r=Vt(),m=Kn(r);m.payload=n,s!=null&&(m.callback=s),n=Xn(t,m,r),n!==null&&(Rt(n,t,r),sl(n,t,r))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var r=Vt(),m=Kn(r);m.tag=1,m.payload=n,s!=null&&(m.callback=s),n=Xn(t,m,r),n!==null&&(Rt(n,t,r),sl(n,t,r))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Vt(),r=Kn(s);r.tag=2,n!=null&&(r.callback=n),n=Xn(t,r,s),n!==null&&(Rt(n,t,s),sl(n,t,s))}};function jd(t,n,s,r,m,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,p,T):n.prototype&&n.prototype.isPureReactComponent?!Wo(s,r)||!Wo(m,p):!0}function em(t,n,s,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==t&&Wr.enqueueReplaceState(n,n.state,null)}function Li(t,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var m in t)s[m]===void 0&&(s[m]=t[m])}return s}function tm(t){ls(t)}function nm(t){console.error(t)}function im(t){ls(t)}function bs(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function om(t,n,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function jr(t,n,s){return s=Kn(s),s.tag=3,s.payload={element:null},s.callback=function(){bs(t,n)},s}function lm(t){return t=Kn(t),t.tag=3,t}function sm(t,n,s,r){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var p=r.value;t.payload=function(){return m(p)},t.callback=function(){om(n,s,r)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){om(n,s,r),typeof m!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function nC(t,n,s,r,m){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&so(n,s,m,!0),s=Bt.current,s!==null){switch(s.tag){case 31:case 13:return Zt===null?Hs():s.alternate===null&&$e===0&&($e=3),s.flags&=-257,s.flags|=65536,s.lanes=m,r===ps?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),Au(t,r,m)),!1;case 22:return s.flags|=65536,r===ps?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),Au(t,r,m)),!1}throw Error(l(435,s.tag))}return Au(t,r,m),Hs(),!1}if(be)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,r!==vr&&(t=Error(l(422),{cause:r}),tl(Yt(t,s)))):(r!==vr&&(n=Error(l(423),{cause:r}),tl(Yt(n,s))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,r=Yt(r,s),m=jr(t.stateNode,r,m),Rr(t,m),$e!==4&&($e=2)),!1;var p=Error(l(520),{cause:r});if(p=Yt(p,s),Tl===null?Tl=[p]:Tl.push(p),$e!==4&&($e=2),n===null)return!0;r=Yt(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=m&-m,s.lanes|=t,t=jr(s.stateNode,r,t),Rr(s,t),!1;case 1:if(n=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ni===null||!ni.has(p))))return s.flags|=65536,m&=-m,s.lanes|=m,m=lm(m),sm(m,t,s,r),Rr(s,m),!1}s=s.return}while(s!==null);return!1}var eu=Error(l(461)),et=!1;function ft(t,n,s,r){n.child=t===null?cd(n,null,s,r):Di(n,t.child,s,r)}function am(t,n,s,r,m){s=s.render;var p=n.ref;if("ref"in r){var T={};for(var C in r)C!=="ref"&&(T[C]=r[C])}else T=r;return Ni(n),r=qr(t,n,s,T,p,m),C=Pr(),t!==null&&!et?(Br(t,n,m),wn(t,n,m)):(be&&C&&gr(n),n.flags|=1,ft(t,n,r,m),n.child)}function rm(t,n,s,r,m){if(t===null){var p=s.type;return typeof p=="function"&&!mr(p)&&p.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=p,um(t,n,p,r,m)):(t=us(s.type,null,r,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!ru(t,m)){var T=p.memoizedProps;if(s=s.compare,s=s!==null?s:Wo,s(T,r)&&t.ref===n.ref)return wn(t,n,m)}return n.flags|=1,t=Sn(p,r),t.ref=n.ref,t.return=n,n.child=t}function um(t,n,s,r,m){if(t!==null){var p=t.memoizedProps;if(Wo(p,r)&&t.ref===n.ref)if(et=!1,n.pendingProps=r=p,ru(t,m))(t.flags&131072)!==0&&(et=!0);else return n.lanes=t.lanes,wn(t,n,m)}return tu(t,n,s,r,m)}function cm(t,n,s,r){var m=r.children,p=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,t!==null){for(r=n.child=t.child,m=0;r!==null;)m=m|r.lanes|r.childLanes,r=r.sibling;r=m&~p}else r=0,n.child=null;return fm(t,n,p,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ms(n,p!==null?p.cachePool:null),p!==null?md(n,p):Dr(),hd(n);else return r=n.lanes=536870912,fm(t,n,p!==null?p.baseLanes|s:s,s,r)}else p!==null?(ms(n,p.cachePool),md(n,p),Wn(),n.memoizedState=null):(t!==null&&ms(n,null),Dr(),Wn());return ft(t,n,m,s),n.child}function ml(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fm(t,n,s,r,m){var p=wr();return p=p===null?null:{parent:We._currentValue,pool:p},n.memoizedState={baseLanes:s,cachePool:p},t!==null&&ms(n,null),Dr(),hd(n),t!==null&&so(t,n,r,!0),n.childLanes=m,null}function Rs(t,n){return n=Ds({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dm(t,n,s){return Di(n,t.child,null,s),t=Rs(n,n.pendingProps),t.flags|=2,zt(n),n.memoizedState=null,t}function iC(t,n,s){var r=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(be){if(r.mode==="hidden")return t=Rs(n,r),n.lanes=536870912,ml(null,t);if(Lr(n),(t=ke)?(t=Ah(t,Xt),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},s=Kf(t),s.return=n,n.child=s,ut=n,ke=null)):t=null,t===null)throw Jn(n);return n.lanes=536870912,null}return Rs(n,r)}var p=t.memoizedState;if(p!==null){var T=p.dehydrated;if(Lr(n),m)if(n.flags&256)n.flags&=-257,n=dm(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(et||so(t,n,s,!1),m=(s&t.childLanes)!==0,et||m){if(r=Oe,r!==null&&(T=tf(r,s),T!==0&&T!==p.retryLane))throw p.retryLane=T,_i(t,T),Rt(r,t,T),eu;Hs(),n=dm(t,n,s)}else t=p.treeContext,ke=Wt(T.nextSibling),ut=n,be=!0,Qn=null,Xt=!1,t!==null&&Wf(n,t),n=Rs(n,r),n.flags|=4096;return n}return t=Sn(t.child,{mode:r.mode,children:r.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ms(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function tu(t,n,s,r,m){return Ni(n),s=qr(t,n,s,r,void 0,m),r=Pr(),t!==null&&!et?(Br(t,n,m),wn(t,n,m)):(be&&r&&gr(n),n.flags|=1,ft(t,n,s,m),n.child)}function mm(t,n,s,r,m,p){return Ni(n),n.updateQueue=null,s=gd(n,r,s,m),pd(t),r=Pr(),t!==null&&!et?(Br(t,n,p),wn(t,n,p)):(be&&r&&gr(n),n.flags|=1,ft(t,n,s,p),n.child)}function hm(t,n,s,r,m){if(Ni(n),n.stateNode===null){var p=no,T=s.contextType;typeof T=="object"&&T!==null&&(p=ct(T)),p=new s(r,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Wr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=r,p.state=n.memoizedState,p.refs={},Nr(n),T=s.contextType,p.context=typeof T=="object"&&T!==null?ct(T):no,p.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Zr(n,s,T,r),p.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Wr.enqueueReplaceState(p,p.state,null),rl(n,r,p,m),al(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(t===null){p=n.stateNode;var C=n.memoizedProps,x=Li(s,C);p.props=x;var q=p.context,O=s.contextType;T=no,typeof O=="object"&&O!==null&&(T=ct(O));var J=s.getDerivedStateFromProps;O=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||q!==T)&&em(n,p,r,T),$n=!1;var P=n.memoizedState;p.state=P,rl(n,r,p,m),al(),q=n.memoizedState,C||P!==q||$n?(typeof J=="function"&&(Zr(n,s,J,r),q=n.memoizedState),(x=$n||jd(n,s,x,r,P,q,T))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=q),p.props=r,p.state=q,p.context=T,r=x):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{p=n.stateNode,br(t,n),T=n.memoizedProps,O=Li(s,T),p.props=O,J=n.pendingProps,P=p.context,q=s.contextType,x=no,typeof q=="object"&&q!==null&&(x=ct(q)),C=s.getDerivedStateFromProps,(q=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==J||P!==x)&&em(n,p,r,x),$n=!1,P=n.memoizedState,p.state=P,rl(n,r,p,m),al();var z=n.memoizedState;T!==J||P!==z||$n||t!==null&&t.dependencies!==null&&fs(t.dependencies)?(typeof C=="function"&&(Zr(n,s,C,r),z=n.memoizedState),(O=$n||jd(n,s,O,r,P,z,x)||t!==null&&t.dependencies!==null&&fs(t.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,z,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,z,x)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=z),p.props=r,p.state=z,p.context=x,r=O):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),r=!1)}return p=r,Ms(t,n),r=(n.flags&128)!==0,p||r?(p=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&r?(n.child=Di(n,t.child,null,m),n.child=Di(n,null,s,m)):ft(t,n,s,m),n.memoizedState=p.state,t=n.child):t=wn(t,n,m),t}function pm(t,n,s,r){return wi(),n.flags|=256,ft(t,n,s,r),n.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(t){return{baseLanes:t,cachePool:od()}}function ou(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Ht),t}function gm(t,n,s){var r=n.pendingProps,m=!1,p=(n.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),T&&(m=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(be){if(m?Zn(n):Wn(),(t=ke)?(t=Ah(t,Xt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},s=Kf(t),s.return=n,n.child=s,ut=n,ke=null)):t=null,t===null)throw Jn(n);return Hu(t)?n.lanes=32:n.lanes=536870912,null}var C=r.children;return r=r.fallback,m?(Wn(),m=n.mode,C=Ds({mode:"hidden",children:C},m),r=Ai(r,m,s,null),C.return=n,r.return=n,C.sibling=r,n.child=C,r=n.child,r.memoizedState=iu(s),r.childLanes=ou(t,T,s),n.memoizedState=nu,ml(null,r)):(Zn(n),lu(n,C))}var x=t.memoizedState;if(x!==null&&(C=x.dehydrated,C!==null)){if(p)n.flags&256?(Zn(n),n.flags&=-257,n=su(t,n,s)):n.memoizedState!==null?(Wn(),n.child=t.child,n.flags|=128,n=null):(Wn(),C=r.fallback,m=n.mode,r=Ds({mode:"visible",children:r.children},m),C=Ai(C,m,s,null),C.flags|=2,r.return=n,C.return=n,r.sibling=C,n.child=r,Di(n,t.child,null,s),r=n.child,r.memoizedState=iu(s),r.childLanes=ou(t,T,s),n.memoizedState=nu,n=ml(null,r));else if(Zn(n),Hu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var q=T.dgst;T=q,r=Error(l(419)),r.stack="",r.digest=T,tl({value:r,source:null,stack:null}),n=su(t,n,s)}else if(et||so(t,n,s,!1),T=(s&t.childLanes)!==0,et||T){if(T=Oe,T!==null&&(r=tf(T,s),r!==0&&r!==x.retryLane))throw x.retryLane=r,_i(t,r),Rt(T,t,r),eu;Gu(C)||Hs(),n=su(t,n,s)}else Gu(C)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,ke=Wt(C.nextSibling),ut=n,be=!0,Qn=null,Xt=!1,t!==null&&Wf(n,t),n=lu(n,r.children),n.flags|=4096);return n}return m?(Wn(),C=r.fallback,m=n.mode,x=t.child,q=x.sibling,r=Sn(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,q!==null?C=Sn(q,C):(C=Ai(C,m,s,null),C.flags|=2),C.return=n,r.return=n,r.sibling=C,n.child=r,ml(null,r),r=n.child,C=t.child.memoizedState,C===null?C=iu(s):(m=C.cachePool,m!==null?(x=We._currentValue,m=m.parent!==x?{parent:x,pool:x}:m):m=od(),C={baseLanes:C.baseLanes|s,cachePool:m}),r.memoizedState=C,r.childLanes=ou(t,T,s),n.memoizedState=nu,ml(t.child,r)):(Zn(n),s=t.child,t=s.sibling,s=Sn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function lu(t,n){return n=Ds({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ds(t,n){return t=Pt(22,t,null,n),t.lanes=0,t}function su(t,n,s){return Di(n,t.child,null,s),t=lu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ym(t,n,s){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),Er(t.return,n,s)}function au(t,n,s,r,m,p){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:m,treeForkCount:p}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=r,T.tail=s,T.tailMode=m,T.treeForkCount=p)}function vm(t,n,s){var r=n.pendingProps,m=r.revealOrder,p=r.tail;r=r.children;var T=Ke.current,C=(T&2)!==0;if(C?(T=T&1|2,n.flags|=128):T&=1,oe(Ke,T),ft(t,n,r,s),r=be?el:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ym(t,s,n);else if(t.tag===19)ym(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(s=n.child,m=null;s!==null;)t=s.alternate,t!==null&&Ss(t)===null&&(m=s),s=s.sibling;s=m,s===null?(m=n.child,n.child=null):(m=s.sibling,s.sibling=null),au(n,!1,m,s,p,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&Ss(t)===null){n.child=m;break}t=m.sibling,m.sibling=s,s=m,m=t}au(n,!0,s,null,p,r);break;case"together":au(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function wn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ti|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(so(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,s=Sn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Sn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function ru(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fs(t)))}function oC(t,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Yn(n,We,t.memoizedState.cache),wi();break;case 27:case 5:Ze(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Yn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Lr(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Zn(n),n.flags|=128,null):(s&n.child.childLanes)!==0?gm(t,n,s):(Zn(n),t=wn(t,n,s),t!==null?t.sibling:null);Zn(n);break;case 19:var m=(t.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(so(t,n,s,!1),r=(s&n.childLanes)!==0),m){if(r)return vm(t,n,s);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(Ke,Ke.current),r)break;return null;case 22:return n.lanes=0,cm(t,n,s,n.pendingProps);case 24:Yn(n,We,t.memoizedState.cache)}return wn(t,n,s)}function Sm(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)et=!0;else{if(!ru(t,s)&&(n.flags&128)===0)return et=!1,oC(t,n,s);et=(t.flags&131072)!==0}else et=!1,be&&(n.flags&1048576)!==0&&Zf(n,el,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(t=Ri(n.elementType),n.type=t,typeof t=="function")mr(t)?(r=Li(t,r),n.tag=1,n=hm(null,n,t,r,s)):(n.tag=0,n=tu(null,n,t,r,s));else{if(t!=null){var m=t.$$typeof;if(m===K){n.tag=11,n=am(null,n,t,r,s);break e}else if(m===V){n.tag=14,n=rm(null,n,t,r,s);break e}}throw n=Te(t)||t,Error(l(306,n,""))}}return n;case 0:return tu(t,n,n.type,n.pendingProps,s);case 1:return r=n.type,m=Li(r,n.pendingProps),hm(t,n,r,m,s);case 3:e:{if(ye(n,n.stateNode.containerInfo),t===null)throw Error(l(387));r=n.pendingProps;var p=n.memoizedState;m=p.element,br(t,n),rl(n,r,null,s);var T=n.memoizedState;if(r=T.cache,Yn(n,We,r),r!==p.cache&&Cr(n,[We],s,!0),al(),r=T.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=pm(t,n,r,s);break e}else if(r!==m){m=Yt(Error(l(424)),n),tl(m),n=pm(t,n,r,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ke=Wt(t.firstChild),ut=n,be=!0,Qn=null,Xt=!0,s=cd(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wi(),r===m){n=wn(t,n,s);break e}ft(t,n,r,s)}n=n.child}return n;case 26:return Ms(t,n),t===null?(s=Mh(n.type,null,n.pendingProps,null))?n.memoizedState=s:be||(s=n.type,t=n.pendingProps,r=Ys(_e.current).createElement(s),r[rt]=n,r[_t]=t,dt(r,s,t),lt(r),n.stateNode=r):n.memoizedState=Mh(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ze(n),t===null&&be&&(r=n.stateNode=Nh(n.type,n.pendingProps,_e.current),ut=n,Xt=!0,m=ke,si(n.type)?(Vu=m,ke=Wt(r.firstChild)):ke=m),ft(t,n,n.pendingProps.children,s),Ms(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&be&&((m=r=ke)&&(r=UC(r,n.type,n.pendingProps,Xt),r!==null?(n.stateNode=r,ut=n,ke=Wt(r.firstChild),Xt=!1,m=!0):m=!1),m||Jn(n)),Ze(n),m=n.type,p=n.pendingProps,T=t!==null?t.memoizedProps:null,r=p.children,Pu(m,p)?r=null:T!==null&&Pu(m,T)&&(n.flags|=32),n.memoizedState!==null&&(m=qr(t,n,KE,null,null,s),bl._currentValue=m),Ms(t,n),ft(t,n,r,s),n.child;case 6:return t===null&&be&&((t=s=ke)&&(s=qC(s,n.pendingProps,Xt),s!==null?(n.stateNode=s,ut=n,ke=null,t=!0):t=!1),t||Jn(n)),null;case 13:return gm(t,n,s);case 4:return ye(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=Di(n,null,r,s):ft(t,n,r,s),n.child;case 11:return am(t,n,n.type,n.pendingProps,s);case 7:return ft(t,n,n.pendingProps,s),n.child;case 8:return ft(t,n,n.pendingProps.children,s),n.child;case 12:return ft(t,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,Yn(n,n.type,r.value),ft(t,n,r.children,s),n.child;case 9:return m=n.type._context,r=n.pendingProps.children,Ni(n),m=ct(m),r=r(m),n.flags|=1,ft(t,n,r,s),n.child;case 14:return rm(t,n,n.type,n.pendingProps,s);case 15:return um(t,n,n.type,n.pendingProps,s);case 19:return vm(t,n,s);case 31:return iC(t,n,s);case 22:return cm(t,n,s,n.pendingProps);case 24:return Ni(n),r=ct(We),t===null?(m=wr(),m===null&&(m=Oe,p=_r(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=s),m=p),n.memoizedState={parent:r,cache:m},Nr(n),Yn(n,We,m)):((t.lanes&s)!==0&&(br(t,n),rl(n,null,null,s),al()),m=t.memoizedState,p=n.memoizedState,m.parent!==r?(m={parent:r,cache:r},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Yn(n,We,r)):(r=p.cache,Yn(n,We,r),r!==m.cache&&Cr(n,[We],s,!0))),ft(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function xn(t){t.flags|=4}function uu(t,n,s,r,m){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Jm())t.flags|=8192;else throw Mi=ps,xr}else t.flags&=-16777217}function Tm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qh(n))if(Jm())t.flags|=8192;else throw Mi=ps,xr}function Is(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Wc():536870912,t.lanes|=n,So|=n)}function hl(t,n){if(!be)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(n)for(var m=t.child;m!==null;)s|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)s|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=r,t.childLanes=s,n}function lC(t,n,s){var r=n.pendingProps;switch(yr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return s=n.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Cn(We),Re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(lo(n)?xn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sr())),Fe(n),null;case 26:var m=n.type,p=n.memoizedState;return t===null?(xn(n),p!==null?(Fe(n),Tm(n,p)):(Fe(n),uu(n,m,null,r,s))):p?p!==t.memoizedState?(xn(n),Fe(n),Tm(n,p)):(Fe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==r&&xn(n),Fe(n),uu(n,m,t,r,s)),null;case 27:if(Hn(n),s=_e.current,m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&xn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Fe(n),null}t=ce.current,lo(n)?jf(n):(t=Nh(m,r,s),n.stateNode=t,xn(n))}return Fe(n),null;case 5:if(Hn(n),m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&xn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Fe(n),null}if(p=ce.current,lo(n))jf(n);else{var T=Ys(_e.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof r.is=="string"?T.createElement("select",{is:r.is}):T.createElement("select"),r.multiple?p.multiple=!0:r.size&&(p.size=r.size);break;default:p=typeof r.is=="string"?T.createElement(m,{is:r.is}):T.createElement(m)}}p[rt]=n,p[_t]=r;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=p;e:switch(dt(p,m,r),m){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xn(n)}}return Fe(n),uu(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==r&&xn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(t=_e.current,lo(n)){if(t=n.stateNode,s=n.memoizedProps,r=null,m=ut,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}t[rt]=n,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||gh(t.nodeValue,s)),t||Jn(n,!0)}else t=Ys(t).createTextNode(r),t[rt]=n,n.stateNode=t}return Fe(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(r=lo(n),s!==null){if(t===null){if(!r)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[rt]=n}else wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),t=!1}else s=Sr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(zt(n),n):(zt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Fe(n),null;case 13:if(r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=lo(n),r!==null&&r.dehydrated!==null){if(t===null){if(!m)throw Error(l(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[rt]=n}else wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),m=!1}else m=Sr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(zt(n),n):(zt(n),null)}return zt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,t=t!==null&&t.memoizedState!==null,s&&(r=n.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool),p=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==m&&(r.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Is(n,n.updateQueue),Fe(n),null);case 4:return Re(),t===null&&Du(n.stateNode.containerInfo),Fe(n),null;case 10:return Cn(n.type),Fe(n),null;case 19:if($(Ke),r=n.memoizedState,r===null)return Fe(n),null;if(m=(n.flags&128)!==0,p=r.rendering,p===null)if(m)hl(r,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=Ss(t),p!==null){for(n.flags|=128,hl(r,!1),t=p.updateQueue,n.updateQueue=t,Is(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)$f(s,t),s=s.sibling;return oe(Ke,Ke.current&1|2),be&&Tn(n,r.treeForkCount),n.child}t=t.sibling}r.tail!==null&&It()>Bs&&(n.flags|=128,m=!0,hl(r,!1),n.lanes=4194304)}else{if(!m)if(t=Ss(p),t!==null){if(n.flags|=128,m=!0,t=t.updateQueue,n.updateQueue=t,Is(n,t),hl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!p.alternate&&!be)return Fe(n),null}else 2*It()-r.renderingStartTime>Bs&&s!==536870912&&(n.flags|=128,m=!0,hl(r,!1),n.lanes=4194304);r.isBackwards?(p.sibling=n.child,n.child=p):(t=r.last,t!==null?t.sibling=p:n.child=p,r.last=p)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=It(),t.sibling=null,s=Ke.current,oe(Ke,m?s&1|2:s&1),be&&Tn(n,r.treeForkCount),t):(Fe(n),null);case 22:case 23:return zt(n),Ir(),r=n.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),s=n.updateQueue,s!==null&&Is(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),t!==null&&$(bi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Cn(We),Fe(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function sC(t,n){switch(yr(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Cn(We),Re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hn(n),null;case 31:if(n.memoizedState!==null){if(zt(n),n.alternate===null)throw Error(l(340));wi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));wi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Ke),null;case 4:return Re(),null;case 10:return Cn(n.type),null;case 22:case 23:return zt(n),Ir(),t!==null&&$(bi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Cn(We),null;case 25:return null;default:return null}}function Em(t,n){switch(yr(n),n.tag){case 3:Cn(We),Re();break;case 26:case 27:case 5:Hn(n);break;case 4:Re();break;case 31:n.memoizedState!==null&&zt(n);break;case 13:zt(n);break;case 19:$(Ke);break;case 10:Cn(n.type);break;case 22:case 23:zt(n),Ir(),t!==null&&$(bi);break;case 24:Cn(We)}}function pl(t,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var m=r.next;s=m;do{if((s.tag&t)===t){r=void 0;var p=s.create,T=s.inst;r=p(),T.destroy=r}s=s.next}while(s!==m)}}catch(C){ze(n,n.return,C)}}function jn(t,n,s){try{var r=n.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var p=m.next;r=p;do{if((r.tag&t)===t){var T=r.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,m=n;var x=s,q=C;try{q()}catch(O){ze(m,x,O)}}}r=r.next}while(r!==p)}}catch(O){ze(n,n.return,O)}}function Cm(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{dd(n,s)}catch(r){ze(t,t.return,r)}}}function _m(t,n,s){s.props=Li(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){ze(t,n,r)}}function gl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(m){ze(t,n,m)}}function dn(t,n){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(m){ze(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){ze(t,n,m)}else s.current=null}function Am(t){var n=t.type,s=t.memoizedProps,r=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(m){ze(t,t.return,m)}}function cu(t,n,s){try{var r=t.stateNode;bC(r,t.type,s,n),r[_t]=n}catch(m){ze(t,t.return,m)}}function wm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&si(t.type)||t.tag===4}function fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&si(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function du(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=yn));else if(r!==4&&(r===27&&si(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(du(t,n,s),t=t.sibling;t!==null;)du(t,n,s),t=t.sibling}function Ls(t,n,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(r!==4&&(r===27&&si(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ls(t,n,s),t=t.sibling;t!==null;)Ls(t,n,s),t=t.sibling}function xm(t){var n=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);dt(n,r,s),n[rt]=t,n[_t]=s}catch(p){ze(t,t.return,p)}}var Nn=!1,tt=!1,mu=!1,Nm=typeof WeakSet=="function"?WeakSet:Set,st=null;function aC(t,n){if(t=t.containerInfo,Uu=ea,t=Gf(t),sr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var m=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var T=0,C=-1,x=-1,q=0,O=0,J=t,P=null;t:for(;;){for(var z;J!==s||m!==0&&J.nodeType!==3||(C=T+m),J!==p||r!==0&&J.nodeType!==3||(x=T+r),J.nodeType===3&&(T+=J.nodeValue.length),(z=J.firstChild)!==null;)P=J,J=z;for(;;){if(J===t)break t;if(P===s&&++q===m&&(C=T),P===p&&++O===r&&(x=T),(z=J.nextSibling)!==null)break;J=P,P=J.parentNode}J=z}s=C===-1||x===-1?null:{start:C,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(qu={focusedElem:t,selectionRange:s},ea=!1,st=n;st!==null;)if(n=st,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,st=t;else for(;st!==null;){switch(n=st,p=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)m=t[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=n,m=p.memoizedProps,p=p.memoizedState,r=s.stateNode;try{var ue=Li(s.type,m);t=r.getSnapshotBeforeUpdate(ue,p),r.__reactInternalSnapshotBeforeUpdate=t}catch(ge){ze(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)zu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,st=t;break}st=n.return}}function bm(t,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Rn(t,s),r&4&&pl(5,s);break;case 1:if(Rn(t,s),r&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){ze(s,s.return,T)}else{var m=Li(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){ze(s,s.return,T)}}r&64&&Cm(s),r&512&&gl(s,s.return);break;case 3:if(Rn(t,s),r&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{dd(t,n)}catch(T){ze(s,s.return,T)}}break;case 27:n===null&&r&4&&xm(s);case 26:case 5:Rn(t,s),n===null&&r&4&&Am(s),r&512&&gl(s,s.return);break;case 12:Rn(t,s);break;case 31:Rn(t,s),r&4&&Dm(t,s);break;case 13:Rn(t,s),r&4&&Im(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=gC.bind(null,s),PC(t,s))));break;case 22:if(r=s.memoizedState!==null||Nn,!r){n=n!==null&&n.memoizedState!==null||tt,m=Nn;var p=tt;Nn=r,(tt=n)&&!p?Mn(t,s,(s.subtreeFlags&8772)!==0):Rn(t,s),Nn=m,tt=p}break;case 30:break;default:Rn(t,s)}}function Rm(t){var n=t.alternate;n!==null&&(t.alternate=null,Rm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ka(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,wt=!1;function bn(t,n,s){for(s=s.child;s!==null;)Mm(t,n,s),s=s.sibling}function Mm(t,n,s){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Ho,s)}catch{}switch(s.tag){case 26:tt||dn(s,n),bn(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tt||dn(s,n);var r=Je,m=wt;si(s.type)&&(Je=s.stateNode,wt=!1),bn(t,n,s),wl(s.stateNode),Je=r,wt=m;break;case 5:tt||dn(s,n);case 6:if(r=Je,m=wt,Je=null,bn(t,n,s),Je=r,wt=m,Je!==null)if(wt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(s.stateNode)}catch(p){ze(s,n,p)}else try{Je.removeChild(s.stateNode)}catch(p){ze(s,n,p)}break;case 18:Je!==null&&(wt?(t=Je,Ch(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),No(t)):Ch(Je,s.stateNode));break;case 4:r=Je,m=wt,Je=s.stateNode.containerInfo,wt=!0,bn(t,n,s),Je=r,wt=m;break;case 0:case 11:case 14:case 15:jn(2,s,n),tt||jn(4,s,n),bn(t,n,s);break;case 1:tt||(dn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&_m(s,n,r)),bn(t,n,s);break;case 21:bn(t,n,s);break;case 22:tt=(r=tt)||s.memoizedState!==null,bn(t,n,s),tt=r;break;default:bn(t,n,s)}}function Dm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{No(t)}catch(s){ze(n,n.return,s)}}}function Im(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{No(t)}catch(s){ze(n,n.return,s)}}function rC(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Nm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Nm),n;default:throw Error(l(435,t.tag))}}function Us(t,n){var s=rC(t);n.forEach(function(r){if(!s.has(r)){s.add(r);var m=yC.bind(null,t,r);r.then(m,m)}})}function xt(t,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var m=s[r],p=t,T=n,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(si(C.type)){Je=C.stateNode,wt=!1;break e}break;case 5:Je=C.stateNode,wt=!1;break e;case 3:case 4:Je=C.stateNode.containerInfo,wt=!0;break e}C=C.return}if(Je===null)throw Error(l(160));Mm(p,T,m),Je=null,wt=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Lm(n,t),n=n.sibling}var sn=null;function Lm(t,n){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(n,t),Nt(t),r&4&&(jn(3,t,t.return),pl(3,t),jn(5,t,t.return));break;case 1:xt(n,t),Nt(t),r&512&&(tt||s===null||dn(s,s.return)),r&64&&Nn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var m=sn;if(xt(n,t),Nt(t),r&512&&(tt||s===null||dn(s,s.return)),r&4){var p=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){e:{r=t.type,s=t.memoizedProps,m=m.ownerDocument||m;t:switch(r){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ko]||p[rt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(r),m.head.insertBefore(p,m.querySelector("head > title"))),dt(p,r,s),p[rt]=t,lt(p),r=p;break e;case"link":var T=Lh("link","href",m).get(r+(s.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(C,1);break t}}p=m.createElement(r),dt(p,r,s),m.head.appendChild(p);break;case"meta":if(T=Lh("meta","content",m).get(r+(s.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(C,1);break t}}p=m.createElement(r),dt(p,r,s),m.head.appendChild(p);break;default:throw Error(l(468,r))}p[rt]=t,lt(p),r=p}t.stateNode=r}else Uh(m,t.type,t.stateNode);else t.stateNode=Ih(m,r,t.memoizedProps);else p!==r?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,r===null?Uh(m,t.type,t.stateNode):Ih(m,r,t.memoizedProps)):r===null&&t.stateNode!==null&&cu(t,t.memoizedProps,s.memoizedProps)}break;case 27:xt(n,t),Nt(t),r&512&&(tt||s===null||dn(s,s.return)),s!==null&&r&4&&cu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(xt(n,t),Nt(t),r&512&&(tt||s===null||dn(s,s.return)),t.flags&32){m=t.stateNode;try{Ki(m,"")}catch(ue){ze(t,t.return,ue)}}r&4&&t.stateNode!=null&&(m=t.memoizedProps,cu(t,m,s!==null?s.memoizedProps:m)),r&1024&&(mu=!0);break;case 6:if(xt(n,t),Nt(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(ue){ze(t,t.return,ue)}}break;case 3:if(Xs=null,m=sn,sn=$s(n.containerInfo),xt(n,t),sn=m,Nt(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{No(n.containerInfo)}catch(ue){ze(t,t.return,ue)}mu&&(mu=!1,Um(t));break;case 4:r=sn,sn=$s(t.stateNode.containerInfo),xt(n,t),Nt(t),sn=r;break;case 12:xt(n,t),Nt(t);break;case 31:xt(n,t),Nt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Us(t,r)));break;case 13:xt(n,t),Nt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ps=It()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Us(t,r)));break;case 22:m=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,q=Nn,O=tt;if(Nn=q||m,tt=O||x,xt(n,t),tt=O,Nn=q,Nt(t),r&8192)e:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(s===null||x||Nn||tt||Ui(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(p=x.stateNode,m)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=x.stateNode;var J=x.memoizedProps.style,P=J!=null&&J.hasOwnProperty("display")?J.display:null;C.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ue){ze(x,x.return,ue)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(ue){ze(x,x.return,ue)}}}else if(n.tag===18){if(s===null){x=n;try{var z=x.stateNode;m?_h(z,!0):_h(x.stateNode,!1)}catch(ue){ze(x,x.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Us(t,s))));break;case 19:xt(n,t),Nt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Us(t,r)));break;case 30:break;case 21:break;default:xt(n,t),Nt(t)}}function Nt(t){var n=t.flags;if(n&2){try{for(var s,r=t.return;r!==null;){if(wm(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var m=s.stateNode,p=fu(t);Ls(t,p,m);break;case 5:var T=s.stateNode;s.flags&32&&(Ki(T,""),s.flags&=-33);var C=fu(t);Ls(t,C,T);break;case 3:case 4:var x=s.stateNode.containerInfo,q=fu(t);du(t,q,x);break;default:throw Error(l(161))}}catch(O){ze(t,t.return,O)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Um(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Um(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bm(t,n.alternate,n),n=n.sibling}function Ui(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:jn(4,n,n.return),Ui(n);break;case 1:dn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&_m(n,n.return,s),Ui(n);break;case 27:wl(n.stateNode);case 26:case 5:dn(n,n.return),Ui(n);break;case 22:n.memoizedState===null&&Ui(n);break;case 30:Ui(n);break;default:Ui(n)}t=t.sibling}}function Mn(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,m=t,p=n,T=p.flags;switch(p.tag){case 0:case 11:case 15:Mn(m,p,s),pl(4,p);break;case 1:if(Mn(m,p,s),r=p,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){ze(r,r.return,q)}if(r=p,m=r.updateQueue,m!==null){var C=r.stateNode;try{var x=m.shared.hiddenCallbacks;if(x!==null)for(m.shared.hiddenCallbacks=null,m=0;m<x.length;m++)fd(x[m],C)}catch(q){ze(r,r.return,q)}}s&&T&64&&Cm(p),gl(p,p.return);break;case 27:xm(p);case 26:case 5:Mn(m,p,s),s&&r===null&&T&4&&Am(p),gl(p,p.return);break;case 12:Mn(m,p,s);break;case 31:Mn(m,p,s),s&&T&4&&Dm(m,p);break;case 13:Mn(m,p,s),s&&T&4&&Im(m,p);break;case 22:p.memoizedState===null&&Mn(m,p,s),gl(p,p.return);break;case 30:break;default:Mn(m,p,s)}n=n.sibling}}function hu(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&nl(s))}function pu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function an(t,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qm(t,n,s,r),n=n.sibling}function qm(t,n,s,r){var m=n.flags;switch(n.tag){case 0:case 11:case 15:an(t,n,s,r),m&2048&&pl(9,n);break;case 1:an(t,n,s,r);break;case 3:an(t,n,s,r),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(m&2048){an(t,n,s,r),t=n.stateNode;try{var p=n.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){ze(n,n.return,x)}}else an(t,n,s,r);break;case 31:an(t,n,s,r);break;case 13:an(t,n,s,r);break;case 23:break;case 22:p=n.stateNode,T=n.alternate,n.memoizedState!==null?p._visibility&2?an(t,n,s,r):yl(t,n):p._visibility&2?an(t,n,s,r):(p._visibility|=2,go(t,n,s,r,(n.subtreeFlags&10256)!==0||!1)),m&2048&&hu(T,n);break;case 24:an(t,n,s,r),m&2048&&pu(n.alternate,n);break;default:an(t,n,s,r)}}function go(t,n,s,r,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=t,T=n,C=s,x=r,q=T.flags;switch(T.tag){case 0:case 11:case 15:go(p,T,C,x,m),pl(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?go(p,T,C,x,m):yl(p,T):(O._visibility|=2,go(p,T,C,x,m)),m&&q&2048&&hu(T.alternate,T);break;case 24:go(p,T,C,x,m),m&&q&2048&&pu(T.alternate,T);break;default:go(p,T,C,x,m)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,r=n,m=r.flags;switch(r.tag){case 22:yl(s,r),m&2048&&hu(r.alternate,r);break;case 24:yl(s,r),m&2048&&pu(r.alternate,r);break;default:yl(s,r)}n=n.sibling}}var vl=8192;function yo(t,n,s){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)Pm(t,n,s),t=t.sibling}function Pm(t,n,s){switch(t.tag){case 26:yo(t,n,s),t.flags&vl&&t.memoizedState!==null&&$C(s,sn,t.memoizedState,t.memoizedProps);break;case 5:yo(t,n,s);break;case 3:case 4:var r=sn;sn=$s(t.stateNode.containerInfo),yo(t,n,s),sn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,yo(t,n,s),vl=r):yo(t,n,s));break;default:yo(t,n,s)}}function Bm(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];st=r,Gm(r,t)}Bm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zm(t),t=t.sibling}function zm(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&jn(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qs(t)):Sl(t);break;default:Sl(t)}}function qs(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];st=r,Gm(r,t)}Bm(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:jn(8,n,n.return),qs(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qs(n));break;default:qs(n)}t=t.sibling}}function Gm(t,n){for(;st!==null;){var s=st;switch(s.tag){case 0:case 11:case 15:jn(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:nl(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,st=r;else e:for(s=t;st!==null;){r=st;var m=r.sibling,p=r.return;if(Rm(r),r===s){st=null;break e}if(m!==null){m.return=p,st=m;break e}st=p}}}var uC={getCacheForType:function(t){var n=ct(We),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return ct(We).controller.signal}},cC=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Oe=null,Ae=null,xe=0,Be=0,Gt=null,ei=!1,vo=!1,gu=!1,Dn=0,$e=0,ti=0,qi=0,yu=0,Ht=0,So=0,Tl=null,bt=null,vu=!1,Ps=0,Hm=0,Bs=1/0,zs=null,ni=null,it=0,ii=null,To=null,In=0,Su=0,Tu=null,Vm=null,El=0,Eu=null;function Vt(){return(Ue&2)!==0&&xe!==0?xe&-xe:H.T!==null?Nu():nf()}function Om(){if(Ht===0)if((xe&536870912)===0||be){var t=Jl;Jl<<=1,(Jl&3932160)===0&&(Jl=262144),Ht=t}else Ht=536870912;return t=Bt.current,t!==null&&(t.flags|=32),Ht}function Rt(t,n,s){(t===Oe&&(Be===2||Be===9)||t.cancelPendingCommit!==null)&&(Eo(t,0),oi(t,xe,Ht,!1)),Oo(t,s),((Ue&2)===0||t!==Oe)&&(t===Oe&&((Ue&2)===0&&(qi|=s),$e===4&&oi(t,xe,Ht,!1)),mn(t))}function km(t,n,s){if((Ue&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Vo(t,n),m=r?mC(t,n):_u(t,n,!0),p=r;do{if(m===0){vo&&!r&&oi(t,n,0,!1);break}else{if(s=t.current.alternate,p&&!fC(s)){m=_u(t,n,!1),p=!1;continue}if(m===2){if(p=n,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var C=t;m=Tl;var x=C.current.memoizedState.isDehydrated;if(x&&(Eo(C,T).flags|=256),T=_u(C,T,!1),T!==2){if(gu&&!x){C.errorRecoveryDisabledLanes|=p,qi|=p,m=4;break e}p=bt,bt=m,p!==null&&(bt===null?bt=p:bt.push.apply(bt,p))}m=T}if(p=!1,m!==2)continue}}if(m===1){Eo(t,0),oi(t,n,0,!0);break}e:{switch(r=t,p=m,p){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:oi(r,n,Ht,!ei);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(m=Ps+300-It(),10<m)){if(oi(r,n,Ht,!ei),$l(r,0,!0)!==0)break e;In=n,r.timeoutHandle=Th(Fm.bind(null,r,s,bt,zs,vu,n,Ht,qi,So,ei,p,"Throttled",-0,0),m);break e}Fm(r,s,bt,zs,vu,n,Ht,qi,So,ei,p,null,-0,0)}}break}while(!0);mn(t)}function Fm(t,n,s,r,m,p,T,C,x,q,O,J,P,z){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Pm(n,p,J);var ue=(p&62914560)===p?Ps-It():(p&4194048)===p?Hm-It():0;if(ue=KC(J,ue),ue!==null){In=p,t.cancelPendingCommit=ue(Wm.bind(null,t,n,p,s,r,m,T,C,x,O,J,null,P,z)),oi(t,p,T,!q);return}}Wm(t,n,p,s,r,m,T,C,x)}function fC(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var m=s[r],p=m.getSnapshot;m=m.value;try{if(!qt(p(),m))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oi(t,n,s,r){n&=~yu,n&=~qi,t.suspendedLanes|=n,t.pingedLanes&=~n,r&&(t.warmLanes|=n),r=t.expirationTimes;for(var m=n;0<m;){var p=31-Ut(m),T=1<<p;r[p]=-1,m&=~T}s!==0&&jc(t,s,n)}function Gs(){return(Ue&6)===0?(Cl(0),!1):!0}function Cu(){if(Ae!==null){if(Be===0)var t=Ae.return;else t=Ae,En=xi=null,zr(t),co=null,ol=0,t=Ae;for(;t!==null;)Em(t.alternate,t),t=t.return;Ae=null}}function Eo(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,DC(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),In=0,Cu(),Oe=t,Ae=s=Sn(t.current,null),xe=n,Be=0,Gt=null,ei=!1,vo=Vo(t,n),gu=!1,So=Ht=yu=qi=ti=$e=0,bt=Tl=null,vu=!1,(n&8)!==0&&(n|=n&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=n;0<r;){var m=31-Ut(r),p=1<<m;n|=t[m],r&=~p}return Dn=n,ss(),s}function Qm(t,n){Ee=null,H.H=dl,n===uo||n===hs?(n=ad(),Be=3):n===xr?(n=ad(),Be=4):Be=n===eu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gt=n,Ae===null&&($e=1,bs(t,Yt(n,t.current)))}function Jm(){var t=Bt.current;return t===null?!0:(xe&4194048)===xe?Zt===null:(xe&62914560)===xe||(xe&536870912)!==0?t===Zt:!1}function Ym(){var t=H.H;return H.H=dl,t===null?dl:t}function $m(){var t=H.A;return H.A=uC,t}function Hs(){$e=4,ei||(xe&4194048)!==xe&&Bt.current!==null||(vo=!0),(ti&134217727)===0&&(qi&134217727)===0||Oe===null||oi(Oe,xe,Ht,!1)}function _u(t,n,s){var r=Ue;Ue|=2;var m=Ym(),p=$m();(Oe!==t||xe!==n)&&(zs=null,Eo(t,n)),n=!1;var T=$e;e:do try{if(Be!==0&&Ae!==null){var C=Ae,x=Gt;switch(Be){case 8:Cu(),T=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var q=Be;if(Be=0,Gt=null,Co(t,C,x,q),s&&vo){T=0;break e}break;default:q=Be,Be=0,Gt=null,Co(t,C,x,q)}}dC(),T=$e;break}catch(O){Qm(t,O)}while(!0);return n&&t.shellSuspendCounter++,En=xi=null,Ue=r,H.H=m,H.A=p,Ae===null&&(Oe=null,xe=0,ss()),T}function dC(){for(;Ae!==null;)Km(Ae)}function mC(t,n){var s=Ue;Ue|=2;var r=Ym(),m=$m();Oe!==t||xe!==n?(zs=null,Bs=It()+500,Eo(t,n)):vo=Vo(t,n);e:do try{if(Be!==0&&Ae!==null){n=Ae;var p=Gt;t:switch(Be){case 1:Be=0,Gt=null,Co(t,n,p,1);break;case 2:case 9:if(ld(p)){Be=0,Gt=null,Xm(n);break}n=function(){Be!==2&&Be!==9||Oe!==t||(Be=7),mn(t)},p.then(n,n);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:ld(p)?(Be=0,Gt=null,Xm(n)):(Be=0,Gt=null,Co(t,n,p,7));break;case 5:var T=null;switch(Ae.tag){case 26:T=Ae.memoizedState;case 5:case 27:var C=Ae;if(T?qh(T):C.stateNode.complete){Be=0,Gt=null;var x=C.sibling;if(x!==null)Ae=x;else{var q=C.return;q!==null?(Ae=q,Vs(q)):Ae=null}break t}}Be=0,Gt=null,Co(t,n,p,5);break;case 6:Be=0,Gt=null,Co(t,n,p,6);break;case 8:Cu(),$e=6;break e;default:throw Error(l(462))}}hC();break}catch(O){Qm(t,O)}while(!0);return En=xi=null,H.H=r,H.A=m,Ue=s,Ae!==null?0:(Oe=null,xe=0,ss(),$e)}function hC(){for(;Ae!==null&&!BT();)Km(Ae)}function Km(t){var n=Sm(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,n===null?Vs(t):Ae=n}function Xm(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=mm(s,n,n.pendingProps,n.type,void 0,xe);break;case 11:n=mm(s,n,n.pendingProps,n.type.render,n.ref,xe);break;case 5:zr(n);default:Em(s,n),n=Ae=$f(n,Dn),n=Sm(s,n,Dn)}t.memoizedProps=t.pendingProps,n===null?Vs(t):Ae=n}function Co(t,n,s,r){En=xi=null,zr(n),co=null,ol=0;var m=n.return;try{if(nC(t,m,n,s,xe)){$e=1,bs(t,Yt(s,t.current)),Ae=null;return}}catch(p){if(m!==null)throw Ae=m,p;$e=1,bs(t,Yt(s,t.current)),Ae=null;return}n.flags&32768?(be||r===1?t=!0:vo||(xe&536870912)!==0?t=!1:(ei=t=!0,(r===2||r===9||r===3||r===6)&&(r=Bt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Zm(n,t)):Vs(n)}function Vs(t){var n=t;do{if((n.flags&32768)!==0){Zm(n,ei);return}t=n.return;var s=lC(n.alternate,n,Dn);if(s!==null){Ae=s;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=t}while(n!==null);$e===0&&($e=5)}function Zm(t,n){do{var s=sC(t.alternate,t);if(s!==null){s.flags&=32767,Ae=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=s}while(t!==null);$e=6,Ae=null}function Wm(t,n,s,r,m,p,T,C,x){t.cancelPendingCommit=null;do Os();while(it!==0);if((Ue&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(p=n.lanes|n.childLanes,p|=fr,YT(t,s,p,T,C,x),t===Oe&&(Ae=Oe=null,xe=0),To=n,ii=t,In=s,Su=p,Tu=m,Vm=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vC(Fl,function(){return ih(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,m=ee.p,ee.p=2,T=Ue,Ue|=4;try{aC(t,n,s)}finally{Ue=T,ee.p=m,H.T=r}}it=1,jm(),eh(),th()}}function jm(){if(it===1){it=0;var t=ii,n=To,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var r=ee.p;ee.p=2;var m=Ue;Ue|=4;try{Lm(n,t);var p=qu,T=Gf(t.containerInfo),C=p.focusedElem,x=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&zf(C.ownerDocument.documentElement,C)){if(x!==null&&sr(C)){var q=x.start,O=x.end;if(O===void 0&&(O=q),"selectionStart"in C)C.selectionStart=q,C.selectionEnd=Math.min(O,C.value.length);else{var J=C.ownerDocument||document,P=J&&J.defaultView||window;if(P.getSelection){var z=P.getSelection(),ue=C.textContent.length,ge=Math.min(x.start,ue),Ve=x.end===void 0?ge:Math.min(x.end,ue);!z.extend&&ge>Ve&&(T=Ve,Ve=ge,ge=T);var D=Bf(C,ge),N=Bf(C,Ve);if(D&&N&&(z.rangeCount!==1||z.anchorNode!==D.node||z.anchorOffset!==D.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var U=J.createRange();U.setStart(D.node,D.offset),z.removeAllRanges(),ge>Ve?(z.addRange(U),z.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),z.addRange(U))}}}}for(J=[],z=C;z=z.parentNode;)z.nodeType===1&&J.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<J.length;C++){var Q=J[C];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ea=!!Uu,qu=Uu=null}finally{Ue=m,ee.p=r,H.T=s}}t.current=n,it=2}}function eh(){if(it===2){it=0;var t=ii,n=To,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var r=ee.p;ee.p=2;var m=Ue;Ue|=4;try{bm(t,n.alternate,n)}finally{Ue=m,ee.p=r,H.T=s}}it=3}}function th(){if(it===4||it===3){it=0,zT();var t=ii,n=To,s=In,r=Vm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,To=ii=null,nh(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ni=null),Va(s),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Ho,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=H.T,m=ee.p,ee.p=2,H.T=null;try{for(var p=t.onRecoverableError,T=0;T<r.length;T++){var C=r[T];p(C.value,{componentStack:C.stack})}}finally{H.T=n,ee.p=m}}(In&3)!==0&&Os(),mn(t),m=t.pendingLanes,(s&261930)!==0&&(m&42)!==0?t===Eu?El++:(El=0,Eu=t):El=0,Cl(0)}}function nh(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function Os(){return jm(),eh(),th(),ih()}function ih(){if(it!==5)return!1;var t=ii,n=Su;Su=0;var s=Va(In),r=H.T,m=ee.p;try{ee.p=32>s?32:s,H.T=null,s=Tu,Tu=null;var p=ii,T=In;if(it=0,To=ii=null,In=0,(Ue&6)!==0)throw Error(l(331));var C=Ue;if(Ue|=4,zm(p.current),qm(p,p.current,T,s),Ue=C,Cl(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Ho,p)}catch{}return!0}finally{ee.p=m,H.T=r,nh(t,n)}}function oh(t,n,s){n=Yt(s,n),n=jr(t.stateNode,n,2),t=Xn(t,n,2),t!==null&&(Oo(t,2),mn(t))}function ze(t,n,s){if(t.tag===3)oh(t,t,s);else for(;n!==null;){if(n.tag===3){oh(n,t,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=Yt(s,t),s=lm(2),r=Xn(n,s,2),r!==null&&(sm(s,r,n,t),Oo(r,2),mn(r));break}}n=n.return}}function Au(t,n,s){var r=t.pingCache;if(r===null){r=t.pingCache=new cC;var m=new Set;r.set(n,m)}else m=r.get(n),m===void 0&&(m=new Set,r.set(n,m));m.has(s)||(gu=!0,m.add(s),t=pC.bind(null,t,n,s),n.then(t,t))}function pC(t,n,s){var r=t.pingCache;r!==null&&r.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Oe===t&&(xe&s)===s&&($e===4||$e===3&&(xe&62914560)===xe&&300>It()-Ps?(Ue&2)===0&&Eo(t,0):yu|=s,So===xe&&(So=0)),mn(t)}function lh(t,n){n===0&&(n=Wc()),t=_i(t,n),t!==null&&(Oo(t,n),mn(t))}function gC(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),lh(t,s)}function yC(t,n){var s=0;switch(t.tag){case 31:case 13:var r=t.stateNode,m=t.memoizedState;m!==null&&(s=m.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),lh(t,s)}function vC(t,n){return Go(t,n)}var ks=null,_o=null,wu=!1,Fs=!1,xu=!1,li=0;function mn(t){t!==_o&&t.next===null&&(_o===null?ks=_o=t:_o=_o.next=t),Fs=!0,wu||(wu=!0,TC())}function Cl(t,n){if(!xu&&Fs){xu=!0;do for(var s=!1,r=ks;r!==null;){if(t!==0){var m=r.pendingLanes;if(m===0)var p=0;else{var T=r.suspendedLanes,C=r.pingedLanes;p=(1<<31-Ut(42|t)+1)-1,p&=m&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,uh(r,p))}else p=xe,p=$l(r,r===Oe?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||Vo(r,p)||(s=!0,uh(r,p));r=r.next}while(s);xu=!1}}function SC(){sh()}function sh(){Fs=wu=!1;var t=0;li!==0&&MC()&&(t=li);for(var n=It(),s=null,r=ks;r!==null;){var m=r.next,p=ah(r,n);p===0?(r.next=null,s===null?ks=m:s.next=m,m===null&&(_o=s)):(s=r,(t!==0||(p&3)!==0)&&(Fs=!0)),r=m}it!==0&&it!==5||Cl(t),li!==0&&(li=0)}function ah(t,n){for(var s=t.suspendedLanes,r=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-Ut(p),C=1<<T,x=m[T];x===-1?((C&s)===0||(C&r)!==0)&&(m[T]=JT(C,n)):x<=n&&(t.expiredLanes|=C),p&=~C}if(n=Oe,s=xe,s=$l(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===n&&(Be===2||Be===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&za(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Vo(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(r!==null&&za(r),Va(s)){case 2:case 8:s=Xc;break;case 32:s=Fl;break;case 268435456:s=Zc;break;default:s=Fl}return r=rh.bind(null,t),s=Go(s,r),t.callbackPriority=n,t.callbackNode=s,n}return r!==null&&r!==null&&za(r),t.callbackPriority=2,t.callbackNode=null,2}function rh(t,n){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Os()&&t.callbackNode!==s)return null;var r=xe;return r=$l(t,t===Oe?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(km(t,r,n),ah(t,It()),t.callbackNode!=null&&t.callbackNode===s?rh.bind(null,t):null)}function uh(t,n){if(Os())return null;km(t,n,!0)}function TC(){IC(function(){(Ue&6)!==0?Go(Kc,SC):sh()})}function Nu(){if(li===0){var t=ao;t===0&&(t=Ql,Ql<<=1,(Ql&261888)===0&&(Ql=256)),li=t}return li}function ch(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wl(""+t)}function fh(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function EC(t,n,s,r,m){if(n==="submit"&&s&&s.stateNode===m){var p=ch((m[_t]||null).action),T=r.submitter;T&&(n=(n=T[_t]||null)?ch(n.formAction):T.getAttribute("formAction"),n!==null&&(p=n,T=null));var C=new ns("action","action",null,r,m);t.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(li!==0){var x=T?fh(m,T):new FormData(m);Yr(s,{pending:!0,data:x,method:m.method,action:p},null,x)}}else typeof p=="function"&&(C.preventDefault(),x=T?fh(m,T):new FormData(m),Yr(s,{pending:!0,data:x,method:m.method,action:p},p,x))},currentTarget:m}]})}}for(var bu=0;bu<cr.length;bu++){var Ru=cr[bu],CC=Ru.toLowerCase(),_C=Ru[0].toUpperCase()+Ru.slice(1);ln(CC,"on"+_C)}ln(Of,"onAnimationEnd"),ln(kf,"onAnimationIteration"),ln(Ff,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(GE,"onTransitionRun"),ln(HE,"onTransitionStart"),ln(VE,"onTransitionCancel"),ln(Qf,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function dh(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],m=r.event;r=r.listeners;e:{var p=void 0;if(n)for(var T=r.length-1;0<=T;T--){var C=r[T],x=C.instance,q=C.currentTarget;if(C=C.listener,x!==p&&m.isPropagationStopped())break e;p=C,m.currentTarget=q;try{p(m)}catch(O){ls(O)}m.currentTarget=null,p=x}else for(T=0;T<r.length;T++){if(C=r[T],x=C.instance,q=C.currentTarget,C=C.listener,x!==p&&m.isPropagationStopped())break e;p=C,m.currentTarget=q;try{p(m)}catch(O){ls(O)}m.currentTarget=null,p=x}}}}function we(t,n){var s=n[Oa];s===void 0&&(s=n[Oa]=new Set);var r=t+"__bubble";s.has(r)||(mh(n,t,2,!1),s.add(r))}function Mu(t,n,s){var r=0;n&&(r|=4),mh(s,t,r,n)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[Qs]){t[Qs]=!0,sf.forEach(function(s){s!=="selectionchange"&&(AC.has(s)||Mu(s,!1,t),Mu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Qs]||(n[Qs]=!0,Mu("selectionchange",!1,n))}}function mh(t,n,s,r){switch(Oh(n)){case 2:var m=WC;break;case 8:m=jC;break;default:m=Ju}s=m.bind(null,n,s,t),m=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),r?m!==void 0?t.addEventListener(n,s,{capture:!0,passive:m}):t.addEventListener(n,s,!0):m!==void 0?t.addEventListener(n,s,{passive:m}):t.addEventListener(n,s,!1)}function Iu(t,n,s,r,m){var p=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var C=r.stateNode.containerInfo;if(C===m)break;if(T===4)for(T=r.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;C!==null;){if(T=Fi(C),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){r=p=T;continue e}C=C.parentNode}}r=r.return}vf(function(){var q=p,O=Ka(s),J=[];e:{var P=Jf.get(t);if(P!==void 0){var z=ns,ue=t;switch(t){case"keypress":if(es(s)===0)break e;case"keydown":case"keyup":z=yE;break;case"focusin":ue="focus",z=tr;break;case"focusout":ue="blur",z=tr;break;case"beforeblur":case"afterblur":z=tr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=lE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=TE;break;case Of:case kf:case Ff:z=rE;break;case Qf:z=CE;break;case"scroll":case"scrollend":z=iE;break;case"wheel":z=AE;break;case"copy":case"cut":case"paste":z=cE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=_f;break;case"toggle":case"beforetoggle":z=xE}var ge=(n&4)!==0,Ve=!ge&&(t==="scroll"||t==="scrollend"),D=ge?P!==null?P+"Capture":null:P;ge=[];for(var N=q,U;N!==null;){var Q=N;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||D===null||(Q=Qo(N,D),Q!=null&&ge.push(Al(N,Q,U))),Ve)break;N=N.return}0<ge.length&&(P=new z(P,ue,null,s,O),J.push({event:P,listeners:ge}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",P&&s!==$a&&(ue=s.relatedTarget||s.fromElement)&&(Fi(ue)||ue[ki]))break e;if((z||P)&&(P=O.window===O?O:(P=O.ownerDocument)?P.defaultView||P.parentWindow:window,z?(ue=s.relatedTarget||s.toElement,z=q,ue=ue?Fi(ue):null,ue!==null&&(Ve=u(ue),ge=ue.tag,ue!==Ve||ge!==5&&ge!==27&&ge!==6)&&(ue=null)):(z=null,ue=q),z!==ue)){if(ge=Ef,Q="onMouseLeave",D="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ge=_f,Q="onPointerLeave",D="onPointerEnter",N="pointer"),Ve=z==null?P:Fo(z),U=ue==null?P:Fo(ue),P=new ge(Q,N+"leave",z,s,O),P.target=Ve,P.relatedTarget=U,Q=null,Fi(O)===q&&(ge=new ge(D,N+"enter",ue,s,O),ge.target=U,ge.relatedTarget=Ve,Q=ge),Ve=Q,z&&ue)t:{for(ge=wC,D=z,N=ue,U=0,Q=D;Q;Q=ge(Q))U++;Q=0;for(var me=N;me;me=ge(me))Q++;for(;0<U-Q;)D=ge(D),U--;for(;0<Q-U;)N=ge(N),Q--;for(;U--;){if(D===N||N!==null&&D===N.alternate){ge=D;break t}D=ge(D),N=ge(N)}ge=null}else ge=null;z!==null&&hh(J,P,z,ge,!1),ue!==null&&Ve!==null&&hh(J,Ve,ue,ge,!0)}}e:{if(P=q?Fo(q):window,z=P.nodeName&&P.nodeName.toLowerCase(),z==="select"||z==="input"&&P.type==="file")var Me=Df;else if(Rf(P))if(If)Me=PE;else{Me=UE;var fe=LE}else z=P.nodeName,!z||z.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?q&&Ya(q.elementType)&&(Me=Df):Me=qE;if(Me&&(Me=Me(t,q))){Mf(J,Me,s,O);break e}fe&&fe(t,P,q),t==="focusout"&&q&&P.type==="number"&&q.memoizedProps.value!=null&&Ja(P,"number",P.value)}switch(fe=q?Fo(q):window,t){case"focusin":(Rf(fe)||fe.contentEditable==="true")&&(ji=fe,ar=q,jo=null);break;case"focusout":jo=ar=ji=null;break;case"mousedown":rr=!0;break;case"contextmenu":case"mouseup":case"dragend":rr=!1,Hf(J,s,O);break;case"selectionchange":if(zE)break;case"keydown":case"keyup":Hf(J,s,O)}var Ce;if(ir)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Wi?Nf(t,s)&&(Ne="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(Af&&s.locale!=="ko"&&(Wi||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Wi&&(Ce=Sf()):(kn=O,Wa="value"in kn?kn.value:kn.textContent,Wi=!0)),fe=Js(q,Ne),0<fe.length&&(Ne=new Cf(Ne,t,null,s,O),J.push({event:Ne,listeners:fe}),Ce?Ne.data=Ce:(Ce=bf(s),Ce!==null&&(Ne.data=Ce)))),(Ce=bE?RE(t,s):ME(t,s))&&(Ne=Js(q,"onBeforeInput"),0<Ne.length&&(fe=new Cf("onBeforeInput","beforeinput",null,s,O),J.push({event:fe,listeners:Ne}),fe.data=Ce)),EC(J,t,q,s,O)}dh(J,n)})}function Al(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Js(t,n){for(var s=n+"Capture",r=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Qo(t,s),m!=null&&r.unshift(Al(t,m,p)),m=Qo(t,n),m!=null&&r.push(Al(t,m,p))),t.tag===3)return r;t=t.return}return[]}function wC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hh(t,n,s,r,m){for(var p=n._reactName,T=[];s!==null&&s!==r;){var C=s,x=C.alternate,q=C.stateNode;if(C=C.tag,x!==null&&x===r)break;C!==5&&C!==26&&C!==27||q===null||(x=q,m?(q=Qo(s,p),q!=null&&T.unshift(Al(s,q,x))):m||(q=Qo(s,p),q!=null&&T.push(Al(s,q,x)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var xC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function ph(t){return(typeof t=="string"?t:""+t).replace(xC,`
`).replace(NC,"")}function gh(t,n){return n=ph(n),ph(t)===n}function He(t,n,s,r,m,p){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Ki(t,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Ki(t,""+r);break;case"className":Xl(t,"class",r);break;case"tabIndex":Xl(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(t,s,r);break;case"style":gf(t,r,p);break;case"data":if(n!=="object"){Xl(t,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Wl(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(n!=="input"&&He(t,n,"name",m.name,m,null),He(t,n,"formEncType",m.formEncType,m,null),He(t,n,"formMethod",m.formMethod,m,null),He(t,n,"formTarget",m.formTarget,m,null)):(He(t,n,"encType",m.encType,m,null),He(t,n,"method",m.method,m,null),He(t,n,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=Wl(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=yn);break;case"onScroll":r!=null&&we("scroll",t);break;case"onScrollEnd":r!=null&&we("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=Wl(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":we("beforetoggle",t),we("toggle",t),Kl(t,"popover",r);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Kl(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=tE.get(s)||s,Kl(t,s,r))}}function Lu(t,n,s,r,m,p){switch(s){case"style":gf(t,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof r=="string"?Ki(t,r):(typeof r=="number"||typeof r=="bigint")&&Ki(t,""+r);break;case"onScroll":r!=null&&we("scroll",t);break;case"onScrollEnd":r!=null&&we("scrollend",t);break;case"onClick":r!=null&&(t.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!af.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),n=s.slice(2,m?s.length-7:void 0),p=t[_t]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(n,p,m),typeof r=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,r,m);break e}s in t?t[s]=r:r===!0?t.setAttribute(s,""):Kl(t,s,r)}}}function dt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",t),we("load",t);var r=!1,m=!1,p;for(p in s)if(s.hasOwnProperty(p)){var T=s[p];if(T!=null)switch(p){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:He(t,n,p,T,s,null)}}m&&He(t,n,"srcSet",s.srcSet,s,null),r&&He(t,n,"src",s.src,s,null);return;case"input":we("invalid",t);var C=p=T=m=null,x=null,q=null;for(r in s)if(s.hasOwnProperty(r)){var O=s[r];if(O!=null)switch(r){case"name":m=O;break;case"type":T=O;break;case"checked":x=O;break;case"defaultChecked":q=O;break;case"value":p=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:He(t,n,r,O,s,null)}}df(t,p,C,x,q,T,m,!1);return;case"select":we("invalid",t),r=T=p=null;for(m in s)if(s.hasOwnProperty(m)&&(C=s[m],C!=null))switch(m){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":r=C;default:He(t,n,m,C,s,null)}n=p,s=T,t.multiple=!!r,n!=null?$i(t,!!r,n,!1):s!=null&&$i(t,!!r,s,!0);return;case"textarea":we("invalid",t),p=m=r=null;for(T in s)if(s.hasOwnProperty(T)&&(C=s[T],C!=null))switch(T){case"value":r=C;break;case"defaultValue":m=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:He(t,n,T,C,s,null)}hf(t,r,m,p);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(r=s[x],r!=null))switch(x){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:He(t,n,x,r,s,null)}return;case"dialog":we("beforetoggle",t),we("toggle",t),we("cancel",t),we("close",t);break;case"iframe":case"object":we("load",t);break;case"video":case"audio":for(r=0;r<_l.length;r++)we(_l[r],t);break;case"image":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"embed":case"source":case"link":we("error",t),we("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(r=s[q],r!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:He(t,n,q,r,s,null)}return;default:if(Ya(n)){for(O in s)s.hasOwnProperty(O)&&(r=s[O],r!==void 0&&Lu(t,n,O,r,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(r=s[C],r!=null&&He(t,n,C,r,s,null))}function bC(t,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,T=null,C=null,x=null,q=null,O=null;for(z in s){var J=s[z];if(s.hasOwnProperty(z)&&J!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":x=J;default:r.hasOwnProperty(z)||He(t,n,z,null,r,J)}}for(var P in r){var z=r[P];if(J=s[P],r.hasOwnProperty(P)&&(z!=null||J!=null))switch(P){case"type":p=z;break;case"name":m=z;break;case"checked":q=z;break;case"defaultChecked":O=z;break;case"value":T=z;break;case"defaultValue":C=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,n));break;default:z!==J&&He(t,n,P,z,r,J)}}Qa(t,T,C,x,q,O,p,m);return;case"select":z=T=C=P=null;for(p in s)if(x=s[p],s.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":z=x;default:r.hasOwnProperty(p)||He(t,n,p,null,r,x)}for(m in r)if(p=r[m],x=s[m],r.hasOwnProperty(m)&&(p!=null||x!=null))switch(m){case"value":P=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==x&&He(t,n,m,p,r,x)}n=C,s=T,r=z,P!=null?$i(t,!!s,P,!1):!!r!=!!s&&(n!=null?$i(t,!!s,n,!0):$i(t,!!s,s?[]:"",!1));return;case"textarea":z=P=null;for(C in s)if(m=s[C],s.hasOwnProperty(C)&&m!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:He(t,n,C,null,r,m)}for(T in r)if(m=r[T],p=s[T],r.hasOwnProperty(T)&&(m!=null||p!=null))switch(T){case"value":P=m;break;case"defaultValue":z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==p&&He(t,n,T,m,r,p)}mf(t,P,z);return;case"option":for(var ue in s)if(P=s[ue],s.hasOwnProperty(ue)&&P!=null&&!r.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:He(t,n,ue,null,r,P)}for(x in r)if(P=r[x],z=s[x],r.hasOwnProperty(x)&&P!==z&&(P!=null||z!=null))switch(x){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:He(t,n,x,P,r,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)P=s[ge],s.hasOwnProperty(ge)&&P!=null&&!r.hasOwnProperty(ge)&&He(t,n,ge,null,r,P);for(q in r)if(P=r[q],z=s[q],r.hasOwnProperty(q)&&P!==z&&(P!=null||z!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,n));break;default:He(t,n,q,P,r,z)}return;default:if(Ya(n)){for(var Ve in s)P=s[Ve],s.hasOwnProperty(Ve)&&P!==void 0&&!r.hasOwnProperty(Ve)&&Lu(t,n,Ve,void 0,r,P);for(O in r)P=r[O],z=s[O],!r.hasOwnProperty(O)||P===z||P===void 0&&z===void 0||Lu(t,n,O,P,r,z);return}}for(var D in s)P=s[D],s.hasOwnProperty(D)&&P!=null&&!r.hasOwnProperty(D)&&He(t,n,D,null,r,P);for(J in r)P=r[J],z=s[J],!r.hasOwnProperty(J)||P===z||P==null&&z==null||He(t,n,J,P,r,z)}function yh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var m=s[r],p=m.transferSize,T=m.initiatorType,C=m.duration;if(p&&C&&yh(T)){for(T=0,C=m.responseEnd,r+=1;r<s.length;r++){var x=s[r],q=x.startTime;if(q>C)break;var O=x.transferSize,J=x.initiatorType;O&&yh(J)&&(x=x.responseEnd,T+=O*(x<C?1:(C-q)/(x-q)))}if(--r,n+=8*(p+T)/(m.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uu=null,qu=null;function Ys(t){return t.nodeType===9?t:t.ownerDocument}function vh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sh(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Pu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bu=null;function MC(){var t=window.event;return t&&t.type==="popstate"?t===Bu?!1:(Bu=t,!0):(Bu=null,!1)}var Th=typeof setTimeout=="function"?setTimeout:void 0,DC=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,IC=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(t){return Eh.resolve(null).then(t).catch(LC)}:Th;function LC(t){setTimeout(function(){throw t})}function si(t){return t==="head"}function Ch(t,n){var s=n,r=0;do{var m=s.nextSibling;if(t.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(r===0){t.removeChild(m),No(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")wl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,wl(s);for(var p=s.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[ko]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=T}}else s==="body"&&wl(t.ownerDocument.body);s=m}while(s);No(n)}function _h(t,n){var s=t;t=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=r}while(s)}function zu(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":zu(s),ka(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function UC(t,n,s,r){for(;t.nodeType===1;){var m=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[ko])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Wt(t.nextSibling),t===null)break}return null}function qC(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wt(t.nextSibling),t===null))return null;return t}function Ah(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wt(t.nextSibling),t===null))return null;return t}function Gu(t){return t.data==="$?"||t.data==="$~"}function Hu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function PC(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Wt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Vu=null;function wh(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Wt(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function xh(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Nh(t,n,s){switch(n=Ys(s),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ka(t)}var jt=new Map,bh=new Set;function $s(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ln=ee.d;ee.d={f:BC,r:zC,D:GC,C:HC,L:VC,m:OC,X:FC,S:kC,M:QC};function BC(){var t=Ln.f(),n=Gs();return t||n}function zC(t){var n=Qi(t);n!==null&&n.tag===5&&n.type==="form"?Qd(n):Ln.r(t)}var Ao=typeof document>"u"?null:document;function Rh(t,n,s){var r=Ao;if(r&&typeof n=="string"&&n){var m=Qt(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),bh.has(m)||(bh.add(m),t={rel:t,crossOrigin:s,href:n},r.querySelector(m)===null&&(n=r.createElement("link"),dt(n,"link",t),lt(n),r.head.appendChild(n)))}}function GC(t){Ln.D(t),Rh("dns-prefetch",t,null)}function HC(t,n){Ln.C(t,n),Rh("preconnect",t,n)}function VC(t,n,s){Ln.L(t,n,s);var r=Ao;if(r&&t&&n){var m='link[rel="preload"][as="'+Qt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Qt(s.imageSizes)+'"]')):m+='[href="'+Qt(t)+'"]';var p=m;switch(n){case"style":p=wo(t);break;case"script":p=xo(t)}jt.has(p)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),jt.set(p,t),r.querySelector(m)!==null||n==="style"&&r.querySelector(xl(p))||n==="script"&&r.querySelector(Nl(p))||(n=r.createElement("link"),dt(n,"link",t),lt(n),r.head.appendChild(n)))}}function OC(t,n){Ln.m(t,n);var s=Ao;if(s&&t){var r=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+Qt(r)+'"][href="'+Qt(t)+'"]',p=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=xo(t)}if(!jt.has(p)&&(t=S({rel:"modulepreload",href:t},n),jt.set(p,t),s.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Nl(p)))return}r=s.createElement("link"),dt(r,"link",t),lt(r),s.head.appendChild(r)}}}function kC(t,n,s){Ln.S(t,n,s);var r=Ao;if(r&&t){var m=Ji(r).hoistableStyles,p=wo(t);n=n||"default";var T=m.get(p);if(!T){var C={loading:0,preload:null};if(T=r.querySelector(xl(p)))C.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=jt.get(p))&&Ou(t,s);var x=T=r.createElement("link");lt(x),dt(x,"link",t),x._p=new Promise(function(q,O){x.onload=q,x.onerror=O}),x.addEventListener("load",function(){C.loading|=1}),x.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ks(T,n,r)}T={type:"stylesheet",instance:T,count:1,state:C},m.set(p,T)}}}function FC(t,n){Ln.X(t,n);var s=Ao;if(s&&t){var r=Ji(s).hoistableScripts,m=xo(t),p=r.get(m);p||(p=s.querySelector(Nl(m)),p||(t=S({src:t,async:!0},n),(n=jt.get(m))&&ku(t,n),p=s.createElement("script"),lt(p),dt(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(m,p))}}function QC(t,n){Ln.M(t,n);var s=Ao;if(s&&t){var r=Ji(s).hoistableScripts,m=xo(t),p=r.get(m);p||(p=s.querySelector(Nl(m)),p||(t=S({src:t,async:!0,type:"module"},n),(n=jt.get(m))&&ku(t,n),p=s.createElement("script"),lt(p),dt(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(m,p))}}function Mh(t,n,s,r){var m=(m=_e.current)?$s(m):null;if(!m)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=wo(s.href),s=Ji(m).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=wo(s.href);var p=Ji(m).hoistableStyles,T=p.get(t);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=m.querySelector(xl(t)))&&!p._p&&(T.instance=p,T.state.loading=5),jt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jt.set(t,s),p||JC(m,t,s,T.state))),n&&r===null)throw Error(l(528,""));return T}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xo(s),s=Ji(m).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function wo(t){return'href="'+Qt(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function Dh(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function JC(t,n,s,r){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=t.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),dt(n,"link",s),lt(n),t.head.appendChild(n))}function xo(t){return'[src="'+Qt(t)+'"]'}function Nl(t){return"script[async]"+t}function Ih(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=t.querySelector('style[data-href~="'+Qt(s.href)+'"]');if(r)return n.instance=r,lt(r),r;var m=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),lt(r),dt(r,"style",m),Ks(r,s.precedence,t),n.instance=r;case"stylesheet":m=wo(s.href);var p=t.querySelector(xl(m));if(p)return n.state.loading|=4,n.instance=p,lt(p),p;r=Dh(s),(m=jt.get(m))&&Ou(r,m),p=(t.ownerDocument||t).createElement("link"),lt(p);var T=p;return T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),dt(p,"link",r),n.state.loading|=4,Ks(p,s.precedence,t),n.instance=p;case"script":return p=xo(s.src),(m=t.querySelector(Nl(p)))?(n.instance=m,lt(m),m):(r=s,(m=jt.get(p))&&(r=S({},s),ku(r,m)),t=t.ownerDocument||t,m=t.createElement("script"),lt(m),dt(m,"link",r),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Ks(r,s.precedence,t));return n.instance}function Ks(t,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,p=m,T=0;T<r.length;T++){var C=r[T];if(C.dataset.precedence===n)p=C;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ou(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ku(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Xs=null;function Lh(t,n,s){if(Xs===null){var r=new Map,m=Xs=new Map;m.set(s,r)}else m=Xs,r=m.get(s),r||(r=new Map,m.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),m=0;m<s.length;m++){var p=s[m];if(!(p[ko]||p[rt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(n)||"";T=t+T;var C=r.get(T);C?C.push(p):r.set(T,[p])}}return r}function Uh(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function YC(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $C(t,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=wo(r.href),p=n.querySelector(xl(m));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Zs.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=p,lt(p);return}p=n.ownerDocument||n,r=Dh(r),(m=jt.get(m))&&Ou(r,m),p=p.createElement("link"),lt(p);var T=p;T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),dt(p,"link",r),s.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Zs.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Fu=0;function KC(t,n){return t.stylesheets&&t.count===0&&js(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var r=setTimeout(function(){if(t.stylesheets&&js(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+n);0<t.imgBytes&&Fu===0&&(Fu=62500*RC());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&js(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Fu?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(m)}}:null}function Zs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)js(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ws=null;function js(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ws=new Map,n.forEach(XC,t),Ws=null,Zs.call(t))}function XC(t,n){if(!(n.state.loading&4)){var s=Ws.get(t);if(s)var r=s.get(null);else{s=new Map,Ws.set(t,s);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var T=m[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),r=T)}r&&s.set(null,r)}m=n.instance,T=m.getAttribute("data-precedence"),p=s.get(T)||r,p===r&&s.set(null,m),s.set(T,m),this.count++,r=Zs.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:G,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function ZC(t,n,s,r,m,p,T,C,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Ph(t,n,s,r,m,p,T,C,x,q,O,J){return t=new ZC(t,n,s,T,x,q,O,J,C),n=1,p===!0&&(n|=24),p=Pt(3,null,null,n),t.current=p,p.stateNode=t,n=_r(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:r,isDehydrated:s,cache:n},Nr(p),t}function Bh(t){return t?(t=no,t):no}function zh(t,n,s,r,m,p){m=Bh(m),r.context===null?r.context=m:r.pendingContext=m,r=Kn(n),r.payload={element:s},p=p===void 0?null:p,p!==null&&(r.callback=p),s=Xn(t,r,n),s!==null&&(Rt(s,t,n),sl(s,t,n))}function Gh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Qu(t,n){Gh(t,n),(t=t.alternate)&&Gh(t,n)}function Hh(t){if(t.tag===13||t.tag===31){var n=_i(t,67108864);n!==null&&Rt(n,t,67108864),Qu(t,67108864)}}function Vh(t){if(t.tag===13||t.tag===31){var n=Vt();n=Ha(n);var s=_i(t,n);s!==null&&Rt(s,t,n),Qu(t,n)}}var ea=!0;function WC(t,n,s,r){var m=H.T;H.T=null;var p=ee.p;try{ee.p=2,Ju(t,n,s,r)}finally{ee.p=p,H.T=m}}function jC(t,n,s,r){var m=H.T;H.T=null;var p=ee.p;try{ee.p=8,Ju(t,n,s,r)}finally{ee.p=p,H.T=m}}function Ju(t,n,s,r){if(ea){var m=Yu(r);if(m===null)Iu(t,n,r,ta,s),kh(t,r);else if(t_(m,t,n,s,r))r.stopPropagation();else if(kh(t,r),n&4&&-1<e_.indexOf(t)){for(;m!==null;){var p=Qi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=vi(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var x=1<<31-Ut(T);C.entanglements[1]|=x,T&=~x}mn(p),(Ue&6)===0&&(Bs=It()+500,Cl(0))}}break;case 31:case 13:C=_i(p,2),C!==null&&Rt(C,p,2),Gs(),Qu(p,2)}if(p=Yu(r),p===null&&Iu(t,n,r,ta,s),p===m)break;m=p}m!==null&&r.stopPropagation()}else Iu(t,n,r,null,s)}}function Yu(t){return t=Ka(t),$u(t)}var ta=null;function $u(t){if(ta=null,t=Fi(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=h(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ta=t,null}function Oh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(GT()){case Kc:return 2;case Xc:return 8;case Fl:case HT:return 32;case Zc:return 268435456;default:return 32}default:return 32}}var Ku=!1,ai=null,ri=null,ui=null,Rl=new Map,Ml=new Map,ci=[],e_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kh(t,n){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Dl(t,n,s,r,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:p,targetContainers:[m]},n!==null&&(n=Qi(n),n!==null&&Hh(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function t_(t,n,s,r,m){switch(n){case"focusin":return ai=Dl(ai,t,n,s,r,m),!0;case"dragenter":return ri=Dl(ri,t,n,s,r,m),!0;case"mouseover":return ui=Dl(ui,t,n,s,r,m),!0;case"pointerover":var p=m.pointerId;return Rl.set(p,Dl(Rl.get(p)||null,t,n,s,r,m)),!0;case"gotpointercapture":return p=m.pointerId,Ml.set(p,Dl(Ml.get(p)||null,t,n,s,r,m)),!0}return!1}function Fh(t){var n=Fi(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,of(t.priority,function(){Vh(s)});return}}else if(n===31){if(n=h(s),n!==null){t.blockedOn=n,of(t.priority,function(){Vh(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function na(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Yu(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);$a=r,s.target.dispatchEvent(r),$a=null}else return n=Qi(s),n!==null&&Hh(n),t.blockedOn=s,!1;n.shift()}return!0}function Qh(t,n,s){na(t)&&s.delete(n)}function n_(){Ku=!1,ai!==null&&na(ai)&&(ai=null),ri!==null&&na(ri)&&(ri=null),ui!==null&&na(ui)&&(ui=null),Rl.forEach(Qh),Ml.forEach(Qh)}function ia(t,n){t.blockedOn===n&&(t.blockedOn=null,Ku||(Ku=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,n_)))}var oa=null;function Jh(t){oa!==t&&(oa=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oa===t&&(oa=null);for(var n=0;n<t.length;n+=3){var s=t[n],r=t[n+1],m=t[n+2];if(typeof r!="function"){if($u(r||s)===null)continue;break}var p=Qi(s);p!==null&&(t.splice(n,3),n-=3,Yr(p,{pending:!0,data:m,method:s.method,action:r},r,m))}}))}function No(t){function n(x){return ia(x,t)}ai!==null&&ia(ai,t),ri!==null&&ia(ri,t),ui!==null&&ia(ui,t),Rl.forEach(n),Ml.forEach(n);for(var s=0;s<ci.length;s++){var r=ci[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ci.length&&(s=ci[0],s.blockedOn===null);)Fh(s),s.blockedOn===null&&ci.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var m=s[r],p=s[r+1],T=m[_t]||null;if(typeof p=="function")T||Jh(s);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(m=p,T=p[_t]||null)C=T.formAction;else if($u(m)!==null)continue}else C=T.action;typeof C=="function"?s[r+1]=C:(s.splice(r,3),r-=3),Jh(s)}}}function Yh(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Xu(t){this._internalRoot=t}la.prototype.render=Xu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Vt();zh(s,r,t,n,null,null)},la.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;zh(t.current,2,null,t,null,null),Gs(),n[ki]=null}};function la(t){this._internalRoot=t}la.prototype.unstable_scheduleHydration=function(t){if(t){var n=nf();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ci.length&&n!==0&&n<ci[s].priority;s++);ci.splice(s,0,t),s===0&&Fh(t)}};var $h=e.version;if($h!=="19.2.0")throw Error(l(527,$h,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=g(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var i_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{Ho=sa.inject(i_),Lt=sa}catch{}}return Ll.createRoot=function(t,n){if(!a(t))throw Error(l(299));var s=!1,r="",m=tm,p=nm,T=im;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Ph(t,1,!1,null,null,s,r,null,m,p,T,Yh),t[ki]=n.current,Du(t),new Xu(n)},Ll.hydrateRoot=function(t,n,s){if(!a(t))throw Error(l(299));var r=!1,m="",p=tm,T=nm,C=im,x=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=Ph(t,1,!0,n,s??null,r,m,x,p,T,C,Yh),n.context=Bh(null),s=n.current,r=Vt(),r=Ha(r),m=Kn(r),m.callback=null,Xn(s,m,r),s=r,n.current.lanes=s,Oo(n,s),mn(n),t[ki]=n.current,Du(t),new la(n)},Ll.version="19.2.0",Ll}var op;function y_(){if(op)return ju.exports;op=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ju.exports=g_(),ju.exports}var v_=y_();const jv={en:{headerTitle:"Fragment to Diary",viewHistory:"View History",placeholder:"What's happening right now? (e.g., 'Had a great coffee with Sarah', 'Feeling stuck on the project')",addNote:"Add note",noNotes:"No notes yet today. Start capturing moments.",deleteNote:"Delete note",timeline:"Timeline",clearDay:"Clear Day",clearConfirm:"Are you sure you want to clear all notes for",weaveButton:"Weave into Diary",regenerateButton:"Regenerate Diary",cancelView:"Cancel and view existing diary",writingStory:"Writing your story...",analyzing:"Analyzing moments from",failedError:"Failed to create your diary. Please try again.",backToFragments:"Back to fragments",reflectionLabel:"Reflection",historyTitle:"Journal History",noEntries:"No entries yet.",diaryCreated:"Diary Created",draft:"Draft",fragment:"Fragment",fragments:"Fragments",today:"Today",yesterday:"Yesterday",edit:"Edit",save:"Save",cancel:"Cancel",titleLabel:"Title",moodLabel:"Mood",contentLabel:"Content",tagsLabel:"Tags (comma separated)",startRecording:"Record Audio",stopRecording:"Stop Recording",transcribing:"Transcribing...",transcriptionFailed:"Transcription failed",fragmentTagPlaceholder:"Tags (optional, comma separated)",deleteConfirmTitle:"Delete Note?",deleteConfirmMessage:"Are you sure you want to delete this fragment? This action cannot be undone.",confirmDelete:"Delete",filterAll:"All",unsavedDraft:"Found an unsaved draft",restore:"Restore",discard:"Discard",searchPlaceholder:"Search memories...",searchResults:"Search Results",noResultsFound:"No matches found for",matchFoundIn:"Found in",clearSearch:"Clear search",toneLabel:"Tone",tones:{default:"Natural (AI Decision)",happy:"Optimistic & Energetic",melancholic:"Melancholic & Deep",witty:"Witty & Sarcastic",formal:"Formal & Structured",poetic:"Poetic & Lyrical",grateful:"Grateful & Warm",stoic:"Stoic & Objective"},settings:"Settings",aiConfig:"AI Configuration",provider:"Provider",gemini:"Google Gemini (Default)",openai:"OpenAI Compatible",baseUrl:"Base URL",apiKey:"API Key",modelName:"Model Name",saveConfig:"Update Configuration",configSaved:"Configuration saved!",exportData:"Export Data",importData:"Import Data",exportJsonDesc:"Backup your raw data to transfer between devices.",exportMdDesc:"Download a readable text file of your diary entries.",importDesc:"Restore from a previously exported JSON file. This will merge with existing data.",importSuccess:"Data imported successfully!",importError:"Invalid data file.",importButton:"Select File",exportButton:"Export",json:"JSON (Backup)",markdown:"Markdown (Readable)",close:"Close"},zh:{headerTitle:"",viewHistory:"",placeholder:"('''')",addNote:"",noNotes:"",deleteNote:"",timeline:"",clearDay:"",clearConfirm:"",weaveButton:"",regenerateButton:"",cancelView:"",writingStory:"...",analyzing:"",failedError:"",backToFragments:"",reflectionLabel:"",historyTitle:"",noEntries:"",diaryCreated:"",draft:"",fragment:"",fragments:"",today:"",yesterday:"",edit:"",save:"",cancel:"",titleLabel:"",moodLabel:"",contentLabel:"",tagsLabel:" ()",startRecording:"",stopRecording:"",transcribing:"...",transcriptionFailed:"",fragmentTagPlaceholder:" ()",deleteConfirmTitle:"",deleteConfirmMessage:"",confirmDelete:"",filterAll:"",unsavedDraft:"",restore:"",discard:"",searchPlaceholder:"...",searchResults:"",noResultsFound:"",matchFoundIn:"",clearSearch:"",toneLabel:"",tones:{default:" (AI)",happy:" & ",melancholic:" & ",witty:" & ",formal:" & ",poetic:" & ",grateful:" & ",stoic:" &"},settings:"",aiConfig:"AI ",provider:"",gemini:"Google Gemini ()",openai:"OpenAI ",baseUrl:"Base URL",apiKey:"API Key",modelName:"",saveConfig:"",configSaved:"",exportData:"",importData:"",exportJsonDesc:"",exportMdDesc:"",importDesc:" JSON ",importSuccess:"",importError:"",importButton:"",exportButton:"",json:"JSON ()",markdown:"Markdown ()",close:""}},hi=i=>jv[i],S_=({onToggleHistory:i,onOpenSettings:e,language:o,setLanguage:l,searchQuery:a,setSearchQuery:u})=>{const d=hi(o);return _.jsxs("header",{className:"py-4 md:py-6 px-4 md:px-8 max-w-4xl mx-auto w-full flex flex-wrap md:flex-nowrap justify-between items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-4 select-none shrink-0",children:[_.jsx("button",{onClick:e,className:"text-gray-500 hover:text-indigo-600 transition-colors p-2 -ml-2 rounded-lg hover:bg-gray-100",title:d.settings,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsx("h1",{className:"text-2xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 tracking-tight",children:o==="zh"?"":"Nimo"})})]}),_.jsx("div",{className:"flex-grow order-3 md:order-2 w-full md:w-auto relative",children:_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-gray-400 group-focus-within:text-indigo-500 transition-colors",children:_.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}),_.jsx("input",{type:"text",value:a,onChange:h=>u(h.target.value),placeholder:d.searchPlaceholder,className:"block w-full pl-10 pr-8 py-2 border border-gray-200 rounded-full leading-5 bg-gray-50 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 focus:bg-white transition-all duration-200 text-sm"}),a&&_.jsx("button",{onClick:()=>u(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",title:d.clearSearch,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})}),_.jsxs("div",{className:"flex items-center gap-2 shrink-0 order-2 md:order-3",children:[_.jsx("button",{onClick:()=>l(o==="en"?"zh":"en"),className:"text-xs font-medium px-3 py-1.5 rounded-full border border-gray-200 hover:bg-gray-100 text-gray-600 transition-colors",children:o==="en"?"":"English"}),_.jsx("button",{onClick:i,className:"text-gray-500 hover:text-indigo-600 transition-colors p-2 rounded-lg hover:bg-gray-100",title:d.viewHistory,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let T_,E_;function C_(){return{geminiUrl:T_,vertexUrl:E_}}function __(i,e,o,l){var a,u;if(!(i!=null&&i.baseUrl)){const d=C_();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:o:(u=d.geminiUrl)!==null&&u!==void 0?u:l}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zn{}function le(i,e){const o=/\{([^}]+)\}/g;return i.replace(o,(l,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(i,e,o){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[h])){const y=i[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];f(v,e.slice(u+1),o[g])}else for(const g of y)f(g,e.slice(u+1),o)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in i||(i[h]=[{}]);const y=i[h];f(y[0],e.slice(u+1),o);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const l=e[e.length-1],a=i[l];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[l]=o}function c(i,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return i;for(let l=0;l<e.length;l++){if(typeof i!="object"||i===null)return o;const a=e[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in i){const d=i[u];return Array.isArray(d)?d.map(h=>c(h,e.slice(l+1),o)):o}else return o}else i=i[a]}return i}catch(l){if(l instanceof TypeError)return o;throw l}}function A_(i,e){for(const[o,l]of Object.entries(e)){const a=o.split("."),u=l.split("."),d=new Set;let h=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){h=y;break}if(h!==-1&&u.length>h)for(let y=h;y<u.length;y++){const g=u[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}ac(i,a,u,0,d)}}function ac(i,e,o,l,a){if(l>=e.length||typeof i!="object"||i===null)return;const u=e[l];if(u.endsWith("[]")){const d=u.slice(0,-2),h=i;if(d in h&&Array.isArray(h[d]))for(const y of h[d])ac(y,e,o,l+1,a)}else if(u==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,h=Object.keys(d).filter(g=>!g.startsWith("_")&&!a.has(g)),y={};for(const g of h)y[g]=d[g];for(const[g,v]of Object.entries(y)){const S=[];for(const E of o.slice(l))E==="*"?S.push(g):S.push(E);f(d,S,v)}for(const g of h)delete d[g]}}else{const d=i;u in d&&ac(d[u],e,o,l+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ic(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w_(i){const e={},o=c(i,["operationName"]);o!=null&&f(e,["operationName"],o);const l=c(i,["resourceName"]);return l!=null&&f(e,["_url","resourceName"],l),e}function x_(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],b_(d)),e}function N_(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],R_(d)),e}function b_(i){const e={},o=c(i,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>M_(d))),f(e,["generatedVideos"],u)}const l=c(i,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const a=c(i,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function R_(i){const e={},o=c(i,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>D_(d))),f(e,["generatedVideos"],u)}const l=c(i,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const a=c(i,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function M_(i){const e={},o=c(i,["video"]);return o!=null&&f(e,["video"],B_(o)),e}function D_(i){const e={},o=c(i,["_self"]);return o!=null&&f(e,["video"],z_(o)),e}function I_(i){const e={},o=c(i,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function L_(i){const e={},o=c(i,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function U_(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],q_(d)),e}function q_(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["parent"]);l!=null&&f(e,["parent"],l);const a=c(i,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function eS(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],P_(d)),e}function P_(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["parent"]);l!=null&&f(e,["parent"],l);const a=c(i,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function B_(i){const e={},o=c(i,["uri"]);o!=null&&f(e,["uri"],o);const l=c(i,["encodedVideo"]);l!=null&&f(e,["videoBytes"],Ic(l));const a=c(i,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function z_(i){const e={},o=c(i,["gcsUri"]);o!=null&&f(e,["uri"],o);const l=c(i,["bytesBase64Encoded"]);l!=null&&f(e,["videoBytes"],Ic(l));const a=c(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lp||(lp={}));var sp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(sp||(sp={}));var ap;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(ap||(ap={}));var St;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(St||(St={}));var rp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(rp||(rp={}));var up;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(up||(up={}));var cp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(cp||(cp={}));var fp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fp||(fp={}));var dp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(dp||(dp={}));var mp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(mp||(mp={}));var hp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(hp||(hp={}));var pp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(pp||(pp={}));var gp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(gp||(gp={}));var yp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(yp||(yp={}));var vp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(vp||(vp={}));var Sp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Sp||(Sp={}));var Tp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Tp||(Tp={}));var Ep;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Ep||(Ep={}));var Cp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cp||(Cp={}));var ha;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ha||(ha={}));var _p;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_p||(_p={}));var Ap;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ap||(Ap={}));var wp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wp||(wp={}));var rc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(rc||(rc={}));var xp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xp||(xp={}));var Np;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Np||(Np={}));var bp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(bp||(bp={}));var Rp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Rp||(Rp={}));var Mp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Mp||(Mp={}));var Dp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Dp||(Dp={}));var Ip;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Ip||(Ip={}));var Lp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Lp||(Lp={}));var Up;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Up||(Up={}));var qp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(qp||(qp={}));var Pp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pp||(Pp={}));var Bp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bp||(Bp={}));var zp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zp||(zp={}));var Gp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gp||(Gp={}));var Hp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Hp||(Hp={}));var Vp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Vp||(Vp={}));var Op;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Op||(Op={}));var kp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(kp||(kp={}));var Fp;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Fp||(Fp={}));var Qp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Qp||(Qp={}));var Jp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Jp||(Jp={}));var Yp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Yp||(Yp={}));var $p;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})($p||($p={}));var Kp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Kp||(Kp={}));var Xp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xp||(Xp={}));var Zp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zp||(Zp={}));var Wp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Wp||(Wp={}));var jp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jp||(jp={}));var eg;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(eg||(eg={}));var tg;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(tg||(tg={}));var Ro;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Ro||(Ro={}));class uc{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ul{get text(){var e,o,l,a,u,d,h,y;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const S=[];for(const E of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[A,M]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(M!==null||M!==void 0)&&S.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,o,l,a,u,d,h,y;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const S of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(S))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,o,l,a,u,d,h,y;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,o,l,a,u,d,h,y,g;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,o,l,a,u,d,h,y,g;if(((a=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class ng{}class ig{}class G_{}class H_{}class V_{}class O_{}class og{}class lg{}class sg{}class k_{}class pa{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new pa;let a;const u=e;return o?a=N_(u):a=x_(u),Object.assign(l,a),l}}class ag{}class rg{}class ug{}class F_{}class Q_{}class J_{}class Lc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Lc,u=U_(e);return Object.assign(l,u),l}}class Y_{}class $_{}class K_{}class cg{}class X_{get text(){var e,o,l;let a="",u=!1;const d=[];for(const h of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,a+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,o,l;let a="";const u=[];for(const d of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Z_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Uc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Uc,u=eS(e);return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tS(i,e){const o=Ie(i,e);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function nS(i){return Array.isArray(i)?i.map(e=>ga(e)):[ga(i)]}function ga(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function iS(i){const e=ga(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oS(i){const e=ga(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fg(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function lS(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>fg(e)):[fg(i)]}function cc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function dg(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function mg(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function gt(i){if(i==null)throw new Error("ContentUnion is required");return cc(i)?i:{role:"user",parts:lS(i)}}function qc(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=gt(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(i.isVertexAI()){const o=gt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>gt(o)):[gt(e)]}function en(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(dg(i)||mg(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gt(i)]}const e=[],o=[],l=cc(i[0]);for(const a of i){const u=cc(a);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(dg(a)||mg(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return l||e.push({role:"user",parts:lS(o)}),e}function W_(i,e){i.includes("null")&&(e.nullable=!0);const o=i.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(St).includes(o[0].toUpperCase())?o[0].toUpperCase():St.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(St).includes(l.toUpperCase())?l.toUpperCase():St.TYPE_UNSPECIFIED})}}function Do(i){const e={},o=["items"],l=["anyOf"],a=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=i.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,i=u[1]):u[1].type==="null"&&(e.nullable=!0,i=u[0])),i.type instanceof Array&&W_(i.type,e);for(const[d,h]of Object.entries(i))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(St).includes(h.toUpperCase())?h.toUpperCase():St.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=Do(h);else if(l.includes(d)){const y=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}y.push(Do(g))}e[d]=y}else if(a.includes(d)){const y={};for(const[g,v]of Object.entries(h))y[g]=Do(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Pc(i){return Do(i)}function Bc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function zc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Po(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Do(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Do(e.response));return i}function Bo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of i)e.push(o);return e}function j_(i,e,o,l=1){const a=!e.startsWith(`${o}/`)&&e.split("/").length===l;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:a?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${e}`:e:a?`${o}/${e}`:e}function Gn(i,e){if(typeof e!="string")throw new Error("name must be a string");return j_(i,e,"cachedContents")}function sS(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function pi(i){return Ic(i)}function eA(i){return i!=null&&typeof i=="object"&&"name"in i}function tA(i){return i!=null&&typeof i=="object"&&"video"in i}function nA(i){return i!=null&&typeof i=="object"&&"uri"in i}function aS(i){var e;let o;if(eA(i)&&(o=i.name),!(nA(i)&&(o=i.uri,o===void 0))&&!(tA(i)&&(o=(e=i.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function rS(i,e){let o;return i.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function uS(i){for(const e of["models","tunedModels","publisherModels"])if(iA(i,e))return i[e];return[]}function iA(i,e){return i!==null&&typeof i=="object"&&e in i}function oA(i,e={}){const o=i,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function lA(i,e={}){const o=[],l=new Set;for(const a of i){const u=a.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const d=oA(a,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function cS(i,e){let o;if(typeof e=="string")if(i.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function sA(i){if(typeof i!="string")return i;const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fS(i){if(typeof i!="object"||i===null)return{};const e=i,o=e.inlinedResponses;if(typeof o!="object"||o===null)return i;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return i;let u=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),i}function zo(i,e){const o=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function dS(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aA(i){const e={},o=c(i,["responsesFile"]);o!=null&&f(e,["fileName"],o);const l=c(i,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>VA(d))),f(e,["inlinedResponses"],u)}const a=c(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function rA(i){const e={},o=c(i,["predictionsFormat"]);o!=null&&f(e,["format"],o);const l=c(i,["gcsDestination","outputUriPrefix"]);l!=null&&f(e,["gcsUri"],l);const a=c(i,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function uA(i){const e={},o=c(i,["format"]);o!=null&&f(e,["predictionsFormat"],o);const l=c(i,["gcsUri"]);l!=null&&f(e,["gcsDestination","outputUriPrefix"],l);const a=c(i,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ua(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata","displayName"]);l!=null&&f(e,["displayName"],l);const a=c(i,["metadata","state"]);a!=null&&f(e,["state"],dS(a));const u=c(i,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(i,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const h=c(i,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const y=c(i,["metadata","model"]);y!=null&&f(e,["model"],y);const g=c(i,["metadata","output"]);return g!=null&&f(e,["dest"],aA(fS(g))),e}function fc(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["displayName"]);l!=null&&f(e,["displayName"],l);const a=c(i,["state"]);a!=null&&f(e,["state"],dS(a));const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["createTime"]);d!=null&&f(e,["createTime"],d);const h=c(i,["startTime"]);h!=null&&f(e,["startTime"],h);const y=c(i,["endTime"]);y!=null&&f(e,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(e,["updateTime"],g);const v=c(i,["model"]);v!=null&&f(e,["model"],v);const S=c(i,["inputConfig"]);S!=null&&f(e,["src"],cA(S));const E=c(i,["outputConfig"]);E!=null&&f(e,["dest"],rA(fS(E)));const A=c(i,["completionStats"]);return A!=null&&f(e,["completionStats"],A),e}function cA(i){const e={},o=c(i,["instancesFormat"]);o!=null&&f(e,["format"],o);const l=c(i,["gcsSource","uris"]);l!=null&&f(e,["gcsUri"],l);const a=c(i,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function fA(i,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=c(e,["fileName"]);l!=null&&f(o,["fileName"],l);const a=c(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>HA(i,d))),f(o,["requests","requests"],u)}return o}function dA(i){const e={},o=c(i,["format"]);o!=null&&f(e,["instancesFormat"],o);const l=c(i,["gcsUri"]);l!=null&&f(e,["gcsSource","uris"],l);const a=c(i,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mA(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function hA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function pA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function gA(i){const e={},o=c(i,["content"]);o!=null&&f(e,["content"],o);const l=c(i,["citationMetadata"]);l!=null&&f(e,["citationMetadata"],yA(l));const a=c(i,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(i,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(i,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(i,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(i,["index"]);y!=null&&f(e,["index"],y);const g=c(i,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["safetyRatings"],E)}const S=c(i,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function yA(i){const e={},o=c(i,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),f(e,["citations"],l)}return e}function mS(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>$A(u))),f(e,["parts"],a)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function vA(i,e){const o={},l=c(i,["displayName"]);if(e!==void 0&&l!=null&&f(e,["batch","displayName"],l),c(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function SA(i,e){const o={},l=c(i,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const a=c(i,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],uA(sA(a))),o}function hg(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["src"]);a!=null&&f(o,["batch","inputConfig"],fA(i,cS(i,a)));const u=c(e,["config"]);return u!=null&&vA(u,o),o}function TA(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["model"],Ie(i,l));const a=c(e,["src"]);a!=null&&f(o,["inputConfig"],dA(cS(i,a)));const u=c(e,["config"]);return u!=null&&SA(u,o),o}function EA(i,e){const o={},l=c(i,["displayName"]);return e!==void 0&&l!=null&&f(e,["batch","displayName"],l),o}function CA(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["src"]);a!=null&&f(o,["batch","inputConfig"],RA(i,a));const u=c(e,["config"]);return u!=null&&EA(u,o),o}function _A(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function AA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function wA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);return u!=null&&f(e,["error"],u),e}function xA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);return u!=null&&f(e,["error"],u),e}function NA(i,e){const o={},l=c(e,["contents"]);if(l!=null){let u=qc(i,l);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["requests[]","request","content"],u)}const a=c(e,["config"]);return a!=null&&(f(o,["_self"],bA(a,o)),A_(o,{"requests[].*":"requests[].request.*"})),o}function bA(i,e){const o={},l=c(i,["taskType"]);e!==void 0&&l!=null&&f(e,["requests[]","taskType"],l);const a=c(i,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(i,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function RA(i,e){const o={},l=c(e,["fileName"]);l!=null&&f(o,["file_name"],l);const a=c(e,["inlinedRequests"]);return a!=null&&f(o,["requests"],NA(i,a)),o}function MA(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function DA(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const a=c(i,["name"]);if(a!=null&&f(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IA(i){const e={},o=c(i,["mode"]);o!=null&&f(e,["mode"],o);const l=c(i,["allowedFunctionNames"]);if(l!=null&&f(e,["allowedFunctionNames"],l),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LA(i,e,o){const l={},a=c(e,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],mS(gt(a)));const u=c(e,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(l,["topP"],d);const h=c(e,["topK"]);h!=null&&f(l,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(l,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(l,["logprobs"],E);const A=c(e,["presencePenalty"]);A!=null&&f(l,["presencePenalty"],A);const M=c(e,["frequencyPenalty"]);M!=null&&f(l,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(l,["seed"],R);const k=c(e,["responseMimeType"]);k!=null&&f(l,["responseMimeType"],k);const Y=c(e,["responseSchema"]);Y!=null&&f(l,["responseSchema"],Pc(Y));const W=c(e,["responseJsonSchema"]);if(W!=null&&f(l,["responseJsonSchema"],W),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=c(e,["safetySettings"]);if(o!==void 0&&G!=null){let re=G;Array.isArray(re)&&(re=re.map(ae=>KA(ae))),f(o,["safetySettings"],re)}const K=c(e,["tools"]);if(o!==void 0&&K!=null){let re=Bo(K);Array.isArray(re)&&(re=re.map(ae=>ZA(Po(ae)))),f(o,["tools"],re)}const ne=c(e,["toolConfig"]);if(o!==void 0&&ne!=null&&f(o,["toolConfig"],XA(ne)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=c(e,["cachedContent"]);o!==void 0&&j!=null&&f(o,["cachedContent"],Gn(i,j));const V=c(e,["responseModalities"]);V!=null&&f(l,["responseModalities"],V);const L=c(e,["mediaResolution"]);L!=null&&f(l,["mediaResolution"],L);const B=c(e,["speechConfig"]);if(B!=null&&f(l,["speechConfig"],Bc(B)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=c(e,["thinkingConfig"]);F!=null&&f(l,["thinkingConfig"],F);const ie=c(e,["imageConfig"]);return ie!=null&&f(l,["imageConfig"],GA(ie)),l}function UA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>gA(g))),f(e,["candidates"],y)}const a=c(i,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(i,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(i,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(i,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function qA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function PA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function BA(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function zA(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function GA(i){const e={},o=c(i,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const l=c(i,["imageSize"]);if(l!=null&&f(e,["imageSize"],l),c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function HA(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["request","model"],Ie(i,l));const a=c(e,["contents"]);if(a!=null){let h=en(a);Array.isArray(h)&&(h=h.map(y=>mS(y))),f(o,["request","contents"],h)}const u=c(e,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(o,["request","generationConfig"],LA(i,d,c(o,["request"],{}))),o}function VA(i){const e={},o=c(i,["response"]);o!=null&&f(e,["response"],UA(o));const l=c(i,["error"]);return l!=null&&f(e,["error"],l),e}function OA(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const a=c(i,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),c(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function kA(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const a=c(i,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const u=c(i,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),o}function FA(i){const e={},o=c(i,["config"]);return o!=null&&OA(o,e),e}function QA(i){const e={},o=c(i,["config"]);return o!=null&&kA(o,e),e}function JA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>ua(d))),f(e,["batchJobs"],u)}return e}function YA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>fc(d))),f(e,["batchJobs"],u)}return e}function $A(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const a=c(i,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],MA(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],DA(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],mA(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function KA(i){const e={},o=c(i,["category"]);if(o!=null&&f(e,["category"],o),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(i,["threshold"]);return l!=null&&f(e,["threshold"],l),e}function XA(i){const e={},o=c(i,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],IA(o));const l=c(i,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],l),e}function ZA(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const a=c(i,["computerUse"]);a!=null&&f(e,["computerUse"],a);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],BA(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],zA(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Pn||(Pn={}));class Vi{constructor(e,o,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,a)}init(e,o,l){var a,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!l||Object.keys(l).length===0?d={config:{}}:typeof l=="object"?d=Object.assign({},l):d=l,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WA extends zn{constructor(e){super(),this.apiClient=e,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Vi(Pn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=hg(this.apiClient,e),l=o._url,a=le("{model}:batchGenerateContent",l),h=o.batch.inputConfig.requests,y=h.requests,g=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=E,S.request=A}g.push(S)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${a}`;else if(d)l.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=TA(this.apiClient,e);return h=le("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>fc(v))}else{const g=hg(this.apiClient,e);return h=le("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>ua(v))}}async createEmbeddingsInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=CA(this.apiClient,e);return u=le("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>ua(y))}}async get(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=PA(this.apiClient,e);return h=le("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>fc(v))}else{const g=qA(this.apiClient,e);return h=le("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>ua(v))}}async cancel(e){var o,l,a,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=pA(this.apiClient,e);d=le("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=hA(this.apiClient,e);d=le("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=QA(e);return h=le("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=YA(v),E=new cg;return Object.assign(E,S),E})}else{const g=FA(e);return h=le("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=JA(v),E=new cg;return Object.assign(E,S),E})}}async delete(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=AA(this.apiClient,e);return h=le("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>xA(v))}else{const g=_A(this.apiClient,e);return h=le("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>wA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jA(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function pg(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Cw(u))),f(e,["parts"],a)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function ew(i,e){const o={},l=c(i,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const a=c(i,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(i,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(i,["contents"]);if(e!==void 0&&d!=null){let v=en(d);Array.isArray(v)&&(v=v.map(S=>pg(S))),f(e,["contents"],v)}const h=c(i,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],pg(gt(h)));const y=c(i,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>Aw(S))),f(e,["tools"],v)}const g=c(i,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],_w(g)),c(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function tw(i,e){const o={},l=c(i,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const a=c(i,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(i,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(i,["contents"]);if(e!==void 0&&d!=null){let S=en(d);Array.isArray(S)&&(S=S.map(E=>E)),f(e,["contents"],S)}const h=c(i,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],gt(h));const y=c(i,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>ww(E))),f(e,["tools"],S)}const g=c(i,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const v=c(i,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),o}function nw(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["model"],tS(i,l));const a=c(e,["config"]);return a!=null&&ew(a,o),o}function iw(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["model"],tS(i,l));const a=c(e,["config"]);return a!=null&&tw(a,o),o}function ow(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],Gn(i,l)),o}function lw(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],Gn(i,l)),o}function sw(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function aw(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function rw(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function uw(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const a=c(i,["name"]);if(a!=null&&f(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cw(i){const e={},o=c(i,["mode"]);o!=null&&f(e,["mode"],o);const l=c(i,["allowedFunctionNames"]);if(l!=null&&f(e,["allowedFunctionNames"],l),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fw(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(i,["description"]);o!=null&&f(e,["description"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const a=c(i,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const h=c(i,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function dw(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],Gn(i,l)),o}function mw(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],Gn(i,l)),o}function hw(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function pw(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function gw(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function yw(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function vw(i){const e={},o=c(i,["config"]);return o!=null&&gw(o,e),e}function Sw(i){const e={},o=c(i,["config"]);return o!=null&&yw(o,e),e}function Tw(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function Ew(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function Cw(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const a=c(i,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],rw(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],uw(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],jA(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function _w(i){const e={},o=c(i,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],cw(o));const l=c(i,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],l),e}function Aw(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const a=c(i,["computerUse"]);a!=null&&f(e,["computerUse"],a);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],hw(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],pw(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function ww(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>fw(E))),f(e,["functionDeclarations"],S)}const l=c(i,["retrieval"]);l!=null&&f(e,["retrieval"],l);const a=c(i,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(i,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function xw(i,e){const o={},l=c(i,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const a=c(i,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),o}function Nw(i,e){const o={},l=c(i,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const a=c(i,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),o}function bw(i,e){const o={},l=c(e,["name"]);l!=null&&f(o,["_url","name"],Gn(i,l));const a=c(e,["config"]);return a!=null&&xw(a,o),o}function Rw(i,e){const o={},l=c(e,["name"]);l!=null&&f(o,["_url","name"],Gn(i,l));const a=c(e,["config"]);return a!=null&&Nw(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mw extends zn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Vi(Pn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=iw(this.apiClient,e);return h=le("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=nw(this.apiClient,e);return h=le("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=mw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=dw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=lw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=aw(v),E=new rg;return Object.assign(E,S),E})}else{const g=ow(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=sw(v),E=new rg;return Object.assign(E,S),E})}}async update(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Rw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=bw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Sw(e);return h=le("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Ew(v),E=new ug;return Object.assign(E,S),E})}else{const g=vw(e);return h=le("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Tw(v),E=new ug;return Object.assign(E,S),E})}}}function gg(i){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&i[e],l=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qe(i){return this instanceof Qe?(this.v=i,this):new Qe(i)}function Io(i,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(i,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(A){return function(M){return Promise.resolve(M).then(A,S)}}function h(A,M){l[A]&&(a[A]=function(R){return new Promise(function(k,Y){u.push([A,R,k,Y])>1||y(A,R)})},M&&(a[A]=M(a[A])))}function y(A,M){try{g(l[A](M))}catch(R){E(u[0][3],R)}}function g(A){A.value instanceof Qe?Promise.resolve(A.value.v).then(v,S):E(u[0][2],A)}function v(A){y("next",A)}function S(A){y("throw",A)}function E(A,M){A(M),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Bl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],o;return e?e.call(i):(i=typeof gg=="function"?gg(i):i[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(u){o[u]=i[u]&&function(d){return new Promise(function(h,y){d=i[u](d),a(h,y,d.done,d.value)})}}function a(u,d,h,y){Promise.resolve(y).then(function(g){u({value:g,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dw(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const o=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:hS(o)}function hS(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Iw(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function yg(i){if(i===void 0||i.length===0)return[];const e=[],o=i.length;let l=0;for(;l<o;)if(i[l].role==="user")e.push(i[l]),l++;else{const a=[];let u=!0;for(;l<o&&i[l].role==="model";)a.push(i[l]),u&&!hS(i[l])&&(u=!1),l++;u?e.push(...a):e.pop()}return e}class Lw{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new Uw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Uw{constructor(e,o,l,a={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),Iw(u)}async sendMessage(e){var o;await this.sendPromise;const l=gt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,d,h;const y=await a,g=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(S))!==null&&h!==void 0?h:[]);const A=g?[g]:[];this.recordHistory(l,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var o;await this.sendPromise;const l=gt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,l)}getHistory(e=!1){const o=e?yg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,a;return Io(this,arguments,function*(){var d,h,y,g;const v=[];try{for(var S=!0,E=Bl(e),A;A=yield Qe(E.next()),d=A.done,!d;S=!0){g=A.value,S=!1;const M=g;if(Dw(M)){const R=(a=(l=M.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content;R!==void 0&&v.push(R)}yield yield Qe(M)}}catch(M){h={error:M}}finally{try{!S&&!d&&(y=E.return)&&(yield Qe(y.call(E)))}finally{if(h)throw h.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let a=[];o.length>0&&o.every(u=>u.role!==void 0)?a=o:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...yg(l)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ba extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ba.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qw(i){const e={},o=c(i,["file"]);return o!=null&&f(e,["file"],o),e}function Pw(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Bw(i){const e={},o=c(i,["name"]);return o!=null&&f(e,["_url","file"],aS(o)),e}function zw(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Gw(i){const e={},o=c(i,["name"]);return o!=null&&f(e,["_url","file"],aS(o)),e}function Hw(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function Vw(i){const e={},o=c(i,["config"]);return o!=null&&Hw(o,e),e}function Ow(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kw extends zn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Vi(Pn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Vw(e);return u=le("files",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=Ow(y),v=new Y_;return Object.assign(v,g),v})}}async createInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qw(e);return u=le("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=Pw(y),v=new $_;return Object.assign(v,g),v})}}async get(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Gw(e);return u=le("files/{file}",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Bw(e);return u=le("files/{file}",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=zw(y),v=new K_;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ca(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Fw(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>sx(u))),f(e,["parts"],a)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function Qw(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Jw(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const a=c(i,["name"]);if(a!=null&&f(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yw(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(i,["description"]);o!=null&&f(e,["description"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const a=c(i,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const h=c(i,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function $w(i){const e={},o=c(i,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const l=c(i,["responseJsonSchema"]);l!=null&&f(e,["responseJsonSchema"],l);const a=c(i,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(i,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(i,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(i,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(i,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(i,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=c(i,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=c(i,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const E=c(i,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const A=c(i,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const M=c(i,["responseModalities"]);M!=null&&f(e,["responseModalities"],M);const R=c(i,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const k=c(i,["routingConfig"]);k!=null&&f(e,["routingConfig"],k);const Y=c(i,["seed"]);Y!=null&&f(e,["seed"],Y);const W=c(i,["speechConfig"]);W!=null&&f(e,["speechConfig"],pS(W));const G=c(i,["stopSequences"]);G!=null&&f(e,["stopSequences"],G);const K=c(i,["temperature"]);K!=null&&f(e,["temperature"],K);const ne=c(i,["thinkingConfig"]);ne!=null&&f(e,["thinkingConfig"],ne);const j=c(i,["topK"]);j!=null&&f(e,["topK"],j);const V=c(i,["topP"]);if(V!=null&&f(e,["topP"],V),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Kw(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function Xw(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function Zw(i,e){const o={},l=c(i,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],l);const a=c(i,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(i,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],zc(S));const E=c(i,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=c(i,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=c(i,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],Fw(gt(M)));const R=c(i,["tools"]);if(e!==void 0&&R!=null){let j=Bo(R);Array.isArray(j)&&(j=j.map(V=>rx(Po(V)))),f(e,["setup","tools"],j)}const k=c(i,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],ax(k));const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","inputAudioTranscription"],Y);const W=c(i,["outputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","outputAudioTranscription"],W);const G=c(i,["realtimeInputConfig"]);e!==void 0&&G!=null&&f(e,["setup","realtimeInputConfig"],G);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ne=c(i,["proactivity"]);return e!==void 0&&ne!=null&&f(e,["setup","proactivity"],ne),o}function Ww(i,e){const o={},l=c(i,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],$w(l));const a=c(i,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(i,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],pS(zc(S)));const E=c(i,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=c(i,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=c(i,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],gt(M));const R=c(i,["tools"]);if(e!==void 0&&R!=null){let j=Bo(R);Array.isArray(j)&&(j=j.map(V=>ux(Po(V)))),f(e,["setup","tools"],j)}const k=c(i,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],k);const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","inputAudioTranscription"],Y);const W=c(i,["outputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","outputAudioTranscription"],W);const G=c(i,["realtimeInputConfig"]);e!==void 0&&G!=null&&f(e,["setup","realtimeInputConfig"],G);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ne=c(i,["proactivity"]);return e!==void 0&&ne!=null&&f(e,["setup","proactivity"],ne),o}function jw(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["setup","model"],Ie(i,l));const a=c(e,["config"]);return a!=null&&f(o,["config"],Zw(a,o)),o}function ex(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["setup","model"],Ie(i,l));const a=c(e,["config"]);return a!=null&&f(o,["config"],Ww(a,o)),o}function tx(i){const e={},o=c(i,["musicGenerationConfig"]);return o!=null&&f(e,["musicGenerationConfig"],o),e}function nx(i){const e={},o=c(i,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),f(e,["weightedPrompts"],l)}return e}function ix(i){const e={},o=c(i,["media"]);if(o!=null){let g=nS(o);Array.isArray(g)&&(g=g.map(v=>ca(v))),f(e,["mediaChunks"],g)}const l=c(i,["audio"]);l!=null&&f(e,["audio"],ca(oS(l)));const a=c(i,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(i,["video"]);u!=null&&f(e,["video"],ca(iS(u)));const d=c(i,["text"]);d!=null&&f(e,["text"],d);const h=c(i,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(i,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function ox(i){const e={},o=c(i,["media"]);if(o!=null){let g=nS(o);Array.isArray(g)&&(g=g.map(v=>v)),f(e,["mediaChunks"],g)}const l=c(i,["audio"]);l!=null&&f(e,["audio"],oS(l));const a=c(i,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(i,["video"]);u!=null&&f(e,["video"],iS(u));const d=c(i,["text"]);d!=null&&f(e,["text"],d);const h=c(i,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(i,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function lx(i){const e={},o=c(i,["setupComplete"]);o!=null&&f(e,["setupComplete"],o);const l=c(i,["serverContent"]);l!=null&&f(e,["serverContent"],l);const a=c(i,["toolCall"]);a!=null&&f(e,["toolCall"],a);const u=c(i,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(i,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],cx(d));const h=c(i,["goAway"]);h!=null&&f(e,["goAway"],h);const y=c(i,["sessionResumptionUpdate"]);return y!=null&&f(e,["sessionResumptionUpdate"],y),e}function sx(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const a=c(i,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],Qw(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],Jw(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],ca(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function ax(i){const e={},o=c(i,["handle"]);if(o!=null&&f(e,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function pS(i){const e={},o=c(i,["languageCode"]);o!=null&&f(e,["languageCode"],o);const l=c(i,["voiceConfig"]);if(l!=null&&f(e,["voiceConfig"],l),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rx(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const a=c(i,["computerUse"]);a!=null&&f(e,["computerUse"],a);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],Kw(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],Xw(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function ux(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>Yw(E))),f(e,["functionDeclarations"],S)}const l=c(i,["retrieval"]);l!=null&&f(e,["retrieval"],l);const a=c(i,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(i,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function cx(i){const e={},o=c(i,["promptTokenCount"]);o!=null&&f(e,["promptTokenCount"],o);const l=c(i,["cachedContentTokenCount"]);l!=null&&f(e,["cachedContentTokenCount"],l);const a=c(i,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const u=c(i,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(i,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const h=c(i,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const y=c(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(M=>M)),f(e,["promptTokensDetails"],A)}const g=c(i,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(M=>M)),f(e,["cacheTokensDetails"],A)}const v=c(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(M=>M)),f(e,["responseTokensDetails"],A)}const S=c(i,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(M=>M)),f(e,["toolUsePromptTokensDetails"],A)}const E=c(i,["trafficType"]);return E!=null&&f(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fx(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function dx(i){const e={},o=c(i,["content"]);o!=null&&f(e,["content"],o);const l=c(i,["citationMetadata"]);l!=null&&f(e,["citationMetadata"],mx(l));const a=c(i,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(i,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(i,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(i,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(i,["index"]);y!=null&&f(e,["index"],y);const g=c(i,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["safetyRatings"],E)}const S=c(i,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function mx(i){const e={},o=c(i,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),f(e,["citations"],l)}return e}function hx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["contents"]);if(a!=null){let u=en(a);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["contents"],u)}return o}function px(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["tokensInfo"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["tokensInfo"],a)}return e}function gx(i){const e={},o=c(i,["values"]);o!=null&&f(e,["values"],o);const l=c(i,["statistics"]);return l!=null&&f(e,["statistics"],yx(l)),e}function yx(i){const e={},o=c(i,["truncated"]);o!=null&&f(e,["truncated"],o);const l=c(i,["token_count"]);return l!=null&&f(e,["tokenCount"],l),e}function Ra(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>xN(u))),f(e,["parts"],a)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function vx(i){const e={},o=c(i,["controlType"]);o!=null&&f(e,["controlType"],o);const l=c(i,["enableControlImageComputation"]);return l!=null&&f(e,["computeControl"],l),e}function Sx(i){const e={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Tx(i,e){const o={},l=c(i,["systemInstruction"]);e!==void 0&&l!=null&&f(e,["systemInstruction"],gt(l));const a=c(i,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>TS(h))),f(e,["tools"],d)}const u=c(i,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],fN(u)),o}function Ex(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["contents"]);if(a!=null){let d=en(a);Array.isArray(d)&&(d=d.map(h=>Ra(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&Sx(u),o}function Cx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["contents"]);if(a!=null){let d=en(a);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&Tx(u,o),o}function _x(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["totalTokens"]);l!=null&&f(e,["totalTokens"],l);const a=c(i,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function Ax(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["totalTokens"]);return l!=null&&f(e,["totalTokens"],l),e}function wx(i,e){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],Ie(i,l)),o}function xx(i,e){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],Ie(i,l)),o}function Nx(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function bx(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Rx(i,e){const o={},l=c(i,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const a=c(i,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(i,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(i,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(i,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(i,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(i,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=c(i,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(i,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const E=c(i,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const A=c(i,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const M=c(i,["outputMimeType"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","mimeType"],M);const R=c(i,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const k=c(i,["addWatermark"]);e!==void 0&&k!=null&&f(e,["parameters","addWatermark"],k);const Y=c(i,["labels"]);e!==void 0&&Y!=null&&f(e,["labels"],Y);const W=c(i,["editMode"]);e!==void 0&&W!=null&&f(e,["parameters","editMode"],W);const G=c(i,["baseSteps"]);return e!==void 0&&G!=null&&f(e,["parameters","editConfig","baseSteps"],G),o}function Mx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>IN(y))),f(o,["instances[0]","referenceImages"],h)}const d=c(e,["config"]);return d!=null&&Rx(d,o),o}function Dx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Ma(u))),f(e,["generatedImages"],a)}return e}function Ix(i,e){const o={},l=c(i,["taskType"]);e!==void 0&&l!=null&&f(e,["requests[]","taskType"],l);const a=c(i,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(i,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Lx(i,e){const o={},l=c(i,["taskType"]);e!==void 0&&l!=null&&f(e,["instances[]","task_type"],l);const a=c(i,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const u=c(i,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(i,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const h=c(i,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),o}function Ux(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["contents"]);if(a!=null){let h=qc(i,a);Array.isArray(h)&&(h=h.map(y=>y)),f(o,["requests[]","content"],h)}const u=c(e,["config"]);u!=null&&Ix(u,o);const d=c(e,["model"]);return d!==void 0&&f(o,["requests[]","model"],Ie(i,d)),o}function qx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["contents"]);if(a!=null){let d=qc(i,a);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&Lx(u,o),o}function Px(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const a=c(i,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function Bx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>gx(d))),f(e,["embeddings"],u)}const a=c(i,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function zx(i){const e={},o=c(i,["endpoint"]);o!=null&&f(e,["name"],o);const l=c(i,["deployedModelId"]);return l!=null&&f(e,["deployedModelId"],l),e}function Gx(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Hx(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const a=c(i,["name"]);if(a!=null&&f(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vx(i){const e={},o=c(i,["mode"]);o!=null&&f(e,["mode"],o);const l=c(i,["allowedFunctionNames"]);if(l!=null&&f(e,["allowedFunctionNames"],l),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ox(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(i,["description"]);o!=null&&f(e,["description"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const a=c(i,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const h=c(i,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function kx(i,e,o){const l={},a=c(e,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],Ra(gt(a)));const u=c(e,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(l,["topP"],d);const h=c(e,["topK"]);h!=null&&f(l,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(l,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(l,["logprobs"],E);const A=c(e,["presencePenalty"]);A!=null&&f(l,["presencePenalty"],A);const M=c(e,["frequencyPenalty"]);M!=null&&f(l,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(l,["seed"],R);const k=c(e,["responseMimeType"]);k!=null&&f(l,["responseMimeType"],k);const Y=c(e,["responseSchema"]);Y!=null&&f(l,["responseSchema"],Pc(Y));const W=c(e,["responseJsonSchema"]);if(W!=null&&f(l,["responseJsonSchema"],W),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=c(e,["safetySettings"]);if(o!==void 0&&G!=null){let re=G;Array.isArray(re)&&(re=re.map(ae=>LN(ae))),f(o,["safetySettings"],re)}const K=c(e,["tools"]);if(o!==void 0&&K!=null){let re=Bo(K);Array.isArray(re)&&(re=re.map(ae=>HN(Po(ae)))),f(o,["tools"],re)}const ne=c(e,["toolConfig"]);if(o!==void 0&&ne!=null&&f(o,["toolConfig"],GN(ne)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=c(e,["cachedContent"]);o!==void 0&&j!=null&&f(o,["cachedContent"],Gn(i,j));const V=c(e,["responseModalities"]);V!=null&&f(l,["responseModalities"],V);const L=c(e,["mediaResolution"]);L!=null&&f(l,["mediaResolution"],L);const B=c(e,["speechConfig"]);if(B!=null&&f(l,["speechConfig"],Bc(B)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=c(e,["thinkingConfig"]);F!=null&&f(l,["thinkingConfig"],F);const ie=c(e,["imageConfig"]);return ie!=null&&f(l,["imageConfig"],gN(ie)),l}function Fx(i,e,o){const l={},a=c(e,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],gt(a));const u=c(e,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(l,["topP"],d);const h=c(e,["topK"]);h!=null&&f(l,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(l,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(l,["logprobs"],E);const A=c(e,["presencePenalty"]);A!=null&&f(l,["presencePenalty"],A);const M=c(e,["frequencyPenalty"]);M!=null&&f(l,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(l,["seed"],R);const k=c(e,["responseMimeType"]);k!=null&&f(l,["responseMimeType"],k);const Y=c(e,["responseSchema"]);Y!=null&&f(l,["responseSchema"],Pc(Y));const W=c(e,["responseJsonSchema"]);W!=null&&f(l,["responseJsonSchema"],W);const G=c(e,["routingConfig"]);G!=null&&f(l,["routingConfig"],G);const K=c(e,["modelSelectionConfig"]);K!=null&&f(l,["modelConfig"],K);const ne=c(e,["safetySettings"]);if(o!==void 0&&ne!=null){let H=ne;Array.isArray(H)&&(H=H.map(ee=>ee)),f(o,["safetySettings"],H)}const j=c(e,["tools"]);if(o!==void 0&&j!=null){let H=Bo(j);Array.isArray(H)&&(H=H.map(ee=>TS(Po(ee)))),f(o,["tools"],H)}const V=c(e,["toolConfig"]);o!==void 0&&V!=null&&f(o,["toolConfig"],V);const L=c(e,["labels"]);o!==void 0&&L!=null&&f(o,["labels"],L);const B=c(e,["cachedContent"]);o!==void 0&&B!=null&&f(o,["cachedContent"],Gn(i,B));const F=c(e,["responseModalities"]);F!=null&&f(l,["responseModalities"],F);const ie=c(e,["mediaResolution"]);ie!=null&&f(l,["mediaResolution"],ie);const re=c(e,["speechConfig"]);re!=null&&f(l,["speechConfig"],SS(Bc(re)));const ae=c(e,["audioTimestamp"]);ae!=null&&f(l,["audioTimestamp"],ae);const Te=c(e,["thinkingConfig"]);Te!=null&&f(l,["thinkingConfig"],Te);const Le=c(e,["imageConfig"]);return Le!=null&&f(l,["imageConfig"],yN(Le)),l}function vg(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["contents"]);if(a!=null){let d=en(a);Array.isArray(d)&&(d=d.map(h=>Ra(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],kx(i,u,o)),o}function Sg(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["contents"]);if(a!=null){let d=en(a);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],Fx(i,u,o)),o}function Tg(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>dx(g))),f(e,["candidates"],y)}const a=c(i,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(i,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(i,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(i,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Eg(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["candidates"],g)}const a=c(i,["createTime"]);a!=null&&f(e,["createTime"],a);const u=c(i,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(i,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const h=c(i,["responseId"]);h!=null&&f(e,["responseId"],h);const y=c(i,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function Qx(i,e){const o={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(i,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const a=c(i,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const u=c(i,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(i,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const h=c(i,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const y=c(i,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const g=c(i,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const v=c(i,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const S=c(i,["outputMimeType"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","mimeType"],S);const E=c(i,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=c(i,["imageSize"]);if(e!==void 0&&A!=null&&f(e,["parameters","sampleImageSize"],A),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Jx(i,e){const o={},l=c(i,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const a=c(i,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(i,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(i,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(i,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(i,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(i,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=c(i,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(i,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const E=c(i,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const A=c(i,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const M=c(i,["outputMimeType"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","mimeType"],M);const R=c(i,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const k=c(i,["addWatermark"]);e!==void 0&&k!=null&&f(e,["parameters","addWatermark"],k);const Y=c(i,["labels"]);e!==void 0&&Y!=null&&f(e,["labels"],Y);const W=c(i,["imageSize"]);e!==void 0&&W!=null&&f(e,["parameters","sampleImageSize"],W);const G=c(i,["enhancePrompt"]);return e!==void 0&&G!=null&&f(e,["parameters","enhancePrompt"],G),o}function Yx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&Qx(u,o),o}function $x(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&Jx(u,o),o}function Kx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>aN(d))),f(e,["generatedImages"],u)}const a=c(i,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],yS(a)),e}function Xx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Ma(d))),f(e,["generatedImages"],u)}const a=c(i,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],vS(a)),e}function Zx(i,e){const o={},l=c(i,["numberOfVideos"]);if(e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(i,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(i,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(i,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const h=c(i,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(i,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const g=c(i,["enhancePrompt"]);if(e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g),c(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(i,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Da(v));const S=c(i,["referenceImages"]);if(e!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>jN(A))),f(e,["instances[0]","referenceImages"],E)}if(c(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function Wx(i,e){const o={},l=c(i,["numberOfVideos"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const a=c(i,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const u=c(i,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(i,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const h=c(i,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const y=c(i,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const g=c(i,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const v=c(i,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(i,["pubsubTopic"]);e!==void 0&&S!=null&&f(e,["parameters","pubsubTopic"],S);const E=c(i,["negativePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","negativePrompt"],E);const A=c(i,["enhancePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A);const M=c(i,["generateAudio"]);e!==void 0&&M!=null&&f(e,["parameters","generateAudio"],M);const R=c(i,["lastFrame"]);e!==void 0&&R!=null&&f(e,["instances[0]","lastFrame"],un(R));const k=c(i,["referenceImages"]);if(e!==void 0&&k!=null){let G=k;Array.isArray(G)&&(G=G.map(K=>eb(K))),f(e,["instances[0]","referenceImages"],G)}const Y=c(i,["mask"]);e!==void 0&&Y!=null&&f(e,["instances[0]","mask"],WN(Y));const W=c(i,["compressionQuality"]);return e!==void 0&&W!=null&&f(e,["parameters","compressionQuality"],W),o}function jx(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],iN(d)),e}function eN(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],oN(d)),e}function tN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],Da(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],ES(d));const h=c(e,["source"]);h!=null&&lN(h,o);const y=c(e,["config"]);return y!=null&&Zx(y,o),o}function nN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],un(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],CS(d));const h=c(e,["source"]);h!=null&&sN(h,o);const y=c(e,["config"]);return y!=null&&Wx(y,o),o}function iN(i){const e={},o=c(i,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>uN(d))),f(e,["generatedVideos"],u)}const l=c(i,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const a=c(i,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function oN(i){const e={},o=c(i,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>cN(d))),f(e,["generatedVideos"],u)}const l=c(i,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const a=c(i,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function lN(i,e){const o={},l=c(i,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const a=c(i,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Da(a));const u=c(i,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],ES(u)),o}function sN(i,e){const o={},l=c(i,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const a=c(i,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],un(a));const u=c(i,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],CS(u)),o}function aN(i){const e={},o=c(i,["_self"]);o!=null&&f(e,["image"],vN(o));const l=c(i,["raiFilteredReason"]);l!=null&&f(e,["raiFilteredReason"],l);const a=c(i,["_self"]);return a!=null&&f(e,["safetyAttributes"],yS(a)),e}function Ma(i){const e={},o=c(i,["_self"]);o!=null&&f(e,["image"],gS(o));const l=c(i,["raiFilteredReason"]);l!=null&&f(e,["raiFilteredReason"],l);const a=c(i,["_self"]);a!=null&&f(e,["safetyAttributes"],vS(a));const u=c(i,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function rN(i){const e={},o=c(i,["_self"]);o!=null&&f(e,["mask"],gS(o));const l=c(i,["labels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["labels"],a)}return e}function uN(i){const e={},o=c(i,["video"]);return o!=null&&f(e,["video"],XN(o)),e}function cN(i){const e={},o=c(i,["_self"]);return o!=null&&f(e,["video"],ZN(o)),e}function fN(i){const e={},o=c(i,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const l=c(i,["responseJsonSchema"]);l!=null&&f(e,["responseJsonSchema"],l);const a=c(i,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(i,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(i,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(i,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(i,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(i,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=c(i,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=c(i,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const E=c(i,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const A=c(i,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const M=c(i,["responseModalities"]);M!=null&&f(e,["responseModalities"],M);const R=c(i,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const k=c(i,["routingConfig"]);k!=null&&f(e,["routingConfig"],k);const Y=c(i,["seed"]);Y!=null&&f(e,["seed"],Y);const W=c(i,["speechConfig"]);W!=null&&f(e,["speechConfig"],SS(W));const G=c(i,["stopSequences"]);G!=null&&f(e,["stopSequences"],G);const K=c(i,["temperature"]);K!=null&&f(e,["temperature"],K);const ne=c(i,["thinkingConfig"]);ne!=null&&f(e,["thinkingConfig"],ne);const j=c(i,["topK"]);j!=null&&f(e,["topK"],j);const V=c(i,["topP"]);if(V!=null&&f(e,["topP"],V),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function dN(i,e){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],Ie(i,l)),o}function mN(i,e){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],Ie(i,l)),o}function hN(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function pN(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function gN(i){const e={},o=c(i,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const l=c(i,["imageSize"]);if(l!=null&&f(e,["imageSize"],l),c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yN(i){const e={},o=c(i,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const l=c(i,["imageSize"]);l!=null&&f(e,["imageSize"],l);const a=c(i,["outputMimeType"]);a!=null&&f(e,["imageOutputOptions","mimeType"],a);const u=c(i,["outputCompressionQuality"]);return u!=null&&f(e,["imageOutputOptions","compressionQuality"],u),e}function vN(i){const e={},o=c(i,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],pi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function gS(i){const e={},o=c(i,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const l=c(i,["bytesBase64Encoded"]);l!=null&&f(e,["imageBytes"],pi(l));const a=c(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Da(i){const e={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(i,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],pi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function un(i){const e={},o=c(i,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const l=c(i,["imageBytes"]);l!=null&&f(e,["bytesBase64Encoded"],pi(l));const a=c(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function SN(i,e,o){const l={},a=c(e,["pageSize"]);o!==void 0&&a!=null&&f(o,["_query","pageSize"],a);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],rS(i,h)),l}function TN(i,e,o){const l={},a=c(e,["pageSize"]);o!==void 0&&a!=null&&f(o,["_query","pageSize"],a);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],rS(i,h)),l}function EN(i,e){const o={},l=c(e,["config"]);return l!=null&&SN(i,l,o),o}function CN(i,e){const o={},l=c(e,["config"]);return l!=null&&TN(i,l,o),o}function _N(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["_self"]);if(a!=null){let u=uS(a);Array.isArray(u)&&(u=u.map(d=>dc(d))),f(e,["models"],u)}return e}function AN(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["_self"]);if(a!=null){let u=uS(a);Array.isArray(u)&&(u=u.map(d=>mc(d))),f(e,["models"],u)}return e}function wN(i){const e={},o=c(i,["maskMode"]);o!=null&&f(e,["maskMode"],o);const l=c(i,["segmentationClasses"]);l!=null&&f(e,["maskClasses"],l);const a=c(i,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function dc(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["displayName"]);l!=null&&f(e,["displayName"],l);const a=c(i,["description"]);a!=null&&f(e,["description"],a);const u=c(i,["version"]);u!=null&&f(e,["version"],u);const d=c(i,["_self"]);d!=null&&f(e,["tunedModelInfo"],VN(d));const h=c(i,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const y=c(i,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const g=c(i,["supportedGenerationMethods"]);g!=null&&f(e,["supportedActions"],g);const v=c(i,["temperature"]);v!=null&&f(e,["temperature"],v);const S=c(i,["maxTemperature"]);S!=null&&f(e,["maxTemperature"],S);const E=c(i,["topP"]);E!=null&&f(e,["topP"],E);const A=c(i,["topK"]);A!=null&&f(e,["topK"],A);const M=c(i,["thinking"]);return M!=null&&f(e,["thinking"],M),e}function mc(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["displayName"]);l!=null&&f(e,["displayName"],l);const a=c(i,["description"]);a!=null&&f(e,["description"],a);const u=c(i,["versionId"]);u!=null&&f(e,["version"],u);const d=c(i,["deployedModels"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>zx(E))),f(e,["endpoints"],S)}const h=c(i,["labels"]);h!=null&&f(e,["labels"],h);const y=c(i,["_self"]);y!=null&&f(e,["tunedModelInfo"],ON(y));const g=c(i,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const v=c(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),f(e,["checkpoints"],S)}return e}function xN(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const a=c(i,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],Gx(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],Hx(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],fx(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function NN(i){const e={},o=c(i,["productImage"]);return o!=null&&f(e,["image"],un(o)),e}function bN(i,e){const o={},l=c(i,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const a=c(i,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const u=c(i,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(i,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const h=c(i,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=c(i,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const g=c(i,["addWatermark"]);e!==void 0&&g!=null&&f(e,["parameters","addWatermark"],g);const v=c(i,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const S=c(i,["outputCompressionQuality"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S);const E=c(i,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const A=c(i,["labels"]);return e!==void 0&&A!=null&&f(e,["labels"],A),o}function RN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["source"]);a!=null&&DN(a,o);const u=c(e,["config"]);return u!=null&&bN(u,o),o}function MN(i){const e={},o=c(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>Ma(a))),f(e,["generatedImages"],l)}return e}function DN(i,e){const o={},l=c(i,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const a=c(i,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],un(a));const u=c(i,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>NN(h))),f(e,["instances[0]","productImages"],d)}return o}function IN(i){const e={},o=c(i,["referenceImage"]);o!=null&&f(e,["referenceImage"],un(o));const l=c(i,["referenceId"]);l!=null&&f(e,["referenceId"],l);const a=c(i,["referenceType"]);a!=null&&f(e,["referenceType"],a);const u=c(i,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],wN(u));const d=c(i,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],vx(d));const h=c(i,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const y=c(i,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function yS(i){const e={},o=c(i,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const l=c(i,["safetyAttributes","scores"]);l!=null&&f(e,["scores"],l);const a=c(i,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function vS(i){const e={},o=c(i,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const l=c(i,["safetyAttributes","scores"]);l!=null&&f(e,["scores"],l);const a=c(i,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function LN(i){const e={},o=c(i,["category"]);if(o!=null&&f(e,["category"],o),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(i,["threshold"]);return l!=null&&f(e,["threshold"],l),e}function UN(i){const e={},o=c(i,["image"]);return o!=null&&f(e,["image"],un(o)),e}function qN(i,e){const o={},l=c(i,["mode"]);e!==void 0&&l!=null&&f(e,["parameters","mode"],l);const a=c(i,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const u=c(i,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(i,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const h=c(i,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const y=c(i,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),o}function PN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["source"]);a!=null&&zN(a,o);const u=c(e,["config"]);return u!=null&&qN(u,o),o}function BN(i){const e={},o=c(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>rN(a))),f(e,["generatedMasks"],l)}return e}function zN(i,e){const o={},l=c(i,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const a=c(i,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],un(a));const u=c(i,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],UN(u)),o}function SS(i){const e={},o=c(i,["languageCode"]);o!=null&&f(e,["languageCode"],o);const l=c(i,["voiceConfig"]);if(l!=null&&f(e,["voiceConfig"],l),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function GN(i){const e={},o=c(i,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],Vx(o));const l=c(i,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],l),e}function HN(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const a=c(i,["computerUse"]);a!=null&&f(e,["computerUse"],a);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],hN(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],pN(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function TS(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>Ox(E))),f(e,["functionDeclarations"],S)}const l=c(i,["retrieval"]);l!=null&&f(e,["retrieval"],l);const a=c(i,["googleSearchRetrieval"]);a!=null&&f(e,["googleSearchRetrieval"],a);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(i,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function VN(i){const e={},o=c(i,["baseModel"]);o!=null&&f(e,["baseModel"],o);const l=c(i,["createTime"]);l!=null&&f(e,["createTime"],l);const a=c(i,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function ON(i){const e={},o=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(e,["baseModel"],o);const l=c(i,["createTime"]);l!=null&&f(e,["createTime"],l);const a=c(i,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function kN(i,e){const o={},l=c(i,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const a=c(i,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const u=c(i,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function FN(i,e){const o={},l=c(i,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const a=c(i,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const u=c(i,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function QN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","name"],Ie(i,l));const a=c(e,["config"]);return a!=null&&kN(a,o),o}function JN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["config"]);return a!=null&&FN(a,o),o}function YN(i,e){const o={},l=c(i,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const a=c(i,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const u=c(i,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(i,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const h=c(i,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const y=c(i,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const g=c(i,["enhanceInputImage"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=c(i,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=c(i,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const E=c(i,["numberOfImages"]);e!==void 0&&E!=null&&f(e,["parameters","sampleCount"],E);const A=c(i,["mode"]);return e!==void 0&&A!=null&&f(e,["parameters","mode"],A),o}function $N(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const a=c(e,["image"]);a!=null&&f(o,["instances[0]","image"],un(a));const u=c(e,["upscaleFactor"]);u!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&YN(d,o),o}function KN(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Ma(u))),f(e,["generatedImages"],a)}return e}function XN(i){const e={},o=c(i,["uri"]);o!=null&&f(e,["uri"],o);const l=c(i,["encodedVideo"]);l!=null&&f(e,["videoBytes"],pi(l));const a=c(i,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function ZN(i){const e={},o=c(i,["gcsUri"]);o!=null&&f(e,["uri"],o);const l=c(i,["bytesBase64Encoded"]);l!=null&&f(e,["videoBytes"],pi(l));const a=c(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function WN(i){const e={},o=c(i,["image"]);o!=null&&f(e,["_self"],un(o));const l=c(i,["maskMode"]);return l!=null&&f(e,["maskMode"],l),e}function jN(i){const e={},o=c(i,["image"]);o!=null&&f(e,["image"],Da(o));const l=c(i,["referenceType"]);return l!=null&&f(e,["referenceType"],l),e}function eb(i){const e={},o=c(i,["image"]);o!=null&&f(e,["image"],un(o));const l=c(i,["referenceType"]);return l!=null&&f(e,["referenceType"],l),e}function ES(i){const e={},o=c(i,["uri"]);o!=null&&f(e,["uri"],o);const l=c(i,["videoBytes"]);l!=null&&f(e,["encodedVideo"],pi(l));const a=c(i,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function CS(i){const e={},o=c(i,["uri"]);o!=null&&f(e,["gcsUri"],o);const l=c(i,["videoBytes"]);l!=null&&f(e,["bytesBase64Encoded"],pi(l));const a=c(i,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tb="Content-Type",nb="X-Server-Timeout",ib="User-Agent",hc="x-goog-api-client",ob="1.30.0",lb=`google-genai-sdk/${ob}`,sb="v1beta1",ab="v1beta",Cg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class rb{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:sb,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:ab,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const a=[this.getRequestUrlInternal(o)];return l&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))a.searchParams.append(d,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(o))typeof u=="object"?l[a]=Object.assign(Object.assign({},l[a]),u):u!==void 0&&(l[a]=u);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l,a){if(o&&o.timeout||a){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=d}return o&&o.extraBody!==null&&ub(e,o.extraBody),e.headers=await this.getHeadersInternal(o,l),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await _g(a),new uc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await _g(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var o;return Io(this,arguments,function*(){const a=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:y}=yield Qe(a.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=u.decode(y,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),A=E.status,M=E.code,R=`got status: ${A}. ${JSON.stringify(S)}`;if(M>=400&&M<600)throw new ba({message:R,status:M})}}catch(S){if(S.name==="ApiError")throw S}d+=g;let v=d.match(Cg);for(;v;){const S=v[1];try{const E=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Qe(new uc(E)),d=d.slice(v[0].length),v=d.match(Cg)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{a.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=lb+" "+this.clientOptions.userAgentExtra;return e[ib]=o,e[hc]=o,e[tb]="application/json",e}async getHeadersInternal(e,o){const l=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))l.append(a,u);e.timeout&&e.timeout>0&&l.append(nb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(e){var o;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(e,o){var l;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);a.sizeBytes=String(d.size);const h=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const y={file:a},g=this.getFileName(e),v=le("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,g,y,o==null?void 0:o.httpOptions);return u.upload(e,S,this)}async uploadFileToFileSearchStore(e,o,l){var a;const u=this.clientOptions.uploader,d=await u.stat(o),h=String(d.size),y=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),S={};l!=null&&l.customMetadata&&(S.customMetadata=l.customMetadata),l!=null&&l.chunkingConfig&&(S.chunkingConfig=l.chunkingConfig);const E=await this.fetchUploadUrl(g,h,y,v,S,l==null?void 0:l.httpOptions);return u.uploadToFileSearchStore(o,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,l,a,u,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const g=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function _g(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let l;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await i.json():l={error:{message:await i.text(),code:i.status,status:i.statusText}};const a=JSON.stringify(l);throw o>=400&&o<600?new ba({message:a,status:o}):new Error(a)}}function ub(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const u=JSON.parse(i.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,d){const h=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=l(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const a=l(o,e);i.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cb="mcp_used/unknown";let fb=!1;function _S(i){for(const e of i)if(db(e)||typeof e=="object"&&"inputSchema"in e)return!0;return fb}function AS(i){var e;const o=(e=i[hc])!==null&&e!==void 0?e:"";i[hc]=(o+` ${cb}`).trimStart()}function db(i){return i!==null&&typeof i=="object"&&i instanceof Gc}function mb(i,e=100){return Io(this,arguments,function*(){let l,a=0;for(;a<e;){const u=yield Qe(i.listTools({cursor:l}));for(const d of u.tools)yield yield Qe(d),a++;if(!u.nextCursor)break;l=u.nextCursor}})}class Gc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Gc(e,o)}async initialize(){var e,o,l,a;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,Bl(mb(v))),g;g=await y.next(),e=g.done,!e;h=!0){a=g.value,h=!1;const S=a;d.push(S);const E=S.name;if(u[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);u[E]=v}}catch(S){o={error:S}}finally{try{!h&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),lA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await a.callTool({name:l.name,arguments:l.args},void 0,u);o.push({functionResponse:{name:l.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hb(i,e,o){const l=new Z_;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(l,a),e(l)}class pb{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=vb(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(G=>{g=G}),S=e.callbacks,E=function(){g({})},A=this.apiClient,M={onopen:E,onmessage:G=>{hb(A,S.onmessage,G)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(G){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(G){}},R=this.webSocketFactory.create(y,yb(d),M);R.connect(),await v;const W={setup:{model:Ie(this.apiClient,e.model)}};return R.send(JSON.stringify(W)),new gb(R,this.apiClient)}}class gb{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=nx(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=tx(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ro.PLAY)}pause(){this.sendPlaybackControl(Ro.PAUSE)}stop(){this.sendPlaybackControl(Ro.STOP)}resetContext(){this.sendPlaybackControl(Ro.RESET_CONTEXT)}close(){this.conn.close()}}function yb(i){const e={};return i.forEach((o,l)=>{e[l]=o}),e}function vb(i){const e=new Headers;for(const[o,l]of Object.entries(i))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Tb(i,e,o){const l=new X_;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const u=JSON.parse(a);if(i.isVertexAI()){const d=lx(u);Object.assign(l,d)}else Object.assign(l,u);e(l)}class Eb{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new pb(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,a,u,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&_S(e.config.tools)&&AS(S);const E=wb(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const B=this.apiClient.getApiKey();let F="BidiGenerateContent",ie="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",ie="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${F}?${ie}=${B}`}let A=()=>{};const M=new Promise(B=>{A=B}),R=e.callbacks,k=function(){var B;(B=R==null?void 0:R.onopen)===null||B===void 0||B.call(R),A({})},Y=this.apiClient,W={onopen:k,onmessage:B=>{Tb(Y,R.onmessage,B)},onerror:(o=R==null?void 0:R.onerror)!==null&&o!==void 0?o:function(B){},onclose:(l=R==null?void 0:R.onclose)!==null&&l!==void 0?l:function(B){}},G=this.webSocketFactory.create(v,Ab(E),W);G.connect(),await M;let K=Ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const B=this.apiClient.getProject(),F=this.apiClient.getLocation();K=`projects/${B}/locations/${F}/`+K}let ne={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ha.AUDIO]}:e.config.responseModalities=[ha.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],V=[];for(const B of j)if(this.isCallableTool(B)){const F=B;V.push(await F.tool())}else V.push(B);V.length>0&&(e.config.tools=V);const L={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ne=ex(this.apiClient,L):ne=jw(this.apiClient,L),delete ne.config,G.send(JSON.stringify(ne)),new _b(G,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Cb={turnComplete:!0};class _b{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=en(o.turns),e.isVertexAI()||(l=l.map(a=>Ra(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(Sb)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Cb),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:ox(e)}:o={realtimeInput:ix(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function Ab(i){const e={};return i.forEach((o,l)=>{e[l]=o}),e}function wb(i){const e=new Headers;for(const[o,l]of Object.entries(i))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ag=10;function wg(i){var e,o,l;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Lo(d)){a=!0;break}if(!a)return!0;const u=(l=i==null?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Lo(i){return"callTool"in i&&typeof i.callTool=="function"}function xb(i){var e,o,l;return(l=(o=(e=i.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>Lo(a)))!==null&&l!==void 0?l:!1}function xg(i){var e;const o=[];return!((e=i==null?void 0:i.config)===null||e===void 0)&&e.tools&&i.config.tools.forEach((l,a)=>{if(Lo(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(a)}),o}function Ng(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nb extends zn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,a,u,d,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!xb(o)||wg(o.config))return await this.generateContentInternal(y);const g=xg(o);if(g.length>0){const R=g.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let v,S;const E=en(y.contents),A=(u=(a=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Ag;let M=0;for(;M<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const R=v.candidates[0].content,k=[];for(const Y of(h=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Lo(Y)){const G=await Y.callTool(v.functionCalls);k.push(...G)}M++,S={role:"user",parts:k},y.contents=en(y.contents),y.contents.push(R),y.contents.push(S),Ng(y.config)&&(E.push(R),E.push(S))}return Ng(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var l,a,u,d,h;if(this.maybeMoveToResponseJsonSchem(o),wg(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=xg(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(a=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var a;let u;const d=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:l.sdkHttpResponse},h}),this.list=async o=>{var l;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((l=d.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Vi(Pn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var l,a,u,d,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(u=o.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,a;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>Lo(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&_S(e.config.tools)){const y=(a=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),AS(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var o,l,a;const u=new Map;for(const d of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Lo(d)){const h=d,y=await h.tool();for(const g of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,h)}}return u}async processAfcStream(e){var o,l,a;const u=(a=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:Ag;let d=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(g,v,S){var E,A;return Io(this,arguments,function*(){for(var M,R,k,Y;h<u;){d&&(h++,d=!1);const ne=yield Qe(g.processParamsMaybeAddMcpUsage(S)),j=yield Qe(g.generateContentStreamInternal(ne)),V=[],L=[];try{for(var W=!0,G=(R=void 0,Bl(j)),K;K=yield Qe(G.next()),M=K.done,!M;W=!0){Y=K.value,W=!1;const B=Y;if(yield yield Qe(B),B.candidates&&(!((E=B.candidates[0])===null||E===void 0)&&E.content)){L.push(B.candidates[0].content);for(const F of(A=B.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(h<u&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(F.functionCall.name)){const ie=yield Qe(v.get(F.functionCall.name).callTool([F.functionCall]));V.push(...ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(B){R={error:B}}finally{try{!W&&!M&&(k=G.return)&&(yield Qe(k.call(G)))}finally{if(R)throw R.error}}if(V.length>0){d=!0;const B=new Ul;B.candidates=[{content:{role:"user",parts:V}}],yield yield Qe(B);const F=[];F.push(...L),F.push({role:"user",parts:V});const ie=en(S.contents).concat(F);S.contents=ie}else break}})})(this,y,e)}async generateContentInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Sg(this.apiClient,e);return h=le("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Eg(v),E=new Ul;return Object.assign(E,S),E})}else{const g=vg(this.apiClient,e);return h=le("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Tg(v),E=new Ul;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Sg(this.apiClient,e);return h=le("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),d.then(function(S){return Io(this,arguments,function*(){var E,A,M,R;try{for(var k=!0,Y=Bl(S),W;W=yield Qe(Y.next()),E=W.done,!E;k=!0){R=W.value,k=!1;const G=R,K=Eg(yield Qe(G.json()));K.sdkHttpResponse={headers:G.headers};const ne=new Ul;Object.assign(ne,K),yield yield Qe(ne)}}catch(G){A={error:G}}finally{try{!k&&!E&&(M=Y.return)&&(yield Qe(M.call(Y)))}finally{if(A)throw A.error}}})})}else{const g=vg(this.apiClient,e);return h=le("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(S){return Io(this,arguments,function*(){var E,A,M,R;try{for(var k=!0,Y=Bl(S),W;W=yield Qe(Y.next()),E=W.done,!E;k=!0){R=W.value,k=!1;const G=R,K=Tg(yield Qe(G.json()));K.sdkHttpResponse={headers:G.headers};const ne=new Ul;Object.assign(ne,K),yield yield Qe(ne)}}catch(G){A={error:G}}finally{try{!k&&!E&&(M=Y.return)&&(yield Qe(M.call(Y)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=qx(this.apiClient,e);return h=le("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Bx(v),E=new ng;return Object.assign(E,S),E})}else{const g=Ux(this.apiClient,e);return h=le("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Px(v),E=new ng;return Object.assign(E,S),E})}}async generateImagesInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=$x(this.apiClient,e);return h=le("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Xx(v),E=new ig;return Object.assign(E,S),E})}else{const g=Yx(this.apiClient,e);return h=le("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Kx(v),E=new ig;return Object.assign(E,S),E})}}async editImageInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=Mx(this.apiClient,e);return u=le("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=Dx(y),v=new G_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=$N(this.apiClient,e);return u=le("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=KN(y),v=new H_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=RN(this.apiClient,e);return u=le("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=MN(y),v=new V_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=PN(this.apiClient,e);return u=le("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=BN(y),v=new O_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=mN(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>mc(v))}else{const g=dN(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>dc(v))}}async listInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=CN(this.apiClient,e);return h=le("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=AN(v),E=new og;return Object.assign(E,S),E})}else{const g=EN(this.apiClient,e);return h=le("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=_N(v),E=new og;return Object.assign(E,S),E})}}async update(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=JN(this.apiClient,e);return h=le("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>mc(v))}else{const g=QN(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>dc(v))}}async delete(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=xx(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=bx(v),E=new lg;return Object.assign(E,S),E})}else{const g=wx(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Nx(v),E=new lg;return Object.assign(E,S),E})}}async countTokens(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Cx(this.apiClient,e);return h=le("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Ax(v),E=new sg;return Object.assign(E,S),E})}else{const g=Ex(this.apiClient,e);return h=le("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=_x(v),E=new sg;return Object.assign(E,S),E})}}async computeTokens(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=hx(this.apiClient,e);return u=le("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=px(y),v=new k_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=nN(this.apiClient,e);return h=le("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>{const S=eN(v),E=new pa;return Object.assign(E,S),E})}else{const g=tN(this.apiClient,e);return h=le("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const S=jx(v),E=new pa;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bb extends zn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=L_(e);return h=le("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d}else{const g=I_(e);return h=le("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=w_(e);return u=le("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rb(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Mb(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Gb(u))),f(e,["parts"],a)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function Db(i,e,o){const l={},a=c(e,["expireTime"]);o!==void 0&&a!=null&&f(o,["expireTime"],a);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&f(o,["newSessionExpireTime"],u);const d=c(e,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const h=c(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&f(o,["bidiGenerateContentSetup"],zb(i,h));const y=c(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),l}function Ib(i,e){const o={},l=c(e,["config"]);return l!=null&&f(o,["config"],Db(i,l,o)),o}function Lb(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Ub(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const a=c(i,["name"]);if(a!=null&&f(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qb(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function Pb(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function Bb(i,e){const o={},l=c(i,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],l);const a=c(i,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(i,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],zc(S));const E=c(i,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=c(i,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=c(i,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],Mb(gt(M)));const R=c(i,["tools"]);if(e!==void 0&&R!=null){let j=Bo(R);Array.isArray(j)&&(j=j.map(V=>Vb(Po(V)))),f(e,["setup","tools"],j)}const k=c(i,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],Hb(k));const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","inputAudioTranscription"],Y);const W=c(i,["outputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","outputAudioTranscription"],W);const G=c(i,["realtimeInputConfig"]);e!==void 0&&G!=null&&f(e,["setup","realtimeInputConfig"],G);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ne=c(i,["proactivity"]);return e!==void 0&&ne!=null&&f(e,["setup","proactivity"],ne),o}function zb(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["setup","model"],Ie(i,l));const a=c(e,["config"]);return a!=null&&f(o,["config"],Bb(a,o)),o}function Gb(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const a=c(i,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],Lb(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],Ub(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],Rb(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function Hb(i){const e={},o=c(i,["handle"]);if(o!=null&&f(e,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Vb(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const a=c(i,["computerUse"]);a!=null&&f(e,["computerUse"],a);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],qb(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],Pb(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ob(i){const e=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const l=i[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(u=>`${o}.${u}`);e.push(...a)}else e.push(o)}return e.join(",")}function kb(i,e){let o=null;const l=i.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(i.bidiGenerateContentSetup=u,o=u):delete i.bidiGenerateContentSetup}else l!==void 0&&delete i.bidiGenerateContentSetup;const a=i.fieldMask;if(o){const u=Ob(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?i.fieldMask=u:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?i.fieldMask=a.join(","):delete i.fieldMask;return i}class Fb extends zn{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=Ib(this.apiClient,e);u=le("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=kb(h,e.config);return a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qb(i,e){const o={},l=c(i,["displayName"]);return e!==void 0&&l!=null&&f(e,["displayName"],l),o}function Jb(i){const e={},o=c(i,["config"]);return o!=null&&Qb(o,e),e}function Yb(i,e){const o={},l=c(i,["force"]);return e!==void 0&&l!=null&&f(e,["_query","force"],l),o}function $b(i){const e={},o=c(i,["name"]);o!=null&&f(e,["_url","name"],o);const l=c(i,["config"]);return l!=null&&Yb(l,e),e}function Kb(i){const e={},o=c(i,["name"]);return o!=null&&f(e,["_url","name"],o),e}function Xb(i,e){const o={},l=c(i,["customMetadata"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const a=c(i,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),o}function Zb(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const a=c(i,["done"]);a!=null&&f(e,["done"],a);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],jb(d)),e}function Wb(i){const e={},o=c(i,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const l=c(i,["fileName"]);l!=null&&f(e,["fileName"],l);const a=c(i,["config"]);return a!=null&&Xb(a,e),e}function jb(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["parent"]);l!=null&&f(e,["parent"],l);const a=c(i,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function eR(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function tR(i){const e={},o=c(i,["config"]);return o!=null&&eR(o,e),e}function nR(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function iR(i,e){const o={},l=c(i,["mimeType"]);e!==void 0&&l!=null&&f(e,["mimeType"],l);const a=c(i,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const u=c(i,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),f(e,["customMetadata"],h)}const d=c(i,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),o}function oR(i){const e={},o=c(i,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const l=c(i,["config"]);return l!=null&&iR(l,e),e}function lR(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sR(i,e){const o={},l=c(i,["force"]);return e!==void 0&&l!=null&&f(e,["_query","force"],l),o}function aR(i){const e={},o=c(i,["name"]);o!=null&&f(e,["_url","name"],o);const l=c(i,["config"]);return l!=null&&sR(l,e),e}function rR(i){const e={},o=c(i,["name"]);return o!=null&&f(e,["_url","name"],o),e}function uR(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function cR(i){const e={},o=c(i,["parent"]);o!=null&&f(e,["_url","parent"],o);const l=c(i,["config"]);return l!=null&&uR(l,e),e}function fR(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const a=c(i,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dR extends zn{constructor(e){super(),this.apiClient=e,this.list=async o=>new Vi(Pn.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rR(e);return u=le("{name}",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=aR(e);a=le("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=cR(e);return u=le("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=fR(y),v=new F_;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR extends zn{constructor(e,o=new dR(e)){super(),this.apiClient=e,this.documents=o,this.list=async(l={})=>new Vi(Pn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Jb(e);return u=le("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Kb(e);return u=le("{name}",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=$b(e);a=le("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tR(e);return u=le("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=nR(y),v=new Q_;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oR(e);return u=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=lR(y),v=new J_;return Object.assign(v,g),v})}}async importFile(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Wb(e);return u=le("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=Zb(y),v=new Lc;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hR(i,e){const o={},l=c(i,["name"]);return l!=null&&f(o,["_url","name"],l),o}function pR(i,e){const o={},l=c(i,["name"]);return l!=null&&f(o,["_url","name"],l),o}function gR(i,e,o){const l={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(i,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(i,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(i,["learningRateMultiplier"]);if(d!=null&&f(l,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(i,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const y=c(i,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function yR(i,e,o){const l={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const A=c(i,["validationDataset"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec"],bg(A))}else if(a==="PREFERENCE_TUNING"){const A=c(i,["validationDataset"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec"],bg(A))}const u=c(i,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(i,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=c(i,["epochCount"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(h==="PREFERENCE_TUNING"){const A=c(i,["epochCount"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=c(i,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=c(i,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=c(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=c(i,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=c(i,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=c(i,["adapterSize"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=c(i,["adapterSize"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(c(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=c(i,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const E=c(i,["beta"]);return e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),l}function vR(i,e){const o={},l=c(i,["baseModel"]);l!=null&&f(o,["baseModel"],l);const a=c(i,["preTunedModel"]);a!=null&&f(o,["preTunedModel"],a);const u=c(i,["trainingDataset"]);u!=null&&RR(u);const d=c(i,["config"]);return d!=null&&gR(d,o),o}function SR(i,e){const o={},l=c(i,["baseModel"]);l!=null&&f(o,["baseModel"],l);const a=c(i,["preTunedModel"]);a!=null&&f(o,["preTunedModel"],a);const u=c(i,["trainingDataset"]);u!=null&&MR(u,o,e);const d=c(i,["config"]);return d!=null&&yR(d,o,e),o}function TR(i,e){const o={},l=c(i,["name"]);return l!=null&&f(o,["_url","name"],l),o}function ER(i,e){const o={},l=c(i,["name"]);return l!=null&&f(o,["_url","name"],l),o}function CR(i,e,o){const l={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(i,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),l}function _R(i,e,o){const l={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(i,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),l}function AR(i,e){const o={},l=c(i,["config"]);return l!=null&&CR(l,o),o}function wR(i,e){const o={},l=c(i,["config"]);return l!=null&&_R(l,o),o}function xR(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(i,["nextPageToken"]);a!=null&&f(o,["nextPageToken"],a);const u=c(i,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>wS(h))),f(o,["tuningJobs"],d)}return o}function NR(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(i,["nextPageToken"]);a!=null&&f(o,["nextPageToken"],a);const u=c(i,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>pc(h))),f(o,["tuningJobs"],d)}return o}function bR(i,e){const o={},l=c(i,["name"]);l!=null&&f(o,["model"],l);const a=c(i,["name"]);return a!=null&&f(o,["endpoint"],a),o}function RR(i,e){const o={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=c(i,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),f(o,["examples","examples"],a)}return o}function MR(i,e,o){const l={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=c(i,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=c(i,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(i,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(i,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function wS(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(i,["name"]);a!=null&&f(o,["name"],a);const u=c(i,["state"]);u!=null&&f(o,["state"],sS(u));const d=c(i,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(i,["tuningTask","startTime"]);h!=null&&f(o,["startTime"],h);const y=c(i,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=c(i,["description"]);v!=null&&f(o,["description"],v);const S=c(i,["baseModel"]);S!=null&&f(o,["baseModel"],S);const E=c(i,["_self"]);return E!=null&&f(o,["tunedModel"],bR(E)),o}function pc(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(i,["name"]);a!=null&&f(o,["name"],a);const u=c(i,["state"]);u!=null&&f(o,["state"],sS(u));const d=c(i,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(i,["startTime"]);h!=null&&f(o,["startTime"],h);const y=c(i,["endTime"]);y!=null&&f(o,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=c(i,["error"]);v!=null&&f(o,["error"],v);const S=c(i,["description"]);S!=null&&f(o,["description"],S);const E=c(i,["baseModel"]);E!=null&&f(o,["baseModel"],E);const A=c(i,["tunedModel"]);A!=null&&f(o,["tunedModel"],A);const M=c(i,["preTunedModel"]);M!=null&&f(o,["preTunedModel"],M);const R=c(i,["supervisedTuningSpec"]);R!=null&&f(o,["supervisedTuningSpec"],R);const k=c(i,["preferenceOptimizationSpec"]);k!=null&&f(o,["preferenceOptimizationSpec"],k);const Y=c(i,["tuningDataStats"]);Y!=null&&f(o,["tuningDataStats"],Y);const W=c(i,["encryptionSpec"]);W!=null&&f(o,["encryptionSpec"],W);const G=c(i,["partnerModelTuningSpec"]);G!=null&&f(o,["partnerModelTuningSpec"],G);const K=c(i,["customBaseModel"]);K!=null&&f(o,["customBaseModel"],K);const ne=c(i,["experiment"]);ne!=null&&f(o,["experiment"],ne);const j=c(i,["labels"]);j!=null&&f(o,["labels"],j);const V=c(i,["outputUri"]);V!=null&&f(o,["outputUri"],V);const L=c(i,["pipelineJob"]);L!=null&&f(o,["pipelineJob"],L);const B=c(i,["serviceAccount"]);B!=null&&f(o,["serviceAccount"],B);const F=c(i,["tunedModelDisplayName"]);F!=null&&f(o,["tunedModelDisplayName"],F);const ie=c(i,["veoTuningSpec"]);return ie!=null&&f(o,["veoTuningSpec"],ie),o}function DR(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(i,["name"]);a!=null&&f(o,["name"],a);const u=c(i,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(i,["done"]);d!=null&&f(o,["done"],d);const h=c(i,["error"]);return h!=null&&f(o,["error"],h),o}function bg(i,e){const o={},l=c(i,["gcsUri"]);l!=null&&f(o,["validationDatasetUri"],l);const a=c(i,["vertexDatasetResource"]);return a!=null&&f(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IR extends zn{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Vi(Pn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),u=await this.tuneMldevInternal(a);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:rc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=ER(e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>pc(v))}else{const g=TR(e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>wS(v))}}async listInternal(e){var o,l,a,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=wR(e);return h=le("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=NR(v),E=new ag;return Object.assign(E,S),E})}else{const g=AR(e);return h=le("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=xR(v),E=new ag;return Object.assign(E,S),E})}}async cancel(e){var o,l,a,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=pR(e);d=le("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=hR(e);d=le("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const h=SR(e,e);return u=le("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>pc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vR(e);return u=le("tunedModels",h._url),d=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>DR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LR{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const UR=1024*1024*8,qR=3,PR=1e3,BR=2,ya="x-goog-upload-status";async function zR(i,e,o){var l;const a=await xS(i,e,o),u=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[ya])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function GR(i,e,o){var l;const a=await xS(i,e,o),u=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[ya])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=eS(u),h=new Uc;return Object.assign(h,d),h}async function xS(i,e,o){var l,a;let u=0,d=0,h=new uc(new Response),y="upload";for(u=i.size;d<u;){const g=Math.min(UR,u-d),v=i.slice(d,d+g);d+g>=u&&(y+=", finalize");let S=0,E=PR;for(;S<qR&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((l=h==null?void 0:h.headers)===null||l===void 0)&&l[ya]));)S++,await VR(E),E=E*BR;if(d+=g,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[ya])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function HR(i){return{size:i.size,type:i.type}}function VR(i){return new Promise(e=>setTimeout(e,i))}class OR{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zR(e,o,l)}async uploadToFileSearchStore(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GR(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kR{create(e,o,l){return new FR(e,o,l)}}class FR{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg="x-goog-api-key";class QR{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Rg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Rg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JR="gl-node/";class YR{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=__(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const a=new QR(this.apiKey);this.apiClient=new rb({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:JR+"web",uploader:new OR,downloader:new LR}),this.models=new Nb(this.apiClient),this.live=new Eb(this.apiClient,a,new kR),this.batches=new WA(this.apiClient),this.chats=new Lw(this.models,this.apiClient),this.caches=new Mw(this.apiClient),this.files=new kw(this.apiClient),this.operations=new bb(this.apiClient),this.authTokens=new Fb(this.apiClient),this.tunings=new IR(this.apiClient),this.fileSearchStores=new mR(this.apiClient)}}const NS=()=>new YR({apiKey:"PLACEHOLDER_API_KEY"});async function $R(i,e,o){var h,y,g,v;const l=e.openaiApiKey;let a=(h=e.openaiBaseUrl)==null?void 0:h.trim();const u=e.openaiModel||"gpt-3.5-turbo";if(!a)throw new Error("OpenAI Base URL is missing in settings. Please configure it (e.g., https://api.openai.com/v1).");/^https?:\/\//i.test(a)||(a=`https://${a}`),a=a.replace(/\/+$/,"");const d=`You are an empathetic, articulate, and observant writer. 
Your goal is to turn mundane notes into a meaningful narrative that feels personal and warm.
You MUST respond with a valid JSON object matching this schema:
${JSON.stringify(o,null,2)}
Do not wrap the JSON in markdown code blocks. Just return the raw JSON string.`;try{const S=await fetch(`${a}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({model:u,messages:[{role:"system",content:d},{role:"user",content:i}],temperature:.7,response_format:{type:"json_object"}})});if(!S.ok){const R=await S.text();throw new Error(`OpenAI API Error: ${S.status} - ${R}`)}const A=(v=(g=(y=(await S.json()).choices)==null?void 0:y[0])==null?void 0:g.message)==null?void 0:v.content;if(!A)throw new Error("Empty response from OpenAI provider");const M=A.replace(/^```(?:json)?\s*/,"").replace(/\s*```$/,"").trim();return JSON.parse(M)}catch(S){throw console.error("OpenAI Generation Error:",S),S.name==="TypeError"&&S.message==="Failed to fetch"?new Error("Connection failed. Check your Base URL. If you are using a browser, ensure the API endpoint supports CORS."):S}}async function KR(i,e,o,l){var E;const a=l.openaiApiKey;let u=(E=l.openaiBaseUrl)==null?void 0:E.trim();if(!u)throw new Error("OpenAI Base URL is missing.");/^https?:\/\//i.test(u)||(u=`https://${u}`),u=u.replace(/\/+$/,"");const d=atob(i),h=new Array(d.length);for(let A=0;A<d.length;A++)h[A]=d.charCodeAt(A);const y=new Uint8Array(h),g=new Blob([y],{type:e}),v=new FormData,S=e.split("/")[1]||"webm";v.append("file",g,`recording.${S}`),v.append("model","whisper-1"),o==="zh"?v.append("language","zh"):v.append("language","en");try{const A=await fetch(`${u}/audio/transcriptions`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:v});if(!A.ok){const R=await A.text();throw new Error(`OpenAI Transcription Error: ${A.status} - ${R}`)}return(await A.json()).text||""}catch(A){throw console.error("OpenAI Transcription Error:",A),A.name==="TypeError"&&A.message==="Failed to fetch"?new Error("Connection failed during transcription. Check Base URL and CORS."):A}}const XR=async(i,e,o="default",l)=>{if(i.length===0)throw new Error("No fragments to summarize.");const a=i.map(E=>{const A=new Date(E.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),M=E.tags&&E.tags.length>0?` [Tags: ${E.tags.join(", ")}]`:"";return`[${A}] ${E.content}${M}`}).join(`
`),u=e==="zh"?"IMPORTANT: Write the entire response (title, content, mood, reflection, tags) in Simplified Chinese (Mandarin).":"Write in English.";let d="";o!=="default"&&(d=`ADOPT A SPECIFIC TONE: The user explicitly requested a "${o}" writing style. Ensure the vocabulary, sentence structure, and emotional weight reflect this specific persona/vibe.`);const h=`
    Here are my raw fragmented notes from today:
    
    ${a}
    
    Please weave these fragments into a cohesive, beautifully written, first-person diary entry.
    Infer the underlying mood and themes. 
    Add a title that captures the essence of the day.
    Include a short "reflection" that synthesizes a takeaway or philosophical thought based on the events.
    Extract 3-5 relevant keywords/tags.

    ${d}

    ${u}
  `,y={type:St.OBJECT,properties:{title:{type:St.STRING,description:"A creative title for the diary entry"},content:{type:St.STRING,description:"The main body of the diary entry, rich in description and emotion."},mood:{type:St.STRING,description:"One or two words describing the overall mood (e.g., Melancholic, Productive, Serene)"},reflection:{type:St.STRING,description:"A profound or summarizing closing thought."},tags:{type:St.ARRAY,items:{type:St.STRING},description:"Key themes or topics from the day"}},required:["title","content","mood","reflection","tags"],propertyOrdering:["title","mood","content","reflection","tags"]};if(l&&l.provider==="openai")return $R(h,l,y);const g=NS();let v;const S=3;for(let E=0;E<S;E++)try{const M=(await g.models.generateContent({model:"gemini-2.5-flash",contents:[{parts:[{text:h}]}],config:{responseMimeType:"application/json",responseSchema:y,systemInstruction:"You are an empathetic, articulate, and observant writer. Your goal is to turn mundane notes into a meaningful narrative that feels personal and warm."}})).text;if(!M)throw new Error("Empty response from AI");return JSON.parse(M)}catch(A){console.warn(`Attempt ${E+1} failed:`,A),v=A,E<S-1&&await new Promise(M=>setTimeout(M,1e3*Math.pow(2,E)))}throw console.error("Gemini Service Error after retries:",v),v},ZR=async(i,e,o,l)=>{if(l&&l.provider==="openai")return KR(i,e,o,l);const a=NS(),u=o==="zh"?"Transcribe this audio directly into Simplified Chinese text. Do not add any explanations.":"Transcribe this audio directly into English text. Do not add any explanations.";try{return(await a.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:e,data:i}},{text:u}]}})).text||""}catch(d){throw console.error("Transcription Error:",d),d}},bo="fragment_diary_draft",WR=({onAdd:i,language:e,apiConfig:o})=>{const[l,a]=de.useState(""),[u,d]=de.useState(""),[h,y]=de.useState(!1),[g,v]=de.useState(!1),[S,E]=de.useState(!1),[A,M]=de.useState(!1),R=de.useRef(null),k=de.useRef([]),Y=hi(e);de.useEffect(()=>{const B=localStorage.getItem(bo);if(B)try{const F=JSON.parse(B);(F.text&&F.text.trim()||F.tags&&F.tags.trim())&&M(!0)}catch(F){console.error("Failed to parse draft",F)}},[]),de.useEffect(()=>{if(A&&!l&&!u)return;if(A&&(l||u)&&M(!1),l.trim()||u.trim()){const F={text:l,tags:u};localStorage.setItem(bo,JSON.stringify(F))}else A||localStorage.removeItem(bo)},[l,u,A]);const W=()=>{const B=localStorage.getItem(bo);if(B)try{const F=JSON.parse(B);a(F.text||""),d(F.tags||""),F.tags&&F.tags.trim()&&y(!0),M(!1)}catch{}},G=()=>{localStorage.removeItem(bo),M(!1)},K=de.useCallback(B=>{if(B.preventDefault(),l.trim()){const F=u.split(",").map(ie=>ie.trim()).filter(ie=>ie.length>0);i(l,F),a(""),d(""),y(!1),localStorage.removeItem(bo)}},[l,u,i]),ne=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),K(B))},j=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({audio:!0}),F=new MediaRecorder(B);R.current=F,k.current=[],F.ondataavailable=ie=>{ie.data.size>0&&k.current.push(ie.data)},F.onstop=async()=>{const ie=new Blob(k.current,{type:"audio/webm"});B.getTracks().forEach(re=>re.stop()),await L(ie)},F.start(),v(!0)}catch(B){console.error("Error accessing microphone:",B),alert("Could not access microphone. Please check permissions.")}},V=()=>{R.current&&g&&(R.current.stop(),v(!1))},L=async B=>{E(!0);try{const F=new FileReader;F.readAsDataURL(B),F.onloadend=async()=>{const re=F.result.split(",")[1],ae=await ZR(re,"audio/webm",e,o);ae&&a(Te=>Te?`${Te} ${ae}`:ae),E(!1)}}catch(F){console.error("Transcription failed",F),E(!1),alert(Y.transcriptionFailed)}};return _.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 mb-8 transition-shadow focus-within:shadow-md overflow-hidden",children:[A&&_.jsxs("div",{className:"px-4 py-2 bg-indigo-50 border-b border-indigo-100 flex items-center justify-between fade-in slide-in-from-top","data-state":"open",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-indigo-600",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h3.25a.75.75 0 00.75-.75v-3.25z",clipRule:"evenodd"})}),_.jsx("span",{className:"text-xs text-indigo-700 font-medium",children:Y.unsavedDraft})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:W,className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 hover:underline",children:Y.restore}),_.jsx("button",{onClick:G,className:"text-xs text-gray-400 hover:text-gray-600 hover:underline",children:Y.discard})]})]}),_.jsxs("form",{onSubmit:K,className:"flex flex-col",children:[_.jsx("textarea",{value:l,onChange:B=>a(B.target.value),onKeyDown:ne,placeholder:S?Y.transcribing:Y.placeholder,disabled:S,className:`w-full min-h-[100px] p-4 text-gray-700 placeholder-gray-400 bg-transparent outline-none resize-none font-sans text-base ${S?"animate-pulse":""}`,rows:3}),h&&_.jsx("div",{className:"px-4 pb-2 fade-in slide-in-from-top duration-200","data-state":"open",children:_.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-md px-2 border border-gray-200 focus-within:ring-2 focus-within:ring-indigo-100 focus-within:border-indigo-300 transition-all",children:[_.jsx("span",{className:"text-gray-400 text-sm",children:"#"}),_.jsx("input",{type:"text",value:u,onChange:B=>d(B.target.value),onKeyDown:ne,placeholder:Y.fragmentTagPlaceholder,className:"w-full py-2 bg-transparent border-none outline-none text-sm text-gray-600 placeholder-gray-400"})]})}),_.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50/50 border-t border-gray-50",children:[_.jsxs("div",{className:"flex-1 flex items-center gap-3 min-h-[24px]",children:[_.jsx("button",{type:"button",onClick:()=>y(!h),className:`text-gray-400 hover:text-indigo-600 transition-colors p-1 rounded-md hover:bg-indigo-50 ${h?"text-indigo-600 bg-indigo-50":""}`,title:"Add tags",children:_.jsx("span",{className:"font-bold text-lg",children:"#"})}),S&&_.jsx("span",{className:"text-xs text-indigo-500 font-medium animate-pulse bg-indigo-50 px-3 py-1 rounded-full",children:Y.transcribing})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{type:"button",onClick:g?V:j,disabled:S,className:`p-2 rounded-full transition-all flex items-center justify-center w-10 h-10 ${g?"bg-red-500 hover:bg-red-600 text-white animate-pulse shadow-md":"bg-gray-100 hover:bg-gray-200 text-gray-500 hover:text-indigo-600"}`,title:g?Y.stopRecording:Y.startRecording,children:g?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:_.jsx("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-9a3 3 0 01-3-3v-9z",clipRule:"evenodd"})}):_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:[_.jsx("path",{d:"M8.25 4.5a3.75 3.75 0 117.5 0v8.25a3.75 3.75 0 11-7.5 0V4.5z"}),_.jsx("path",{d:"M6 10.5a.75.75 0 01.75.75v1.5a5.25 5.25 0 1010.5 0v-1.5a.75.75 0 011.5 0v1.5a6.751 6.751 0 01-6 6.709v2.291h3a.75.75 0 010 1.5h-7.5a.75.75 0 010-1.5h3v-2.291a6.751 6.751 0 01-6-6.709v-1.5A.75.75 0 016 10.5z"})]})}),_.jsx("button",{type:"submit",disabled:!l.trim()||g||S,className:`p-2 rounded-full transition-all flex items-center justify-center w-10 h-10 shadow-sm ${!l.trim()||g||S?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200"}`,"aria-label":Y.addNote,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]})]})]})]})},jR=({fragments:i,onDelete:e,onUpdate:o,language:l})=>{const a=de.useRef(null),[u,d]=de.useState(null),[h,y]=de.useState(null),[g,v]=de.useState(null),[S,E]=de.useState(""),[A,M]=de.useState(""),R=hi(l);de.useEffect(()=>{a.current&&(a.current.scrollTop=0)},[i.length]);const k=de.useMemo(()=>{const L=new Set;return i.forEach(B=>{var F;return(F=B.tags)==null?void 0:F.forEach(ie=>L.add(ie))}),Array.from(L).sort()},[i]),Y=de.useMemo(()=>{let L=i;return h&&(L=i.filter(B=>{var F;return(F=B.tags)==null?void 0:F.includes(h)})),[...L].sort((B,F)=>F.timestamp-B.timestamp)},[i,h]),W=L=>{d(L)},G=()=>{u&&(e(u),d(null))},K=()=>{d(null)},ne=L=>{var B;v(L.id),E(L.content),M(((B=L.tags)==null?void 0:B.join(", "))||"")},j=()=>{if(g&&S.trim()){const L=A.split(",").map(B=>B.trim()).filter(B=>B.length>0);o(g,S,L),v(null)}},V=()=>{v(null),E(""),M("")};return i.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 mb-3 opacity-50",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),_.jsx("p",{children:R.noNotes})]}):_.jsxs("div",{className:"flex-grow flex flex-col relative mb-6",children:[k.length>0&&_.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 px-1 fade-in slide-in-from-top duration-300","data-state":"open",children:[_.jsx("button",{onClick:()=>y(null),className:`px-3 py-1 rounded-full text-xs font-medium transition-all ${h===null?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:R.filterAll}),k.map(L=>_.jsxs("button",{onClick:()=>y(h===L?null:L),className:`px-3 py-1 rounded-full text-xs font-medium transition-all border ${h===L?"bg-indigo-100 text-indigo-700 border-indigo-200 shadow-sm":"bg-white text-gray-500 border-gray-200 hover:border-indigo-200 hover:text-indigo-600"}`,children:["#",L]},L))]}),_.jsxs("div",{className:"relative flex-grow",children:[_.jsx("div",{className:"absolute left-[19px] md:left-[50%] top-0 bottom-0 w-3.5 -translate-x-1/2 z-0 flex items-center justify-center",children:_.jsx("div",{className:"w-0.5 h-full bg-gray-200"})}),_.jsx("div",{ref:a,className:"space-y-6 relative z-10 max-h-[60vh] overflow-y-auto pr-2 scroll-smooth py-4",children:Y.length===0?_.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic bg-white/50 rounded-lg",children:["No fragments found with tag #",h]}):Y.map((L,B)=>{const ie=new Date(L.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),re=g===L.id,ae=B%2===0;return _.jsxs("div",{className:`flex md:flex-row flex-col items-start md:items-center group ${ae?"md:flex-row-reverse":""}`,children:[_.jsx("div",{className:`md:w-1/2 w-full flex ${ae?"md:justify-start md:pl-20":"md:justify-end md:pr-20"} pl-10 md:px-0 mb-1 md:mb-0`,children:_.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider font-sans md:text-sm",children:ie})}),_.jsx("div",{className:"absolute left-[19px] md:left-[50%] w-3.5 h-3.5 bg-gradient-to-br from-indigo-500 to-purple-600 border-2 border-white rounded-full -translate-x-1/2 shadow-md shadow-indigo-200 z-20 mt-1.5 md:mt-0 ring-2 ring-indigo-50"}),_.jsx("div",{className:`md:w-1/2 w-full pl-10 ${ae?"md:pr-10 md:pl-0":"md:pl-10"}`,children:re?_.jsxs("div",{className:"relative bg-white p-4 rounded-xl border-2 border-indigo-100 shadow-md z-20",children:[_.jsx("textarea",{value:S,onChange:Te=>E(Te.target.value),className:"w-full text-sm text-gray-700 border-none outline-none resize-none bg-transparent mb-3 font-sans md:text-base",rows:3,autoFocus:!0,placeholder:"Edit note..."}),_.jsxs("div",{className:"flex items-center gap-2 mb-3 bg-gray-50 rounded px-2 border border-gray-100",children:[_.jsx("span",{className:"text-gray-400 text-sm",children:"#"}),_.jsx("input",{value:A,onChange:Te=>M(Te.target.value),className:"w-full py-1 bg-transparent text-sm text-gray-600 outline-none",placeholder:R.fragmentTagPlaceholder})]}),_.jsxs("div",{className:"flex justify-end gap-2 border-t border-gray-50 pt-2",children:[_.jsx("button",{onClick:V,className:"text-xs font-medium px-3 py-1.5 rounded text-gray-500 hover:bg-gray-100",children:R.cancel}),_.jsx("button",{onClick:j,className:"text-xs font-medium px-3 py-1.5 rounded bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm",children:R.save})]})]}):_.jsxs("div",{className:"relative bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group-hover:border-indigo-100",children:[_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm md:text-base",children:L.content}),L.tags&&L.tags.length>0&&_.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:L.tags.map((Te,Le)=>_.jsxs("span",{className:"text-xs text-indigo-500 bg-indigo-50 px-2 py-1 rounded-md md:text-sm",children:["#",Te]},Le))}),_.jsxs("div",{className:"absolute -top-4 right-3 flex items-center opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out translate-y-1 group-hover:translate-y-0 bg-white shadow-lg shadow-gray-200/50 border border-gray-100 rounded-full overflow-hidden z-10 hover:shadow-xl hover:shadow-gray-300/60",children:[_.jsx("button",{onClick:()=>ne(L),className:"p-2.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50/50 transition-colors border-r border-gray-100/50",title:R.edit,children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[_.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),_.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})}),_.jsx("button",{onClick:()=>W(L.id),className:"p-2.5 text-gray-400 hover:text-red-500 hover:bg-red-50/50 transition-colors",title:R.deleteNote,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})})]})]})})]},L.id)})})]}),u&&_.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/80 backdrop-blur-sm rounded-xl fade-in duration-200","data-state":"open",children:_.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-xl p-6 max-w-xs w-full transform scale-100",children:[_.jsx("h3",{className:"text-lg font-serif font-semibold text-gray-800 mb-2",children:R.deleteConfirmTitle}),_.jsx("p",{className:"text-sm text-gray-500 mb-6",children:R.deleteConfirmMessage}),_.jsxs("div",{className:"flex justify-end gap-3",children:[_.jsx("button",{onClick:K,className:"text-sm font-medium text-gray-600 hover:bg-gray-50 px-4 py-2 rounded-lg transition-colors",children:R.cancel}),_.jsx("button",{onClick:G,className:"text-sm font-medium bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 shadow-sm shadow-red-200 transition-colors",children:R.confirmDelete})]})]})})]})},e1=({entry:i,onBack:e,onUpdate:o,language:l})=>{const a=hi(l),u=l==="zh"?"zh-CN":"en-US",d=new Date().toLocaleDateString(u,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),[h,y]=de.useState(!1),[g,v]=de.useState(i),[S,E]=de.useState(i.tags.join(", "));de.useEffect(()=>{v(i),E(i.tags.join(", "))},[i]);const A=()=>{const R={...g,tags:S.split(",").map(k=>k.trim()).filter(k=>k.length>0)};o(R),y(!1)},M=()=>{v(i),E(i.tags.join(", ")),y(!1)};return _.jsxs("div",{className:"fade-in max-w-3xl mx-auto pb-20","data-state":"open",children:[_.jsxs("div",{className:"bg-paper border border-stone-100 shadow-xl rounded-sm p-8 md:p-12 relative overflow-hidden transition-all",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 opacity-30"}),_.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:h?_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:M,className:"text-xs font-medium px-3 py-1.5 rounded text-gray-500 hover:bg-gray-100 hover:text-gray-700",children:a.cancel}),_.jsx("button",{onClick:A,className:"text-xs font-medium px-3 py-1.5 rounded bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm",children:a.save})]}):_.jsx("button",{onClick:()=>y(!0),className:"p-2 text-gray-400 hover:text-indigo-600 rounded-full hover:bg-indigo-50 transition-colors",title:a.edit,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})}),h?_.jsxs("div",{className:"space-y-6 mt-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:a.moodLabel}),_.jsx("input",{type:"text",value:g.mood,onChange:R=>v({...g,mood:R.target.value}),className:"w-full p-2 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-sans text-sm"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:a.titleLabel}),_.jsx("input",{type:"text",value:g.title,onChange:R=>v({...g,title:R.target.value}),className:"w-full p-2 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-serif text-xl"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:a.contentLabel}),_.jsx("textarea",{value:g.content,onChange:R=>v({...g,content:R.target.value}),rows:10,className:"w-full p-3 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-serif text-base leading-relaxed"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:a.reflectionLabel}),_.jsx("textarea",{value:g.reflection,onChange:R=>v({...g,reflection:R.target.value}),rows:3,className:"w-full p-3 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-serif italic text-gray-600"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:a.tagsLabel}),_.jsx("input",{type:"text",value:S,onChange:R=>E(R.target.value),className:"w-full p-2 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-sans text-sm"})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"mb-8 text-center mt-4",children:[_.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-xs font-medium uppercase tracking-wider mb-4",children:i.mood}),_.jsx("h2",{className:"font-serif text-3xl md:text-4xl text-gray-900 mb-2 leading-tight",children:i.title}),_.jsx("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm font-sans",children:_.jsx("span",{children:d})})]}),_.jsx("div",{className:"prose prose-stone prose-lg max-w-none font-serif leading-loose text-gray-800 first-letter:text-5xl first-letter:font-serif first-letter:float-left first-letter:mr-2 first-letter:mt-[-4px] text-justify",children:i.content.split(`
`).map((R,k)=>R.trim()&&_.jsx("p",{className:"mb-4",children:R},k))}),_.jsxs("div",{className:"mt-10 pt-8 border-t border-gray-200",children:[_.jsx("h3",{className:"text-sm font-sans font-bold text-gray-400 uppercase tracking-widest mb-3",children:a.reflectionLabel}),_.jsxs("p",{className:"font-serif italic text-gray-600 text-lg bg-gray-50 p-6 rounded-r-lg border-l-4 border-indigo-300",children:['"',i.reflection,'"']})]}),_.jsx("div",{className:"mt-8 flex flex-wrap gap-2",children:i.tags.map(R=>_.jsxs("span",{className:"text-xs text-gray-500 px-2 py-1 border border-gray-200 rounded hover:bg-gray-50 cursor-default",children:["#",R]},R))})]})]}),_.jsx("div",{className:"mt-8 text-center",children:_.jsxs("button",{onClick:e,className:"text-gray-500 hover:text-gray-900 text-sm font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),a.backToFragments]})})]})},bS=i=>{const e=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),l=String(i.getDate()).padStart(2,"0");return`${e}-${o}-${l}`},gc=()=>bS(new Date),Gl=(i,e="en")=>{const[o,l,a]=i.split("-").map(Number),u=new Date(o,l-1,a),d=new Date;d.setHours(0,0,0,0);const h=new Date(d);h.setDate(d.getDate()-1);const y=jv[e];if(u.getTime()===d.getTime())return y.today;if(u.getTime()===h.getTime())return y.yesterday;const g=e==="zh"?"zh-CN":"en-US";return u.toLocaleDateString(g,{weekday:"long",month:"short",day:"numeric"})},Mg=(i,e)=>{const[o,l,a]=i.split("-").map(Number),u=new Date(o,l-1,a);return u.setDate(u.getDate()+e),bS(u)},t1=({selectedDate:i,onSelect:e,maxDate:o,language:l,onClose:a})=>{const[u,d,h]=i.split("-").map(Number),[y,g]=de.useState(new Date(u,d-1,1)),v=l==="zh"?["","","","","","",""]:["Su","Mo","Tu","We","Th","Fr","Sa"],S=l==="zh"?["","","","","","","","","","","",""]:["January","February","March","April","May","June","July","August","September","October","November","December"],E=(L,B)=>new Date(L,B+1,0).getDate(),A=(L,B)=>new Date(L,B,1).getDay(),M=y.getFullYear(),R=y.getMonth(),k=E(M,R),Y=A(M,R),W=L=>`${M}-${String(R+1).padStart(2,"0")}-${String(L).padStart(2,"0")}`===i,G=L=>`${M}-${String(R+1).padStart(2,"0")}-${String(L).padStart(2,"0")}`>o,K=L=>{const B=new Date;return B.getDate()===L&&B.getMonth()===R&&B.getFullYear()===M},ne=L=>{L.stopPropagation(),g(new Date(M,R-1,1))},j=L=>{L.stopPropagation(),g(new Date(M,R+1,1))},V=L=>{if(G(L))return;const B=`${M}-${String(R+1).padStart(2,"0")}-${String(L).padStart(2,"0")}`;e(B),a()};return _.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 p-3 w-64 z-50 animate-in zoom-in-95 duration-200 select-none",onClick:L=>L.stopPropagation(),children:[_.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[_.jsx("button",{onClick:ne,className:"p-1 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})}),_.jsxs("div",{className:"font-serif font-semibold text-sm text-gray-800",children:[S[R]," ",M]}),_.jsx("button",{onClick:j,className:"p-1 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})})]}),_.jsx("div",{className:"grid grid-cols-7 mb-1",children:v.map(L=>_.jsx("div",{className:"text-center text-[10px] font-medium text-gray-400 py-1",children:L},L))}),_.jsxs("div",{className:"grid grid-cols-7 gap-0.5",children:[Array.from({length:Y}).map((L,B)=>_.jsx("div",{},`empty-${B}`)),Array.from({length:k}).map((L,B)=>{const F=B+1,ie=W(F),re=G(F),ae=K(F);return _.jsxs("button",{onClick:()=>V(F),disabled:re,className:`
                        h-8 w-8 rounded-full flex items-center justify-center text-xs transition-all relative mx-auto
                        ${ie?"bg-indigo-600 text-white shadow-sm font-bold":re?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}
                        ${ae&&!ie?"bg-indigo-50 text-indigo-700 font-semibold":""}
                    `,children:[F,ae&&!ie&&_.jsx("span",{className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-0.5 h-0.5 bg-indigo-400 rounded-full"})]},F)})]}),_.jsx("div",{className:"mt-3 pt-2 border-t border-gray-50 flex justify-center",children:_.jsx("button",{onClick:()=>{const L=new Date,B=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}-${String(L.getDate()).padStart(2,"0")}`;e(B),a()},className:"text-xs font-medium text-indigo-500 hover:text-indigo-700 transition-colors",children:l==="zh"?"":"Jump to Today"})})]})},n1=({currentDate:i,onPrev:e,onNext:o,canGoNext:l,language:a,onDateSelect:u})=>{const d=gc(),[h,y]=de.useState(!1),g=de.useRef(null);return de.useEffect(()=>{const v=S=>{g.current&&!g.current.contains(S.target)&&y(!1)};return h&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[h]),_.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 mb-4 select-none relative z-20",children:[_.jsx("button",{onClick:e,className:"p-1.5 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all focus:outline-none focus:ring-2 focus:ring-gray-200 shrink-0 active:scale-95","aria-label":"Previous day",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),_.jsxs("div",{ref:g,className:`
            relative group flex items-center justify-center gap-2 px-4 py-1.5 rounded-full transition-all text-center cursor-pointer border border-transparent min-w-[160px]
            ${h?"bg-white shadow-sm border-indigo-100 text-indigo-600":"hover:bg-white/60 hover:shadow-sm text-gray-700"}
        `,onClick:()=>y(!h),children:[_.jsxs("div",{className:"flex items-center gap-2 relative z-0",children:[_.jsx("h2",{className:"text-xl font-serif font-semibold whitespace-nowrap",children:Gl(i,a)}),_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:`w-3.5 h-3.5 transition-transform duration-200 ${h?"rotate-180":"text-gray-400 group-hover:text-indigo-600"}`,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),h&&_.jsx(t1,{selectedDate:i,maxDate:d,onSelect:u,language:a,onClose:()=>y(!1)})]}),_.jsx("button",{onClick:o,disabled:!l,className:`p-1.5 rounded-full transition-all focus:outline-none focus:ring-2 focus:ring-gray-200 shrink-0 active:scale-95 ${l?"text-gray-400 hover:text-gray-900 hover:bg-gray-100":"text-gray-200 cursor-not-allowed"}`,"aria-label":"Next day",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]})},i1=({isOpen:i,onClose:e,dates:o,onSelectDate:l,activeDate:a,language:u})=>{const d=hi(u);return i?_.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[_.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity",onClick:e}),_.jsxs("div",{className:"relative w-full max-w-sm bg-white shadow-2xl h-full overflow-y-auto slide-in-from-right duration-300 flex flex-col","data-state":"open",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-white sticky top-0 z-10",children:[_.jsx("h2",{className:"font-serif text-xl font-semibold text-gray-800",children:d.historyTitle}),_.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-700 rounded-full hover:bg-gray-100",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"p-4 space-y-3",children:[o.length===0&&_.jsx("p",{className:"text-center text-gray-400 py-8",children:d.noEntries}),o.map(h=>{const y=h===a;return _.jsxs("button",{onClick:()=>{l(h),e()},className:`w-full text-left p-4 rounded-xl transition-all border ${y?"bg-indigo-50 border-indigo-200 shadow-sm ring-1 ring-indigo-200":"bg-white border-gray-100 hover:border-gray-200 hover:shadow-sm"}`,children:[_.jsxs("div",{className:"flex justify-between items-start mb-1",children:[_.jsx("span",{className:`font-semibold ${y?"text-indigo-900":"text-gray-700"}`,children:Gl(h,u)}),_.jsx("span",{className:"text-xs text-gray-400 font-mono",children:h})]}),_.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Click to view"})]},h)})]})]})]}):null},o1=({results:i,query:e,onSelect:o,language:l})=>{const a=hi(l);return i.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400 fade-in","data-state":"open",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 mb-4 text-gray-200",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),_.jsxs("p",{className:"text-lg font-medium text-gray-500",children:[a.noResultsFound,' "',e,'"']})]}):_.jsxs("div",{className:"fade-in duration-500 pb-12","data-state":"open",children:[_.jsxs("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})}),a.searchResults," (",i.length,")"]}),_.jsx("div",{className:"space-y-4",children:i.map((u,d)=>_.jsxs("button",{onClick:()=>o(u.date),className:"w-full text-left bg-white p-5 rounded-xl border border-gray-100 shadow-sm hover:shadow-md hover:border-indigo-200 transition-all group",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-indigo-600 font-semibold text-sm group-hover:underline",children:Gl(u.date,l)}),_.jsx("span",{className:"text-xs text-gray-400",children:u.date})]}),_.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-medium uppercase tracking-wider ${u.type==="diary"?"bg-purple-50 text-purple-700":"bg-gray-100 text-gray-600"}`,children:u.type==="diary"?a.diaryCreated:a.fragment})]}),_.jsxs("div",{className:"mb-2",children:[_.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase mr-2",children:[u.matchField,":"]}),_.jsx("span",{className:"text-gray-800 font-medium text-sm font-serif",children:u.preview})]}),_.jsxs("div",{className:"text-xs text-gray-400 italic flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx("span",{children:"Go to entry"}),_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:_.jsx("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z",clipRule:"evenodd"})})]})]},`${u.date}-${d}`))})]})},l1=({isOpen:i,onClose:e,data:o,onImport:l,language:a,apiConfig:u,onSaveConfig:d})=>{const h=hi(a),y=de.useRef(null),[g,v]=de.useState("idle"),[S,E]=de.useState(u),[A,M]=de.useState(!1);if(de.useEffect(()=>{i&&(E(u),M(!1),v("idle"))},[i,u]),!i)return null;const R=()=>{d(S),M(!0),setTimeout(()=>M(!1),3e3)},k=()=>{if(!o){alert("Export functionality temporarily unavailable");return}const G=JSON.stringify(o,null,2),K=new Blob([G],{type:"application/json"}),ne=URL.createObjectURL(K),j=document.createElement("a");j.href=ne,j.download=`fragment-diary-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j)},Y=()=>{if(!o){alert("Export functionality temporarily unavailable");return}let G=`# Fragment to Diary Export
Generated on ${new Date().toLocaleDateString()}

`;Object.keys(o).sort().reverse().forEach(L=>{const B=o[L],F=B.diaryEntry,ie=B.fragments;(!ie||ie.length===0)&&!F||(G+=`## ${L}

`,F&&(G+=`### ${h.diaryCreated}: ${F.title}
`,G+=`**${h.moodLabel}:** ${F.mood} | **${h.tagsLabel}:** ${F.tags.join(", ")}

`,G+=`${F.content}

`,G+=`> *${h.reflectionLabel}: ${F.reflection}*

`),ie&&ie.length>0&&(G+=`### ${h.fragments}
`,[...ie].sort((ae,Te)=>ae.timestamp-Te.timestamp).forEach(ae=>{let Le=`- **${new Date(ae.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}**: ${ae.content}`;ae.tags&&ae.tags.length>0&&(Le+=` _(#${ae.tags.join(", #")})_`),G+=`${Le}
`}),G+=`
`),G+=`---

`)});const ne=new Blob([G],{type:"text/markdown"}),j=URL.createObjectURL(ne),V=document.createElement("a");V.href=j,V.download=`fragment-diary-export-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(V),V.click(),document.body.removeChild(V)},W=G=>{var j;const K=(j=G.target.files)==null?void 0:j[0];if(!K)return;const ne=new FileReader;ne.onload=V=>{var L;try{const B=(L=V.target)==null?void 0:L.result,F=JSON.parse(B);typeof F=="object"&&F!==null&&!Array.isArray(F)&&Object.values(F).every(ae=>ae&&Array.isArray(ae.fragments)&&(ae.diaryEntry===null||typeof ae.diaryEntry=="object"))?(l(F),v("success"),setTimeout(()=>v("idle"),3e3)):v("error")}catch(B){console.error(B),v("error")}},ne.readAsText(K),G.target.value=""};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm fade-in duration-200","data-state":"open",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative zoom-in-95 max-h-[90vh] overflow-y-auto custom-scrollbar","data-state":"open",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-gray-100 pb-4 sticky top-0 bg-white z-10",children:[_.jsx("h2",{className:"text-xl font-serif font-semibold text-gray-800",children:h.settings}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:h.aiConfig}),_.jsxs("div",{className:"p-5 border border-gray-100 rounded-xl bg-gray-50/50 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5",children:h.provider}),_.jsxs("select",{value:S.provider,onChange:G=>E({...S,provider:G.target.value}),className:"w-full p-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500",children:[_.jsx("option",{value:"gemini",children:h.gemini}),_.jsx("option",{value:"openai",children:h.openai})]})]}),S.provider==="openai"&&_.jsxs("div",{className:"space-y-3 fade-in slide-in-from-top","data-state":"open",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5",children:h.baseUrl}),_.jsx("input",{type:"text",value:S.openaiBaseUrl,onChange:G=>E({...S,openaiBaseUrl:G.target.value}),placeholder:"https://api.openai.com/v1",className:"w-full p-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"}),_.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Example: https://api.openai.com/v1 (Ensure CORS is enabled if connecting from browser)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5",children:h.apiKey}),_.jsx("input",{type:"password",value:S.openaiApiKey,onChange:G=>E({...S,openaiApiKey:G.target.value}),placeholder:"sk-...",className:"w-full p-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5",children:h.modelName}),_.jsx("input",{type:"text",value:S.openaiModel,onChange:G=>E({...S,openaiModel:G.target.value}),placeholder:"gpt-3.5-turbo",className:"w-full p-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"})]})]}),_.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[_.jsx("button",{onClick:R,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm shadow-indigo-200",children:h.saveConfig}),A&&_.jsxs("span",{className:"text-xs text-green-600 font-medium flex items-center gap-1 fade-in","data-state":"open",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),h.configSaved]})]})]})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:h.exportData}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-indigo-100 transition-colors flex items-center justify-between group",children:[_.jsxs("div",{className:"mr-4",children:[_.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:h.json}),_.jsx("div",{className:"text-xs text-gray-500",children:h.exportJsonDesc})]}),_.jsxs("button",{onClick:k,className:"shrink-0 bg-gray-50 text-gray-600 hover:bg-indigo-600 hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),h.exportButton]})]}),_.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-indigo-100 transition-colors flex items-center justify-between group",children:[_.jsxs("div",{className:"mr-4",children:[_.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:h.markdown}),_.jsx("div",{className:"text-xs text-gray-500",children:h.exportMdDesc})]}),_.jsxs("button",{onClick:Y,className:"shrink-0 bg-gray-50 text-gray-600 hover:bg-indigo-600 hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),h.exportButton]})]})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:h.importData}),_.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[_.jsx("div",{className:"text-sm text-gray-600 mb-4",children:h.importDesc}),_.jsx("input",{type:"file",ref:y,onChange:W,accept:".json",className:"hidden"}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:()=>{var G;return(G=y.current)==null?void 0:G.click()},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm shadow-indigo-200",children:h.importButton}),g==="success"&&_.jsxs("span",{className:"text-xs text-green-600 font-medium flex items-center gap-1 fade-in","data-state":"open",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),h.importSuccess]}),g==="error"&&_.jsx("span",{className:"text-xs text-red-500 font-medium fade-in","data-state":"open",children:h.importError})]})]})]})]})})};var mt=(i=>(i.COMPOSING="COMPOSING",i.GENERATING="GENERATING",i.READING="READING",i.ERROR="ERROR",i.SEARCH="SEARCH",i))(mt||{});/*! Capacitor: https://capacitorjs.com/ - MIT License */var qo;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(qo||(qo={}));class ic extends Error{constructor(e,o,l){super(e),this.message=e,this.code=o,this.data=l}}const s1=i=>{var e,o;return i!=null&&i.androidBridge?"android":!((o=(e=i==null?void 0:i.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||o===void 0)&&o.bridge?"ios":"web"},a1=i=>{const e=i.CapacitorCustomPlatform||null,o=i.Capacitor||{},l=o.Plugins=o.Plugins||{},a=()=>e!==null?e.name:s1(i),u=()=>a()!=="web",d=S=>{const E=g.get(S);return!!(E!=null&&E.platforms.has(a())||h(S))},h=S=>{var E;return(E=o.PluginHeaders)===null||E===void 0?void 0:E.find(A=>A.name===S)},y=S=>i.console.error(S),g=new Map,v=(S,E={})=>{const A=g.get(S);if(A)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),A.proxy;const M=a(),R=h(S);let k;const Y=async()=>(!k&&M in E?k=typeof E[M]=="function"?k=await E[M]():k=E[M]:e!==null&&!k&&"web"in E&&(k=typeof E.web=="function"?k=await E.web():k=E.web),k),W=(L,B)=>{var F,ie;if(R){const re=R==null?void 0:R.methods.find(ae=>B===ae.name);if(re)return re.rtype==="promise"?ae=>o.nativePromise(S,B.toString(),ae):(ae,Te)=>o.nativeCallback(S,B.toString(),ae,Te);if(L)return(F=L[B])===null||F===void 0?void 0:F.bind(L)}else{if(L)return(ie=L[B])===null||ie===void 0?void 0:ie.bind(L);throw new ic(`"${S}" plugin is not implemented on ${M}`,qo.Unimplemented)}},G=L=>{let B;const F=(...ie)=>{const re=Y().then(ae=>{const Te=W(ae,L);if(Te){const Le=Te(...ie);return B=Le==null?void 0:Le.remove,Le}else throw new ic(`"${S}.${L}()" is not implemented on ${M}`,qo.Unimplemented)});return L==="addListener"&&(re.remove=async()=>B()),re};return F.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:L,writable:!1,configurable:!1}),F},K=G("addListener"),ne=G("removeListener"),j=(L,B)=>{const F=K({eventName:L},B),ie=async()=>{const ae=await F;ne({eventName:L,callbackId:ae},B)},re=new Promise(ae=>F.then(()=>ae({remove:ie})));return re.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ie()},re},V=new Proxy({},{get(L,B){switch(B){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return R?j:K;case"removeListener":return ne;default:return G(B)}}});return l[S]=V,g.set(S,{name:S,proxy:V,platforms:new Set([...Object.keys(E),...R?[M]:[]])}),V};return o.convertFileSrc||(o.convertFileSrc=S=>S),o.getPlatform=a,o.handleError=y,o.isNativePlatform=u,o.isPluginAvailable=d,o.registerPlugin=v,o.Exception=ic,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o},r1=i=>i.Capacitor=a1(i),va=r1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Hc=va.registerPlugin;class RS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,o){let l=!1;this.listeners[e]||(this.listeners[e]=[],l=!0),this.listeners[e].push(o);const u=this.windowListeners[e];u&&!u.registered&&this.addWindowListener(u),l&&this.sendRetainedArgumentsForEvent(e);const d=async()=>this.removeListener(e,o);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,o,l){const a=this.listeners[e];if(!a){if(l){let u=this.retainedEventArguments[e];u||(u=[]),u.push(o),this.retainedEventArguments[e]=u}return}a.forEach(u=>u(o))}hasListeners(e){var o;return!!(!((o=this.listeners[e])===null||o===void 0)&&o.length)}registerWindowListener(e,o){this.windowListeners[o]={registered:!1,windowEventName:e,pluginEventName:o,handler:l=>{this.notifyListeners(o,l)}}}unimplemented(e="not implemented"){return new va.Exception(e,qo.Unimplemented)}unavailable(e="not available"){return new va.Exception(e,qo.Unavailable)}async removeListener(e,o){const l=this.listeners[e];if(!l)return;const a=l.indexOf(o);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const o=this.retainedEventArguments[e];o&&(delete this.retainedEventArguments[e],o.forEach(l=>{this.notifyListeners(e,l)}))}}const Dg=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ig=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class u1 extends RS{async getCookies(){const e=document.cookie,o={};return e.split(";").forEach(l=>{if(l.length<=0)return;let[a,u]=l.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Ig(a).trim(),u=Ig(u).trim(),o[a]=u}),o}async setCookie(e){try{const o=Dg(e.key),l=Dg(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,u=(e.path||"/").replace("path=",""),d=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${o}=${l||""}${a}; path=${u}; ${d};`}catch(o){return Promise.reject(o)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const o of e)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Hc("CapacitorCookies",{web:()=>new u1});const c1=async i=>new Promise((e,o)=>{const l=new FileReader;l.onload=()=>{const a=l.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},l.onerror=a=>o(a),l.readAsDataURL(i)}),f1=(i={})=>{const e=Object.keys(i);return Object.keys(i).map(a=>a.toLocaleLowerCase()).reduce((a,u,d)=>(a[u]=i[e[d]],a),{})},d1=(i,e=!0)=>i?Object.entries(i).reduce((l,a)=>{const[u,d]=a;let h,y;return Array.isArray(d)?(y="",d.forEach(g=>{h=e?encodeURIComponent(g):g,y+=`${u}=${h}&`}),y.slice(0,-1)):(h=e?encodeURIComponent(d):d,y=`${u}=${h}`),`${l}&${y}`},"").substr(1):null,m1=(i,e={})=>{const o=Object.assign({method:i.method||"GET",headers:i.headers},e),a=f1(i.headers)["content-type"]||"";if(typeof i.data=="string")o.body=i.data;else if(a.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[d,h]of Object.entries(i.data||{}))u.set(d,h);o.body=u.toString()}else if(a.includes("multipart/form-data")||i.data instanceof FormData){const u=new FormData;if(i.data instanceof FormData)i.data.forEach((h,y)=>{u.append(y,h)});else for(const h of Object.keys(i.data))u.append(h,i.data[h]);o.body=u;const d=new Headers(o.headers);d.delete("content-type"),o.headers=d}else(a.includes("application/json")||typeof i.data=="object")&&(o.body=JSON.stringify(i.data));return o};class h1 extends RS{async request(e){const o=m1(e,e.webFetchExtra),l=d1(e.params,e.shouldEncodeUrlParams),a=l?`${e.url}?${l}`:e.url,u=await fetch(a,o),d=u.headers.get("content-type")||"";let{responseType:h="text"}=u.ok?e:{};d.includes("application/json")&&(h="json");let y,g;switch(h){case"arraybuffer":case"blob":g=await u.blob(),y=await c1(g);break;case"json":y=await u.json();break;case"document":case"text":default:y=await u.text()}const v={};return u.headers.forEach((S,E)=>{v[E]=S}),{data:y,headers:v,status:u.status,url:u.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Hc("CapacitorHttp",{web:()=>new h1});const p1="modulepreload",g1=function(i,e){return new URL(i,e).href},Lg={},y1=function(e,o,l){let a=Promise.resolve();if(o&&o.length>0){let d=function(v){return Promise.all(v.map(S=>Promise.resolve(S).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const h=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),g=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));a=d(o.map(v=>{if(v=g1(v,l),v in Lg)return;Lg[v]=!0;const S=v.endsWith(".css"),E=S?'[rel="stylesheet"]':"";if(!!l)for(let R=h.length-1;R>=0;R--){const k=h[R];if(k.href===v&&(!S||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${E}`))return;const M=document.createElement("link");if(M.rel=S?"stylesheet":p1,S||(M.as="script"),M.crossOrigin="",M.href=v,g&&M.setAttribute("nonce",g),document.head.appendChild(M),S)return new Promise((R,k)=>{M.addEventListener("load",R),M.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})};class v1{constructor(e){this.sqlite=e,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToStore(e){try{return await this.sqlite.saveToStore({database:e}),Promise.resolve()}catch(o){return Promise.reject(o)}}async saveToLocalDisk(e){try{return await this.sqlite.saveToLocalDisk({database:e}),Promise.resolve()}catch(o){return Promise.reject(o)}}async getFromLocalDiskToStore(e){const o=e??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:o}),Promise.resolve()}catch(l){return Promise.reject(l)}}async echo(e){try{const o=await this.sqlite.echo({value:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async isSecretStored(){try{const e=await this.sqlite.isSecretStored();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async setEncryptionSecret(e){try{return await this.sqlite.setEncryptionSecret({passphrase:e}),Promise.resolve()}catch(o){return Promise.reject(o)}}async changeEncryptionSecret(e,o){try{return await this.sqlite.changeEncryptionSecret({passphrase:e,oldpassphrase:o}),Promise.resolve()}catch(l){return Promise.reject(l)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(e){return Promise.reject(e)}}async checkEncryptionSecret(e){try{const o=await this.sqlite.checkEncryptionSecret({passphrase:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async addUpgradeStatement(e,o){try{return e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:e,upgrade:o}),Promise.resolve()}catch(l){return Promise.reject(l)}}async createConnection(e,o,l,a,u){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.createConnection({database:e,encrypted:o,mode:l,version:a,readonly:u});const d=new Ug(e,u,this.sqlite),h=u?`RO_${e}`:`RW_${e}`;return this._connectionDict.set(h,d),Promise.resolve(d)}catch(d){return Promise.reject(d)}}async closeConnection(e,o){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.closeConnection({database:e,readonly:o});const l=o?`RO_${e}`:`RW_${e}`;return this._connectionDict.delete(l),Promise.resolve()}catch(l){return Promise.reject(l)}}async isConnection(e,o){const l={};e.endsWith(".db")&&(e=e.slice(0,-3));const a=o?`RO_${e}`:`RW_${e}`;return l.result=this._connectionDict.has(a),Promise.resolve(l)}async retrieveConnection(e,o){e.endsWith(".db")&&(e=e.slice(0,-3));const l=o?`RO_${e}`:`RW_${e}`;if(this._connectionDict.has(l)){const a=this._connectionDict.get(l);return typeof a<"u"?Promise.resolve(a):Promise.reject(`Connection ${e} is undefined`)}else return Promise.reject(`Connection ${e} does not exist`)}async getNCDatabasePath(e,o){try{const l=await this.sqlite.getNCDatabasePath({path:e,database:o});return Promise.resolve(l)}catch(l){return Promise.reject(l)}}async createNCConnection(e,o){try{await this.sqlite.createNCConnection({databasePath:e,version:o});const l=new Ug(e,!0,this.sqlite),a=`RO_${e})`;return this._connectionDict.set(a,l),Promise.resolve(l)}catch(l){return Promise.reject(l)}}async closeNCConnection(e){try{await this.sqlite.closeNCConnection({databasePath:e});const o=`RO_${e})`;return this._connectionDict.delete(o),Promise.resolve()}catch(o){return Promise.reject(o)}}async isNCConnection(e){const o={},l=`RO_${e})`;return o.result=this._connectionDict.has(l),Promise.resolve(o)}async retrieveNCConnection(e){if(this._connectionDict.has(e)){const o=`RO_${e})`,l=this._connectionDict.get(o);return typeof l<"u"?Promise.resolve(l):Promise.reject(`Connection ${e} is undefined`)}else return Promise.reject(`Connection ${e} does not exist`)}async isNCDatabase(e){try{const o=await this.sqlite.isNCDatabase({databasePath:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const e=new Map;try{for(const o of this._connectionDict.keys()){const l=o.substring(3),a=o.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:l,readonly:a}),e.set(o,null)}for(const o of e.keys())this._connectionDict.delete(o);return Promise.resolve()}catch(o){return Promise.reject(o)}}async checkConnectionsConsistency(){try{const e=[...this._connectionDict.keys()],o=[],l=[];for(const u of e)o.push(u.substring(0,2)),l.push(u.substring(3));const a=await this.sqlite.checkConnectionsConsistency({dbNames:l,openModes:o});return a.result||(this._connectionDict=new Map),Promise.resolve(a)}catch(e){return this._connectionDict=new Map,Promise.reject(e)}}async importFromJson(e){try{const o=await this.sqlite.importFromJson({jsonstring:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async isJsonValid(e){try{const o=await this.sqlite.isJsonValid({jsonstring:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async copyFromAssets(e){const o=e??!0;try{return await this.sqlite.copyFromAssets({overwrite:o}),Promise.resolve()}catch(l){return Promise.reject(l)}}async getFromHTTPRequest(e,o){const l=o??!0;try{return await this.sqlite.getFromHTTPRequest({url:e,overwrite:l}),Promise.resolve()}catch(a){return Promise.reject(a)}}async isDatabaseEncrypted(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const o=await this.sqlite.isDatabaseEncrypted({database:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async isInConfigEncryption(){try{const e=await this.sqlite.isInConfigEncryption();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigBiometricAuth(){try{const e=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDatabase(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const o=await this.sqlite.isDatabase({database:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async getDatabaseList(){try{const o=(await this.sqlite.getDatabaseList()).values;o.sort();const l={values:o};return Promise.resolve(l)}catch(e){return Promise.reject(e)}}async getMigratableDbList(e){const o=e||"default";try{const l=await this.sqlite.getMigratableDbList({folderPath:o});return Promise.resolve(l)}catch(l){return Promise.reject(l)}}async addSQLiteSuffix(e,o){const l=e||"default",a=o||[];try{const u=await this.sqlite.addSQLiteSuffix({folderPath:l,dbNameList:a});return Promise.resolve(u)}catch(u){return Promise.reject(u)}}async deleteOldDatabases(e,o){const l=e||"default",a=o||[];try{const u=await this.sqlite.deleteOldDatabases({folderPath:l,dbNameList:a});return Promise.resolve(u)}catch(u){return Promise.reject(u)}}async moveDatabasesAndAddSuffix(e,o){const l=e||"default",a=o||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:l,dbNameList:a})}}class Ug{constructor(e,o,l){this.dbName=e,this.readonly=o,this.sqlite=l}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async beginTransaction(){try{const e=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async commitTransaction(){try{const e=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async rollbackTransaction(){try{const e=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTransactionActive(){try{const e=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async loadExtension(e){try{return await this.sqlite.loadExtension({database:this.dbName,path:e,readonly:this.readonly}),Promise.resolve()}catch(o){return Promise.reject(o)}}async enableLoadExtension(e){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:e,readonly:this.readonly}),Promise.resolve()}catch(o){return Promise.reject(o)}}async getUrl(){try{const e=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getVersion(){try{const e=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getTableList(){try{const e=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async execute(e,o=!0,l=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const a=await this.sqlite.execute({database:this.dbName,statements:e,transaction:o,readonly:!1,isSQL92:l});return Promise.resolve(a)}}catch(a){return Promise.reject(a)}}async query(e,o,l=!0){let a;try{return o&&o.length>0?a=await this.sqlite.query({database:this.dbName,statement:e,values:o,readonly:this.readonly,isSQL92:!0}):a=await this.sqlite.query({database:this.dbName,statement:e,values:[],readonly:this.readonly,isSQL92:l}),a=await this.reorderRows(a),Promise.resolve(a)}catch(u){return Promise.reject(u)}}async run(e,o,l=!0,a="no",u=!0){let d;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(o&&o.length>0?d=await this.sqlite.run({database:this.dbName,statement:e,values:o,transaction:l,readonly:!1,returnMode:a,isSQL92:!0}):d=await this.sqlite.run({database:this.dbName,statement:e,values:[],transaction:l,readonly:!1,returnMode:a,isSQL92:u}),d.changes=await this.reorderRows(d.changes),Promise.resolve(d))}catch(h){return Promise.reject(h)}}async executeSet(e,o=!0,l="no",a=!0){let u;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(u=await this.sqlite.executeSet({database:this.dbName,set:e,transaction:o,readonly:!1,returnMode:l,isSQL92:a}),u.changes=await this.reorderRows(u.changes),Promise.resolve(u))}catch(d){return Promise.reject(d)}}async isExists(){try{const e=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTable(e){try{const o=await this.sqlite.isTableExists({database:this.dbName,table:e,readonly:this.readonly});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async isDBOpen(){try{const e=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const e=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(e)}}catch(e){return Promise.reject(e)}}async setSyncDate(e){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:e,readonly:!1}),Promise.resolve())}catch(o){return Promise.reject(o)}}async getSyncDate(){try{const e=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let o="";return e.syncDate>0&&(o=new Date(e.syncDate*1e3).toISOString()),Promise.resolve(o)}catch(e){return Promise.reject(e)}}async exportToJson(e,o=!1){try{const l=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:e,readonly:this.readonly,encrypted:o});return Promise.resolve(l)}catch(l){return Promise.reject(l)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async executeTransaction(e,o=!0){let l=0,a=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),a=await this.sqlite.isTransactionActive({database:this.dbName}),!a)return Promise.reject("After Begin Transaction, no transaction active");try{for(const h of e){if(typeof h!="object"||!("statement"in h))throw new Error("Error a task.statement must be provided");if("values"in h&&h.values&&h.values.length>0){const y=h.statement.toUpperCase().includes("RETURNING")?"all":"no",g=await this.sqlite.run({database:this.dbName,statement:h.statement,values:h.values,transaction:!1,readonly:!1,returnMode:y,isSQL92:o});if(g.changes.changes<0)throw new Error("Error in transaction method run ");l+=g.changes.changes}else{const y=await this.sqlite.execute({database:this.dbName,statements:h.statement,transaction:!1,readonly:!1});if(y.changes.changes<0)throw new Error("Error in transaction method execute ");l+=y.changes.changes}}const u=await this.sqlite.commitTransaction({database:this.dbName});l+=u.changes.changes;const d={changes:{changes:l}};return Promise.resolve(d)}catch(u){const d=u.message?u.message:u;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(d)}}async reorderRows(e){const o=e;if(e!=null&&e.values&&typeof e.values[0]=="object"&&Object.keys(e.values[0]).includes("ios_columns")){const l=e.values[0].ios_columns,a=[];for(let u=1;u<e.values.length;u++){const d=e.values[u],h={};for(const y of l)h[y]=d[y];a.push(h)}o.values=a}return Promise.resolve(o)}}const S1=Hc("CapacitorSQLite",{web:()=>y1(()=>import("./web-CclcTygF.js"),[],import.meta.url).then(i=>new i.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite}),Z=Symbol.for("drizzle:entityKind");function X(i,e){if(!i||typeof i!="object")return!1;if(i instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Z))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let o=Object.getPrototypeOf(i).constructor;if(o)for(;o;){if(Z in o&&o[Z]===e[Z])return!0;o=Object.getPrototypeOf(o)}return!1}var $g;$g=Z;class MS{write(e){console.log(e)}}w(MS,$g,"ConsoleLogWriter");var Kg;Kg=Z;class DS{constructor(e){w(this,"writer");this.writer=(e==null?void 0:e.writer)??new MS}logQuery(e,o){const l=o.map(u=>{try{return JSON.stringify(u)}catch{return String(u)}}),a=l.length?` -- params: [${l.join(", ")}]`:"";this.writer.write(`Query: ${e}${a}`)}}w(DS,Kg,"DefaultLogger");var Xg;Xg=Z;class IS{logQuery(){}}w(IS,Xg,"NoopLogger");const mi=Symbol.for("drizzle:Name"),fa=Symbol.for("drizzle:Schema"),yc=Symbol.for("drizzle:Columns"),qg=Symbol.for("drizzle:ExtraConfigColumns"),oc=Symbol.for("drizzle:OriginalName"),lc=Symbol.for("drizzle:BaseName"),Sa=Symbol.for("drizzle:IsAlias"),Pg=Symbol.for("drizzle:ExtraConfigBuilder"),T1=Symbol.for("drizzle:IsDrizzleTable");var Zg,Wg,jg,ey,ty,ny,iy,oy,ly,sy;sy=Z,ly=mi,oy=oc,iy=fa,ny=yc,ty=qg,ey=lc,jg=Sa,Wg=T1,Zg=Pg;class se{constructor(e,o,l){w(this,ly);w(this,oy);w(this,iy);w(this,ny);w(this,ty);w(this,ey);w(this,jg,!1);w(this,Wg,!0);w(this,Zg);this[mi]=this[oc]=e,this[fa]=o,this[lc]=l}}w(se,sy,"Table"),w(se,"Symbol",{Name:mi,Schema:fa,OriginalName:oc,Columns:yc,ExtraConfigColumns:qg,BaseName:lc,IsAlias:Sa,ExtraConfigBuilder:Pg});function Mo(i){return i[mi]}function Hl(i){return`${i[fa]??"public"}.${i[mi]}`}var ay;ay=Z;class nt{constructor(e,o){w(this,"name");w(this,"keyAsName");w(this,"primary");w(this,"notNull");w(this,"default");w(this,"defaultFn");w(this,"onUpdateFn");w(this,"hasDefault");w(this,"isUnique");w(this,"uniqueName");w(this,"uniqueType");w(this,"dataType");w(this,"columnType");w(this,"enumValues");w(this,"generated");w(this,"generatedIdentity");w(this,"config");this.table=e,this.config=o,this.name=o.name,this.keyAsName=o.keyAsName,this.notNull=o.notNull,this.default=o.default,this.defaultFn=o.defaultFn,this.onUpdateFn=o.onUpdateFn,this.hasDefault=o.hasDefault,this.primary=o.primaryKey,this.isUnique=o.isUnique,this.uniqueName=o.uniqueName,this.uniqueType=o.uniqueType,this.dataType=o.dataType,this.columnType=o.columnType,this.generated=o.generated,this.generatedIdentity=o.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}w(nt,ay,"Column");var ry;ry=Z;class LS{constructor(e,o,l){w(this,"config");w(this,"$default",this.$defaultFn);w(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:o,columnType:l,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}w(LS,ry,"ColumnBuilder");const Bg=Symbol.for("drizzle:isPgEnum");function E1(i){return!!i&&typeof i=="function"&&Bg in i&&i[Bg]===!0}var uy;uy=Z;class kt{constructor(e,o,l,a=!1,u=[]){this._={brand:"Subquery",sql:e,selectedFields:o,alias:l,isWith:a,usedTables:u}}}w(kt,uy,"Subquery");var cy,fy;class Vc extends(fy=kt,cy=Z,fy){}w(Vc,cy,"WithSubquery");const C1={startActiveSpan(i,e){return e()}},yt=Symbol.for("drizzle:ViewBaseConfig");function US(i){return i!=null&&typeof i.getSQL=="function"}function _1(i){var o;const e={sql:"",params:[]};for(const l of i)e.sql+=l.sql,e.params.push(...l.params),(o=l.typings)!=null&&o.length&&(e.typings||(e.typings=[]),e.typings.push(...l.typings));return e}var dy;dy=Z;class at{constructor(e){w(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new pe([this])}}w(at,dy,"StringChunk");var my;my=Z;const Pi=class Pi{constructor(e){w(this,"decoder",qS);w(this,"shouldInlineParams",!1);w(this,"usedTables",[]);this.queryChunks=e;for(const o of e)if(X(o,se)){const l=o[se.Symbol.Schema];this.usedTables.push(l===void 0?o[se.Symbol.Name]:l+"."+o[se.Symbol.Name])}}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return C1.startActiveSpan("drizzle.buildSQL",o=>{const l=this.buildQueryFromSourceParams(this.queryChunks,e);return o==null||o.setAttributes({"drizzle.query.text":l.sql,"drizzle.query.params":JSON.stringify(l.params)}),l})}buildQueryFromSourceParams(e,o){const l=Object.assign({},o,{inlineParams:o.inlineParams||this.shouldInlineParams,paramStartIndex:o.paramStartIndex||{value:0}}),{casing:a,escapeName:u,escapeParam:d,prepareTyping:h,inlineParams:y,paramStartIndex:g}=l;return _1(e.map(v=>{var S;if(X(v,at))return{sql:v.value.join(""),params:[]};if(X(v,Ta))return{sql:u(v.value),params:[]};if(v===void 0)return{sql:"",params:[]};if(Array.isArray(v)){const E=[new at("(")];for(const[A,M]of v.entries())E.push(M),A<v.length-1&&E.push(new at(", "));return E.push(new at(")")),this.buildQueryFromSourceParams(E,l)}if(X(v,Pi))return this.buildQueryFromSourceParams(v.queryChunks,{...l,inlineParams:y||v.shouldInlineParams});if(X(v,se)){const E=v[se.Symbol.Schema],A=v[se.Symbol.Name];return{sql:E===void 0||v[Sa]?u(A):u(E)+"."+u(A),params:[]}}if(X(v,nt)){const E=a.getColumnCasing(v);if(o.invokeSource==="indexes")return{sql:u(E),params:[]};const A=v.table[se.Symbol.Schema];return{sql:v.table[Sa]||A===void 0?u(v.table[se.Symbol.Name])+"."+u(E):u(A)+"."+u(v.table[se.Symbol.Name])+"."+u(E),params:[]}}if(X(v,Oi)){const E=v[yt].schema,A=v[yt].name;return{sql:E===void 0||v[yt].isAlias?u(A):u(E)+"."+u(A),params:[]}}if(X(v,Bn)){if(X(v.value,zi))return{sql:d(g.value++,v),params:[v],typings:["none"]};const E=v.value===null?null:v.encoder.mapToDriverValue(v.value);if(X(E,Pi))return this.buildQueryFromSourceParams([E],l);if(y)return{sql:this.mapInlineParam(E,l),params:[]};let A=["none"];return h&&(A=[h(v.encoder)]),{sql:d(g.value++,E),params:[E],typings:A}}return X(v,zi)?{sql:d(g.value++,v),params:[v],typings:["none"]}:X(v,Pi.Aliased)&&v.fieldAlias!==void 0?{sql:u(v.fieldAlias),params:[]}:X(v,kt)?v._.isWith?{sql:u(v._.alias),params:[]}:this.buildQueryFromSourceParams([new at("("),v._.sql,new at(") "),new Ta(v._.alias)],l):E1(v)?v.schema?{sql:u(v.schema)+"."+u(v.enumName),params:[]}:{sql:u(v.enumName),params:[]}:US(v)?(S=v.shouldOmitSQLParens)!=null&&S.call(v)?this.buildQueryFromSourceParams([v.getSQL()],l):this.buildQueryFromSourceParams([new at("("),v.getSQL(),new at(")")],l):y?{sql:this.mapInlineParam(v,l),params:[]}:{sql:d(g.value++,v),params:[v],typings:["none"]}}))}mapInlineParam(e,{escapeString:o}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return o(e);if(typeof e=="object"){const l=e.toString();return o(l==="[object Object]"?JSON.stringify(e):l)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Pi.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};w(Pi,my,"SQL");let pe=Pi;var hy;hy=Z;class Ta{constructor(e){w(this,"brand");this.value=e}getSQL(){return new pe([this])}}w(Ta,hy,"Name");function A1(i){return typeof i=="object"&&i!==null&&"mapToDriverValue"in i&&typeof i.mapToDriverValue=="function"}const qS={mapFromDriverValue:i=>i},PS={mapToDriverValue:i=>i};({...qS,...PS});var py;py=Z;class Bn{constructor(e,o=PS){w(this,"brand");this.value=e,this.encoder=o}getSQL(){return new pe([this])}}w(Bn,py,"Param");function I(i,...e){const o=[];(e.length>0||i.length>0&&i[0]!=="")&&o.push(new at(i[0]));for(const[l,a]of e.entries())o.push(a,new at(i[l+1]));return new pe(o)}(i=>{function e(){return new pe([])}i.empty=e;function o(y){return new pe(y)}i.fromList=o;function l(y){return new pe([new at(y)])}i.raw=l;function a(y,g){const v=[];for(const[S,E]of y.entries())S>0&&g!==void 0&&v.push(g),v.push(E);return new pe(v)}i.join=a;function u(y){return new Ta(y)}i.identifier=u;function d(y){return new zi(y)}i.placeholder=d;function h(y,g){return new Bn(y,g)}i.param=h})(I||(I={}));(i=>{var o;o=Z;const l=class l{constructor(u,d){w(this,"isSelectionField",!1);this.sql=u,this.fieldAlias=d}getSQL(){return this.sql}clone(){return new l(this.sql,this.fieldAlias)}};w(l,o,"SQL.Aliased");let e=l;i.Aliased=e})(pe||(pe={}));var gy;gy=Z;class zi{constructor(e){this.name=e}getSQL(){return new pe([this])}}w(zi,gy,"Placeholder");function aa(i,e){return i.map(o=>{if(X(o,zi)){if(!(o.name in e))throw new Error(`No value for placeholder "${o.name}" was provided`);return e[o.name]}if(X(o,Bn)&&X(o.value,zi)){if(!(o.value.name in e))throw new Error(`No value for placeholder "${o.value.name}" was provided`);return o.encoder.mapToDriverValue(e[o.value.name])}return o})}const w1=Symbol.for("drizzle:IsDrizzleView");var yy,vy,Sy;Sy=Z,vy=yt,yy=w1;class Oi{constructor({name:e,schema:o,selectedFields:l,query:a}){w(this,vy);w(this,yy,!0);this[yt]={name:e,originalName:e,schema:o,selectedFields:l,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new pe([this])}}w(Oi,Sy,"View");nt.prototype.getSQL=function(){return new pe([this])};se.prototype.getSQL=function(){return new pe([this])};kt.prototype.getSQL=function(){return new pe([this])};function zg(i,e,o){const l={},a=i.reduce((u,{path:d,field:h},y)=>{let g;X(h,nt)?g=h:X(h,pe)?g=h.decoder:g=h.sql.decoder;let v=u;for(const[S,E]of d.entries())if(S<d.length-1)E in v||(v[E]={}),v=v[E];else{const A=e[y],M=v[E]=A===null?null:g.mapFromDriverValue(A);if(o&&X(h,nt)&&d.length===2){const R=d[0];R in l?typeof l[R]=="string"&&l[R]!==Mo(h.table)&&(l[R]=!1):l[R]=M===null?Mo(h.table):!1}}return u},{});if(o&&Object.keys(l).length>0)for(const[u,d]of Object.entries(l))typeof d=="string"&&!o[d]&&(a[u]=null);return a}function Gi(i,e){return Object.entries(i).reduce((o,[l,a])=>{if(typeof l!="string")return o;const u=e?[...e,l]:[l];return X(a,nt)||X(a,pe)||X(a,pe.Aliased)?o.push({path:u,field:a}):X(a,se)?o.push(...Gi(a[se.Symbol.Columns],u)):o.push(...Gi(a,u)),o},[])}function Oc(i,e){const o=Object.keys(i),l=Object.keys(e);if(o.length!==l.length)return!1;for(const[a,u]of o.entries())if(u!==l[a])return!1;return!0}function BS(i,e){const o=Object.entries(e).filter(([,l])=>l!==void 0).map(([l,a])=>X(a,pe)||X(a,nt)?[l,a]:[l,new Bn(a,i[se.Symbol.Columns][l])]);if(o.length===0)throw new Error("No values to set");return Object.fromEntries(o)}function x1(i,e){for(const o of e)for(const l of Object.getOwnPropertyNames(o.prototype))l!=="constructor"&&Object.defineProperty(i.prototype,l,Object.getOwnPropertyDescriptor(o.prototype,l)||Object.create(null))}function N1(i){return i[se.Symbol.Columns]}function vc(i){return X(i,kt)?i._.alias:X(i,Oi)?i[yt].name:X(i,pe)?void 0:i[se.Symbol.IsAlias]?i[se.Symbol.Name]:i[se.Symbol.BaseName]}function kl(i,e){return{name:typeof i=="string"&&i.length>0?i:"",config:typeof i=="object"?i:e}}const zS=typeof TextDecoder>"u"?null:new TextDecoder,Gg=Symbol.for("drizzle:PgInlineForeignKeys"),Hg=Symbol.for("drizzle:EnableRLS");var Ty,Ey,Cy,_y,Ay,wy;class Sc extends(wy=se,Ay=Z,_y=Gg,Cy=Hg,Ey=se.Symbol.ExtraConfigBuilder,Ty=se.Symbol.ExtraConfigColumns,wy){constructor(){super(...arguments);w(this,_y,[]);w(this,Cy,!1);w(this,Ey);w(this,Ty,{})}}w(Sc,Ay,"PgTable"),w(Sc,"Symbol",Object.assign({},se.Symbol,{InlineForeignKeys:Gg,EnableRLS:Hg}));var xy;xy=Z;class GS{constructor(e,o){w(this,"columns");w(this,"name");this.columns=e,this.name=o}build(e){return new HS(e,this.columns,this.name)}}w(GS,xy,"PgPrimaryKeyBuilder");var Ny;Ny=Z;class HS{constructor(e,o,l){w(this,"columns");w(this,"name");this.table=e,this.columns=o,this.name=l}getName(){return this.name??`${this.table[Sc.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}w(HS,Ny,"PgPrimaryKey");function Mt(i,e){return A1(e)&&!US(i)&&!X(i,Bn)&&!X(i,zi)&&!X(i,nt)&&!X(i,se)&&!X(i,Oi)?new Bn(i,e):i}const VS=(i,e)=>I`${i} = ${Mt(e,i)}`,b1=(i,e)=>I`${i} <> ${Mt(e,i)}`;function Tc(...i){const e=i.filter(o=>o!==void 0);if(e.length!==0)return e.length===1?new pe(e):new pe([new at("("),I.join(e,new at(" and ")),new at(")")])}function R1(...i){const e=i.filter(o=>o!==void 0);if(e.length!==0)return e.length===1?new pe(e):new pe([new at("("),I.join(e,new at(" or ")),new at(")")])}function M1(i){return I`not ${i}`}const D1=(i,e)=>I`${i} > ${Mt(e,i)}`,I1=(i,e)=>I`${i} >= ${Mt(e,i)}`,L1=(i,e)=>I`${i} < ${Mt(e,i)}`,U1=(i,e)=>I`${i} <= ${Mt(e,i)}`;function q1(i,e){return Array.isArray(e)?e.length===0?I`false`:I`${i} in ${e.map(o=>Mt(o,i))}`:I`${i} in ${Mt(e,i)}`}function P1(i,e){return Array.isArray(e)?e.length===0?I`true`:I`${i} not in ${e.map(o=>Mt(o,i))}`:I`${i} not in ${Mt(e,i)}`}function B1(i){return I`${i} is null`}function z1(i){return I`${i} is not null`}function G1(i){return I`exists ${i}`}function H1(i){return I`not exists ${i}`}function V1(i,e,o){return I`${i} between ${Mt(e,i)} and ${Mt(o,i)}`}function O1(i,e,o){return I`${i} not between ${Mt(e,i)} and ${Mt(o,i)}`}function k1(i,e){return I`${i} like ${e}`}function F1(i,e){return I`${i} not like ${e}`}function Q1(i,e){return I`${i} ilike ${e}`}function J1(i,e){return I`${i} not ilike ${e}`}function Y1(i){return I`${i} asc`}function $1(i){return I`${i} desc`}var by;by=Z;class kc{constructor(e,o,l){w(this,"referencedTableName");w(this,"fieldName");this.sourceTable=e,this.referencedTable=o,this.relationName=l,this.referencedTableName=o[se.Symbol.Name]}}w(kc,by,"Relation");var Ry;Ry=Z;class OS{constructor(e,o){this.table=e,this.config=o}}w(OS,Ry,"Relations");var My,Dy;const Aa=class Aa extends(Dy=kc,My=Z,Dy){constructor(e,o,l,a){super(e,o,l==null?void 0:l.relationName),this.config=l,this.isNullable=a}withFieldName(e){const o=new Aa(this.sourceTable,this.referencedTable,this.config,this.isNullable);return o.fieldName=e,o}};w(Aa,My,"One");let Hi=Aa;var Iy,Ly;const wa=class wa extends(Ly=kc,Iy=Z,Ly){constructor(e,o,l){super(e,o,l==null?void 0:l.relationName),this.config=l}withFieldName(e){const o=new wa(this.sourceTable,this.referencedTable,this.config);return o.fieldName=e,o}};w(wa,Iy,"Many");let Ea=wa;function K1(){return{and:Tc,between:V1,eq:VS,exists:G1,gt:D1,gte:I1,ilike:Q1,inArray:q1,isNull:B1,isNotNull:z1,like:k1,lt:L1,lte:U1,ne:b1,not:M1,notBetween:O1,notExists:H1,notLike:F1,notIlike:J1,notInArray:P1,or:R1,sql:I}}function X1(){return{sql:I,asc:Y1,desc:$1}}function Z1(i,e){var u;Object.keys(i).length===1&&"default"in i&&!X(i.default,se)&&(i=i.default);const o={},l={},a={};for(const[d,h]of Object.entries(i))if(X(h,se)){const y=Hl(h),g=l[y];o[y]=d,a[d]={tsName:d,dbName:h[se.Symbol.Name],schema:h[se.Symbol.Schema],columns:h[se.Symbol.Columns],relations:(g==null?void 0:g.relations)??{},primaryKey:(g==null?void 0:g.primaryKey)??[]};for(const S of Object.values(h[se.Symbol.Columns]))S.primary&&a[d].primaryKey.push(S);const v=(u=h[se.Symbol.ExtraConfigBuilder])==null?void 0:u.call(h,h[se.Symbol.ExtraConfigColumns]);if(v)for(const S of Object.values(v))X(S,GS)&&a[d].primaryKey.push(...S.columns)}else if(X(h,OS)){const y=Hl(h.table),g=o[y],v=h.config(e(h.table));let S;for(const[E,A]of Object.entries(v))if(g){const M=a[g];M.relations[E]=A}else y in l||(l[y]={relations:{},primaryKey:S}),l[y].relations[E]=A}return{tables:a,tableNamesMap:o}}function W1(i){return function(o,l){return new Hi(i,o,l,(l==null?void 0:l.fields.reduce((a,u)=>a&&u.notNull,!0))??!1)}}function j1(i){return function(o,l){return new Ea(i,o,l)}}function eM(i,e,o){if(X(o,Hi)&&o.config)return{fields:o.config.fields,references:o.config.references};const l=e[Hl(o.referencedTable)];if(!l)throw new Error(`Table "${o.referencedTable[se.Symbol.Name]}" not found in schema`);const a=i[l];if(!a)throw new Error(`Table "${l}" not found in schema`);const u=o.sourceTable,d=e[Hl(u)];if(!d)throw new Error(`Table "${u[se.Symbol.Name]}" not found in schema`);const h=[];for(const y of Object.values(a.relations))(o.relationName&&o!==y&&y.relationName===o.relationName||!o.relationName&&y.referencedTable===o.sourceTable)&&h.push(y);if(h.length>1)throw o.relationName?new Error(`There are multiple relations with name "${o.relationName}" in table "${l}"`):new Error(`There are multiple relations between "${l}" and "${o.sourceTable[se.Symbol.Name]}". Please specify relation name`);if(h[0]&&X(h[0],Hi)&&h[0].config)return{fields:h[0].config.references,references:h[0].config.fields};throw new Error(`There is not enough information to infer relation "${d}.${o.fieldName}"`)}function tM(i){return{one:W1(i),many:j1(i)}}function Ec(i,e,o,l,a=u=>u){const u={};for(const[d,h]of l.entries())if(h.isJson){const y=e.relations[h.tsKey],g=o[d],v=typeof g=="string"?JSON.parse(g):g;u[h.tsKey]=X(y,Hi)?v&&Ec(i,i[h.relationTableTsKey],v,h.selection,a):v.map(S=>Ec(i,i[h.relationTableTsKey],S,h.selection,a))}else{const y=a(o[d]),g=h.field;let v;X(g,nt)?v=g:X(g,pe)?v=g.decoder:v=g.sql.decoder,u[h.tsKey]=y===null?null:v.mapFromDriverValue(y)}return u}var Uy;Uy=Z;class Vl{constructor(e){this.table=e}get(e,o){return o==="table"?this.table:e[o]}}w(Vl,Uy,"ColumnAliasProxyHandler");var qy;qy=Z;class Ia{constructor(e,o){this.alias=e,this.replaceOriginalName=o}get(e,o){if(o===se.Symbol.IsAlias)return!0;if(o===se.Symbol.Name)return this.alias;if(this.replaceOriginalName&&o===se.Symbol.OriginalName)return this.alias;if(o===yt)return{...e[yt],name:this.alias,isAlias:!0};if(o===se.Symbol.Columns){const a=e[se.Symbol.Columns];if(!a)return a;const u={};return Object.keys(a).map(d=>{u[d]=new Proxy(a[d],new Vl(new Proxy(e,this)))}),u}const l=e[o];return X(l,nt)?new Proxy(l,new Vl(new Proxy(e,this))):l}}w(Ia,qy,"TableAliasProxyHandler");function sc(i,e){return new Proxy(i,new Ia(e,!1))}function Un(i,e){return new Proxy(i,new Vl(new Proxy(i.table,new Ia(e,!1))))}function kS(i,e){return new pe.Aliased(Ca(i.sql,e),i.fieldAlias)}function Ca(i,e){return I.join(i.queryChunks.map(o=>X(o,nt)?Un(o,e):X(o,pe)?Ca(o,e):X(o,pe.Aliased)?kS(o,e):o))}var Py;Py=Z;const xa=class xa{constructor(e){w(this,"config");this.config={...e}}get(e,o){if(o==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(o===yt)return{...e[yt],selectedFields:new Proxy(e[yt].selectedFields,this)};if(typeof o=="symbol")return e[o];const a=(X(e,kt)?e._.selectedFields:X(e,Oi)?e[yt].selectedFields:e)[o];if(X(a,pe.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!a.isSelectionField)return a.sql;const u=a.clone();return u.isSelectionField=!0,u}if(X(a,pe)){if(this.config.sqlBehavior==="sql")return a;throw new Error(`You tried to reference "${o}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return X(a,nt)?this.config.alias?new Proxy(a,new Vl(new Proxy(a.table,new Ia(this.config.alias,this.config.replaceOriginalName??!1)))):a:typeof a!="object"||a===null?a:new Proxy(a,new xa(this.config))}};w(xa,Py,"SelectionProxyHandler");let Tt=xa;var By,zy;zy=Z,By=Symbol.toStringTag;class gi{constructor(){w(this,By,"QueryPromise")}catch(e){return this.then(void 0,e)}finally(e){return this.then(o=>(e==null||e(),o),o=>{throw e==null||e(),o})}then(e,o){return this.execute().then(e,o)}}w(gi,zy,"QueryPromise");var Gy;Gy=Z;class FS{constructor(e,o){w(this,"reference");w(this,"_onUpdate");w(this,"_onDelete");this.reference=()=>{const{name:l,columns:a,foreignColumns:u}=e();return{name:l,columns:a,foreignTable:u[0].table,foreignColumns:u}},o&&(this._onUpdate=o.onUpdate,this._onDelete=o.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new QS(e,this)}}w(FS,Gy,"SQLiteForeignKeyBuilder");var Hy;Hy=Z;class QS{constructor(e,o){w(this,"reference");w(this,"onUpdate");w(this,"onDelete");this.table=e,this.reference=o.reference,this.onUpdate=o._onUpdate,this.onDelete=o._onDelete}getName(){const{name:e,columns:o,foreignColumns:l}=this.reference(),a=o.map(h=>h.name),u=l.map(h=>h.name),d=[this.table[mi],...a,l[0].table[mi],...u];return e??`${d.join("_")}_fk`}}w(QS,Hy,"SQLiteForeignKey");function nM(i,e){return`${i[mi]}_${e.join("_")}_unique`}var Vy,Oy;class tn extends(Oy=LS,Vy=Z,Oy){constructor(){super(...arguments);w(this,"foreignKeyConfigs",[])}references(o,l={}){return this.foreignKeyConfigs.push({ref:o,actions:l}),this}unique(o){return this.config.isUnique=!0,this.config.uniqueName=o,this}generatedAlwaysAs(o,l){return this.config.generated={as:o,type:"always",mode:(l==null?void 0:l.mode)??"virtual"},this}buildForeignKeys(o,l){return this.foreignKeyConfigs.map(({ref:a,actions:u})=>((d,h)=>{const y=new FS(()=>{const g=d();return{columns:[o],foreignColumns:[g]}});return h.onUpdate&&y.onUpdate(h.onUpdate),h.onDelete&&y.onDelete(h.onDelete),y.build(l)})(a,u))}}w(tn,Vy,"SQLiteColumnBuilder");var ky,Fy;class Et extends(Fy=nt,ky=Z,Fy){constructor(e,o){o.uniqueName||(o.uniqueName=nM(e,[o.name])),super(e,o),this.table=e}}w(Et,ky,"SQLiteColumn");var Qy,Jy;class JS extends(Jy=tn,Qy=Z,Jy){constructor(e){super(e,"bigint","SQLiteBigInt")}build(e){return new YS(e,this.config)}}w(JS,Qy,"SQLiteBigIntBuilder");var Yy,$y;class YS extends($y=Et,Yy=Z,$y){getSQLType(){return"blob"}mapFromDriverValue(e){if(typeof Buffer<"u"&&Buffer.from){const o=Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):e.buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);return BigInt(o.toString("utf8"))}return BigInt(zS.decode(e))}mapToDriverValue(e){return Buffer.from(e.toString())}}w(YS,Yy,"SQLiteBigInt");var Ky,Xy;class $S extends(Xy=tn,Ky=Z,Xy){constructor(e){super(e,"json","SQLiteBlobJson")}build(e){return new KS(e,this.config)}}w($S,Ky,"SQLiteBlobJsonBuilder");var Zy,Wy;class KS extends(Wy=Et,Zy=Z,Wy){getSQLType(){return"blob"}mapFromDriverValue(e){if(typeof Buffer<"u"&&Buffer.from){const o=Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):e.buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);return JSON.parse(o.toString("utf8"))}return JSON.parse(zS.decode(e))}mapToDriverValue(e){return Buffer.from(JSON.stringify(e))}}w(KS,Zy,"SQLiteBlobJson");var jy,e0;class XS extends(e0=tn,jy=Z,e0){constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new ZS(e,this.config)}}w(XS,jy,"SQLiteBlobBufferBuilder");var t0,n0;class ZS extends(n0=Et,t0=Z,n0){mapFromDriverValue(e){return Buffer.isBuffer(e)?e:Buffer.from(e)}getSQLType(){return"blob"}}w(ZS,t0,"SQLiteBlobBuffer");function iM(i,e){const{name:o,config:l}=kl(i,e);return(l==null?void 0:l.mode)==="json"?new $S(o):(l==null?void 0:l.mode)==="bigint"?new JS(o):new XS(o)}var i0,o0;class WS extends(o0=tn,i0=Z,o0){constructor(e,o,l){super(e,"custom","SQLiteCustomColumn"),this.config.fieldConfig=o,this.config.customTypeParams=l}build(e){return new jS(e,this.config)}}w(WS,i0,"SQLiteCustomColumnBuilder");var l0,s0;class jS extends(s0=Et,l0=Z,s0){constructor(o,l){super(o,l);w(this,"sqlName");w(this,"mapTo");w(this,"mapFrom");this.sqlName=l.customTypeParams.dataType(l.fieldConfig),this.mapTo=l.customTypeParams.toDriver,this.mapFrom=l.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(o){return typeof this.mapFrom=="function"?this.mapFrom(o):o}mapToDriverValue(o){return typeof this.mapTo=="function"?this.mapTo(o):o}}w(jS,l0,"SQLiteCustomColumn");function oM(i){return(e,o)=>{const{name:l,config:a}=kl(e,o);return new WS(l,a,i)}}var a0,r0;class La extends(r0=tn,a0=Z,r0){constructor(e,o,l){super(e,o,l),this.config.autoIncrement=!1}primaryKey(e){return e!=null&&e.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}w(La,a0,"SQLiteBaseIntegerBuilder");var u0,c0;class Ua extends(c0=Et,u0=Z,c0){constructor(){super(...arguments);w(this,"autoIncrement",this.config.autoIncrement)}getSQLType(){return"integer"}}w(Ua,u0,"SQLiteBaseInteger");var f0,d0;class eT extends(d0=La,f0=Z,d0){constructor(e){super(e,"number","SQLiteInteger")}build(e){return new tT(e,this.config)}}w(eT,f0,"SQLiteIntegerBuilder");var m0,h0;class tT extends(h0=Ua,m0=Z,h0){}w(tT,m0,"SQLiteInteger");var p0,g0;class nT extends(g0=La,p0=Z,g0){constructor(e,o){super(e,"date","SQLiteTimestamp"),this.config.mode=o}defaultNow(){return this.default(I`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new iT(e,this.config)}}w(nT,p0,"SQLiteTimestampBuilder");var y0,v0;class iT extends(v0=Ua,y0=Z,v0){constructor(){super(...arguments);w(this,"mode",this.config.mode)}mapFromDriverValue(o){return this.config.mode==="timestamp"?new Date(o*1e3):new Date(o)}mapToDriverValue(o){const l=o.getTime();return this.config.mode==="timestamp"?Math.floor(l/1e3):l}}w(iT,y0,"SQLiteTimestamp");var S0,T0;class oT extends(T0=La,S0=Z,T0){constructor(e,o){super(e,"boolean","SQLiteBoolean"),this.config.mode=o}build(e){return new lT(e,this.config)}}w(oT,S0,"SQLiteBooleanBuilder");var E0,C0;class lT extends(C0=Ua,E0=Z,C0){constructor(){super(...arguments);w(this,"mode",this.config.mode)}mapFromDriverValue(o){return Number(o)===1}mapToDriverValue(o){return o?1:0}}w(lT,E0,"SQLiteBoolean");function Fc(i,e){const{name:o,config:l}=kl(i,e);return(l==null?void 0:l.mode)==="timestamp"||(l==null?void 0:l.mode)==="timestamp_ms"?new nT(o,l.mode):(l==null?void 0:l.mode)==="boolean"?new oT(o,l.mode):new eT(o)}var _0,A0;class sT extends(A0=tn,_0=Z,A0){constructor(e){super(e,"string","SQLiteNumeric")}build(e){return new aT(e,this.config)}}w(sT,_0,"SQLiteNumericBuilder");var w0,x0;class aT extends(x0=Et,w0=Z,x0){mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return"numeric"}}w(aT,w0,"SQLiteNumeric");var N0,b0;class rT extends(b0=tn,N0=Z,b0){constructor(e){super(e,"number","SQLiteNumericNumber")}build(e){return new uT(e,this.config)}}w(rT,N0,"SQLiteNumericNumberBuilder");var R0,M0;class uT extends(M0=Et,R0=Z,M0){constructor(){super(...arguments);w(this,"mapToDriverValue",String)}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}getSQLType(){return"numeric"}}w(uT,R0,"SQLiteNumericNumber");var D0,I0;class cT extends(I0=tn,D0=Z,I0){constructor(e){super(e,"bigint","SQLiteNumericBigInt")}build(e){return new fT(e,this.config)}}w(cT,D0,"SQLiteNumericBigIntBuilder");var L0,U0;class fT extends(U0=Et,L0=Z,U0){constructor(){super(...arguments);w(this,"mapFromDriverValue",BigInt);w(this,"mapToDriverValue",String)}getSQLType(){return"numeric"}}w(fT,L0,"SQLiteNumericBigInt");function lM(i,e){const{name:o,config:l}=kl(i,e),a=l==null?void 0:l.mode;return a==="number"?new rT(o):a==="bigint"?new cT(o):new sT(o)}var q0,P0;class dT extends(P0=tn,q0=Z,P0){constructor(e){super(e,"number","SQLiteReal")}build(e){return new mT(e,this.config)}}w(dT,q0,"SQLiteRealBuilder");var B0,z0;class mT extends(z0=Et,B0=Z,z0){getSQLType(){return"real"}}w(mT,B0,"SQLiteReal");function sM(i){return new dT(i??"")}var G0,H0;class hT extends(H0=tn,G0=Z,H0){constructor(e,o){super(e,"string","SQLiteText"),this.config.enumValues=o.enum,this.config.length=o.length}build(e){return new pT(e,this.config)}}w(hT,G0,"SQLiteTextBuilder");var V0,O0;class pT extends(O0=Et,V0=Z,O0){constructor(o,l){super(o,l);w(this,"enumValues",this.config.enumValues);w(this,"length",this.config.length)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}w(pT,V0,"SQLiteText");var k0,F0;class gT extends(F0=tn,k0=Z,F0){constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new yT(e,this.config)}}w(gT,k0,"SQLiteTextJsonBuilder");var Q0,J0;class yT extends(J0=Et,Q0=Z,J0){getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}w(yT,Q0,"SQLiteTextJson");function rn(i,e={}){const{name:o,config:l}=kl(i,e);return l.mode==="json"?new gT(o):new hT(o,l)}function aM(){return{blob:iM,customType:oM,integer:Fc,numeric:lM,real:sM,text:rn}}const Cc=Symbol.for("drizzle:SQLiteInlineForeignKeys");var Y0,$0,K0,X0,Z0;class Ot extends(Z0=se,X0=Z,K0=se.Symbol.Columns,$0=Cc,Y0=se.Symbol.ExtraConfigBuilder,Z0){constructor(){super(...arguments);w(this,K0);w(this,$0,[]);w(this,Y0)}}w(Ot,X0,"SQLiteTable"),w(Ot,"Symbol",Object.assign({},se.Symbol,{InlineForeignKeys:Cc}));function rM(i,e,o,l,a=i){const u=new Ot(i,l,a),d=typeof e=="function"?e(aM()):e,h=Object.fromEntries(Object.entries(d).map(([g,v])=>{const S=v;S.setName(g);const E=S.build(u);return u[Cc].push(...S.buildForeignKeys(E,u)),[g,E]})),y=Object.assign(u,h);return y[se.Symbol.Columns]=h,y[se.Symbol.ExtraConfigColumns]=h,y}const vT=(i,e,o)=>rM(i,e);function Bi(i){return X(i,Ot)?[`${i[se.Symbol.BaseName]}`]:X(i,kt)?i._.usedTables??[]:X(i,pe)?i.usedTables??[]:[]}var W0,j0;class _c extends(j0=gi,W0=Z,j0){constructor(o,l,a,u){super();w(this,"config");w(this,"run",o=>this._prepare().run(o));w(this,"all",o=>this._prepare().all(o));w(this,"get",o=>this._prepare().get(o));w(this,"values",o=>this._prepare().values(o));this.table=o,this.session=l,this.dialect=a,this.config={table:o,withList:u}}where(o){return this.config.where=o,this}orderBy(...o){if(typeof o[0]=="function"){const l=o[0](new Proxy(this.config.table[se.Symbol.Columns],new Tt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),a=Array.isArray(l)?l:[l];this.config.orderBy=a}else{const l=o;this.config.orderBy=l}return this}limit(o){return this.config.limit=o,this}returning(o=this.table[Ot.Symbol.Columns]){return this.config.returning=Gi(o),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:Bi(this.config.table)})}prepare(){return this._prepare(!1)}async execute(o){return this._prepare().execute(o)}$dynamic(){return this}}w(_c,W0,"SQLiteDelete");function uM(i){return(i.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(o=>o.toLowerCase()).join("_")}function cM(i){return(i.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((o,l,a)=>{const u=a===0?l.toLowerCase():`${l[0].toUpperCase()}${l.slice(1)}`;return o+u},"")}function fM(i){return i}var ev;ev=Z;class ST{constructor(e){w(this,"cache",{});w(this,"cachedTables",{});w(this,"convert");this.convert=e==="snake_case"?uM:e==="camelCase"?cM:fM}getColumnCasing(e){if(!e.keyAsName)return e.name;const o=e.table[se.Symbol.Schema]??"public",l=e.table[se.Symbol.OriginalName],a=`${o}.${l}.${e.name}`;return this.cache[a]||this.cacheTable(e.table),this.cache[a]}cacheTable(e){const o=e[se.Symbol.Schema]??"public",l=e[se.Symbol.OriginalName],a=`${o}.${l}`;if(!this.cachedTables[a]){for(const u of Object.values(e[se.Symbol.Columns])){const d=`${a}.${u.name}`;this.cache[d]=this.convert(u.name)}this.cachedTables[a]=!0}}clearCache(){this.cache={},this.cachedTables={}}}w(ST,ev,"CasingCache");var tv,nv;class qa extends(nv=Error,tv=Z,nv){constructor({message:e,cause:o}){super(e),this.name="DrizzleError",this.cause=o}}w(qa,tv,"DrizzleError");class di extends Error{constructor(e,o,l){super(`Failed query: ${e}
params: ${o}`),this.query=e,this.params=o,this.cause=l,Error.captureStackTrace(this,di),l&&(this.cause=l)}}var iv,ov;class TT extends(ov=qa,iv=Z,ov){constructor(){super({message:"Rollback"})}}w(TT,iv,"TransactionRollbackError");var lv,sv;class Pa extends(sv=Oi,lv=Z,sv){}w(Pa,lv,"SQLiteViewBase");var av;av=Z;class Ol{constructor(e){w(this,"casing");this.casing=new ST(e==null?void 0:e.casing)}escapeName(e){return`"${e}"`}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const o=[I`with `];for(const[l,a]of e.entries())o.push(I`${I.identifier(a._.alias)} as (${a._.sql})`),l<e.length-1&&o.push(I`, `);return o.push(I` `),I.join(o)}buildDeleteQuery({table:e,where:o,returning:l,withList:a,limit:u,orderBy:d}){const h=this.buildWithCTE(a),y=l?I` returning ${this.buildSelection(l,{isSingleTable:!0})}`:void 0,g=o?I` where ${o}`:void 0,v=this.buildOrderBy(d),S=this.buildLimit(u);return I`${h}delete from ${e}${g}${y}${v}${S}`}buildUpdateSet(e,o){const l=e[se.Symbol.Columns],a=Object.keys(l).filter(d=>{var h;return o[d]!==void 0||((h=l[d])==null?void 0:h.onUpdateFn)!==void 0}),u=a.length;return I.join(a.flatMap((d,h)=>{const y=l[d],g=o[d]??I.param(y.onUpdateFn(),y),v=I`${I.identifier(this.casing.getColumnCasing(y))} = ${g}`;return h<u-1?[v,I.raw(", ")]:[v]}))}buildUpdateQuery({table:e,set:o,where:l,returning:a,withList:u,joins:d,from:h,limit:y,orderBy:g}){const v=this.buildWithCTE(u),S=this.buildUpdateSet(e,o),E=h&&I.join([I.raw(" from "),this.buildFromTable(h)]),A=this.buildJoins(d),M=a?I` returning ${this.buildSelection(a,{isSingleTable:!0})}`:void 0,R=l?I` where ${l}`:void 0,k=this.buildOrderBy(g),Y=this.buildLimit(y);return I`${v}update ${e} set ${S}${E}${A}${R}${M}${k}${Y}`}buildSelection(e,{isSingleTable:o=!1}={}){const l=e.length,a=e.flatMap(({field:u},d)=>{const h=[];if(X(u,pe.Aliased)&&u.isSelectionField)h.push(I.identifier(u.fieldAlias));else if(X(u,pe.Aliased)||X(u,pe)){const y=X(u,pe.Aliased)?u.sql:u;o?h.push(new pe(y.queryChunks.map(g=>X(g,nt)?I.identifier(this.casing.getColumnCasing(g)):g))):h.push(y),X(u,pe.Aliased)&&h.push(I` as ${I.identifier(u.fieldAlias)}`)}else if(X(u,nt)){const y=u.table[se.Symbol.Name];u.columnType==="SQLiteNumericBigInt"?o?h.push(I`cast(${I.identifier(this.casing.getColumnCasing(u))} as text)`):h.push(I`cast(${I.identifier(y)}.${I.identifier(this.casing.getColumnCasing(u))} as text)`):o?h.push(I.identifier(this.casing.getColumnCasing(u))):h.push(I`${I.identifier(y)}.${I.identifier(this.casing.getColumnCasing(u))}`)}return d<l-1&&h.push(I`, `),h});return I.join(a)}buildJoins(e){if(!e||e.length===0)return;const o=[];if(e)for(const[l,a]of e.entries()){l===0&&o.push(I` `);const u=a.table,d=a.on?I` on ${a.on}`:void 0;if(X(u,Ot)){const h=u[Ot.Symbol.Name],y=u[Ot.Symbol.Schema],g=u[Ot.Symbol.OriginalName],v=h===g?void 0:a.alias;o.push(I`${I.raw(a.joinType)} join ${y?I`${I.identifier(y)}.`:void 0}${I.identifier(g)}${v&&I` ${I.identifier(v)}`}${d}`)}else o.push(I`${I.raw(a.joinType)} join ${u}${d}`);l<e.length-1&&o.push(I` `)}return I.join(o)}buildLimit(e){return typeof e=="object"||typeof e=="number"&&e>=0?I` limit ${e}`:void 0}buildOrderBy(e){const o=[];if(e)for(const[l,a]of e.entries())o.push(a),l<e.length-1&&o.push(I`, `);return o.length>0?I` order by ${I.join(o)}`:void 0}buildFromTable(e){return X(e,se)&&e[se.Symbol.IsAlias]?I`${I`${I.identifier(e[se.Symbol.Schema]??"")}.`.if(e[se.Symbol.Schema])}${I.identifier(e[se.Symbol.OriginalName])} ${I.identifier(e[se.Symbol.Name])}`:e}buildSelectQuery({withList:e,fields:o,fieldsFlat:l,where:a,having:u,table:d,joins:h,orderBy:y,groupBy:g,limit:v,offset:S,distinct:E,setOperators:A}){const M=l??Gi(o);for(const ae of M)if(X(ae.field,nt)&&Mo(ae.field.table)!==(X(d,kt)?d._.alias:X(d,Pa)?d[yt].name:X(d,pe)?void 0:Mo(d))&&!(Te=>h==null?void 0:h.some(({alias:Le})=>Le===(Te[se.Symbol.IsAlias]?Mo(Te):Te[se.Symbol.BaseName])))(ae.field.table)){const Te=Mo(ae.field.table);throw new Error(`Your "${ae.path.join("->")}" field references a column "${Te}"."${ae.field.name}", but the table "${Te}" is not part of the query! Did you forget to join it?`)}const R=!h||h.length===0,k=this.buildWithCTE(e),Y=E?I` distinct`:void 0,W=this.buildSelection(M,{isSingleTable:R}),G=this.buildFromTable(d),K=this.buildJoins(h),ne=a?I` where ${a}`:void 0,j=u?I` having ${u}`:void 0,V=[];if(g)for(const[ae,Te]of g.entries())V.push(Te),ae<g.length-1&&V.push(I`, `);const L=V.length>0?I` group by ${I.join(V)}`:void 0,B=this.buildOrderBy(y),F=this.buildLimit(v),ie=S?I` offset ${S}`:void 0,re=I`${k}select${Y} ${W} from ${G}${K}${ne}${L}${j}${B}${F}${ie}`;return A.length>0?this.buildSetOperations(re,A):re}buildSetOperations(e,o){const[l,...a]=o;if(!l)throw new Error("Cannot pass undefined values to any set operator");return a.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:l}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:l}),a)}buildSetOperationQuery({leftSelect:e,setOperator:{type:o,isAll:l,rightSelect:a,limit:u,orderBy:d,offset:h}}){const y=I`${e.getSQL()} `,g=I`${a.getSQL()}`;let v;if(d&&d.length>0){const M=[];for(const R of d)if(X(R,Et))M.push(I.identifier(R.name));else if(X(R,pe)){for(let k=0;k<R.queryChunks.length;k++){const Y=R.queryChunks[k];X(Y,Et)&&(R.queryChunks[k]=I.identifier(this.casing.getColumnCasing(Y)))}M.push(I`${R}`)}else M.push(I`${R}`);v=I` order by ${I.join(M,I`, `)}`}const S=typeof u=="object"||typeof u=="number"&&u>=0?I` limit ${u}`:void 0,E=I.raw(`${o} ${l?"all ":""}`),A=h?I` offset ${h}`:void 0;return I`${y}${E}${g}${v}${S}${A}`}buildInsertQuery({table:e,values:o,onConflict:l,returning:a,withList:u,select:d}){const h=[],y=e[se.Symbol.Columns],g=Object.entries(y).filter(([R,k])=>!k.shouldDisableInsert()),v=g.map(([,R])=>I.identifier(this.casing.getColumnCasing(R)));if(d){const R=o;X(R,pe)?h.push(R):h.push(R.getSQL())}else{const R=o;h.push(I.raw("values "));for(const[k,Y]of R.entries()){const W=[];for(const[G,K]of g){const ne=Y[G];if(ne===void 0||X(ne,Bn)&&ne.value===void 0){let j;if(K.default!==null&&K.default!==void 0)j=X(K.default,pe)?K.default:I.param(K.default,K);else if(K.defaultFn!==void 0){const V=K.defaultFn();j=X(V,pe)?V:I.param(V,K)}else if(!K.default&&K.onUpdateFn!==void 0){const V=K.onUpdateFn();j=X(V,pe)?V:I.param(V,K)}else j=I`null`;W.push(j)}else W.push(ne)}h.push(W),k<R.length-1&&h.push(I`, `)}}const S=this.buildWithCTE(u),E=I.join(h),A=a?I` returning ${this.buildSelection(a,{isSingleTable:!0})}`:void 0,M=l!=null&&l.length?I.join(l):void 0;return I`${S}insert into ${e} ${v} ${E}${M}${A}`}sqlToQuery(e,o){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:o})}buildRelationalQuery({fullSchema:e,schema:o,tableNamesMap:l,table:a,tableConfig:u,queryConfig:d,tableAlias:h,nestedQueryRelation:y,joinOn:g}){let v=[],S,E,A=[],M;const R=[];if(d===!0)v=Object.entries(u.columns).map(([W,G])=>({dbKey:G.name,tsKey:W,field:Un(G,h),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const Y=Object.fromEntries(Object.entries(u.columns).map(([V,L])=>[V,Un(L,h)]));if(d.where){const V=typeof d.where=="function"?d.where(Y,K1()):d.where;M=V&&Ca(V,h)}const W=[];let G=[];if(d.columns){let V=!1;for(const[L,B]of Object.entries(d.columns))B!==void 0&&L in u.columns&&(!V&&B===!0&&(V=!0),G.push(L));G.length>0&&(G=V?G.filter(L=>{var B;return((B=d.columns)==null?void 0:B[L])===!0}):Object.keys(u.columns).filter(L=>!G.includes(L)))}else G=Object.keys(u.columns);for(const V of G){const L=u.columns[V];W.push({tsKey:V,value:L})}let K=[];d.with&&(K=Object.entries(d.with).filter(V=>!!V[1]).map(([V,L])=>({tsKey:V,queryConfig:L,relation:u.relations[V]})));let ne;if(d.extras){ne=typeof d.extras=="function"?d.extras(Y,{sql:I}):d.extras;for(const[V,L]of Object.entries(ne))W.push({tsKey:V,value:kS(L,h)})}for(const{tsKey:V,value:L}of W)v.push({dbKey:X(L,pe.Aliased)?L.fieldAlias:u.columns[V].name,tsKey:V,field:X(L,nt)?Un(L,h):L,relationTableTsKey:void 0,isJson:!1,selection:[]});let j=typeof d.orderBy=="function"?d.orderBy(Y,X1()):d.orderBy??[];Array.isArray(j)||(j=[j]),A=j.map(V=>X(V,nt)?Un(V,h):Ca(V,h)),S=d.limit,E=d.offset;for(const{tsKey:V,queryConfig:L,relation:B}of K){const F=eM(o,l,B),ie=Hl(B.referencedTable),re=l[ie],ae=`${h}_${V}`,Te=Tc(...F.fields.map((ee,he)=>VS(Un(F.references[he],ae),Un(ee,h)))),Le=this.buildRelationalQuery({fullSchema:e,schema:o,tableNamesMap:l,table:e[re],tableConfig:o[re],queryConfig:X(B,Hi)?L===!0?{limit:1}:{...L,limit:1}:L,tableAlias:ae,joinOn:Te,nestedQueryRelation:B}),H=I`(${Le.sql})`.as(V);v.push({dbKey:V,tsKey:V,field:H,relationTableTsKey:re,isJson:!0,selection:Le.selection})}}if(v.length===0)throw new qa({message:`No fields selected for table "${u.tsName}" ("${h}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});let k;if(M=Tc(g,M),y){let Y=I`json_array(${I.join(v.map(({field:K})=>X(K,Et)?I.identifier(this.casing.getColumnCasing(K)):X(K,pe.Aliased)?K.sql:K),I`, `)})`;X(y,Ea)&&(Y=I`coalesce(json_group_array(${Y}), json_array())`);const W=[{dbKey:"data",tsKey:"data",field:Y.as("data"),isJson:!0,relationTableTsKey:u.tsName,selection:v}];S!==void 0||E!==void 0||A.length>0?(k=this.buildSelectQuery({table:sc(a,h),fields:{},fieldsFlat:[{path:[],field:I.raw("*")}],where:M,limit:S,offset:E,orderBy:A,setOperators:[]}),M=void 0,S=void 0,E=void 0,A=void 0):k=sc(a,h),k=this.buildSelectQuery({table:X(k,Ot)?k:new kt(k,{},h),fields:{},fieldsFlat:W.map(({field:K})=>({path:[],field:X(K,nt)?Un(K,h):K})),joins:R,where:M,limit:S,offset:E,orderBy:A,setOperators:[]})}else k=this.buildSelectQuery({table:sc(a,h),fields:{},fieldsFlat:v.map(({field:Y})=>({path:[],field:X(Y,nt)?Un(Y,h):Y})),joins:R,where:M,limit:S,offset:E,orderBy:A,setOperators:[]});return{tableTsKey:u.tsName,sql:k,selection:v}}}w(Ol,av,"SQLiteDialect");var rv,uv;class ET extends(uv=Ol,rv=Z,uv){migrate(e,o,l){const a=l===void 0||typeof l=="string"?"__drizzle_migrations":l.migrationsTable??"__drizzle_migrations",u=I`
			CREATE TABLE IF NOT EXISTS ${I.identifier(a)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;o.run(u);const h=o.values(I`SELECT id, hash, created_at FROM ${I.identifier(a)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;o.run(I`BEGIN`);try{for(const y of e)if(!h||Number(h[2])<y.folderMillis){for(const g of y.sql)o.run(I.raw(g));o.run(I`INSERT INTO ${I.identifier(a)} ("hash", "created_at") VALUES(${y.hash}, ${y.folderMillis})`)}o.run(I`COMMIT`)}catch(y){throw o.run(I`ROLLBACK`),y}}}w(ET,rv,"SQLiteSyncDialect");var cv,fv;class CT extends(fv=Ol,cv=Z,fv){async migrate(e,o,l){const a=l===void 0||typeof l=="string"?"__drizzle_migrations":l.migrationsTable??"__drizzle_migrations",u=I`
			CREATE TABLE IF NOT EXISTS ${I.identifier(a)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await o.run(u);const h=(await o.values(I`SELECT id, hash, created_at FROM ${I.identifier(a)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await o.transaction(async y=>{for(const g of e)if(!h||Number(h[2])<g.folderMillis){for(const v of g.sql)await y.run(I.raw(v));await y.run(I`INSERT INTO ${I.identifier(a)} ("hash", "created_at") VALUES(${g.hash}, ${g.folderMillis})`)}})}}w(CT,cv,"SQLiteAsyncDialect");var dv;dv=Z;class _T{getSelectedFields(){return this._.selectedFields}}w(_T,dv,"TypedQueryBuilder");var mv;mv=Z;class qn{constructor(e){w(this,"fields");w(this,"session");w(this,"dialect");w(this,"withList");w(this,"distinct");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,this.withList=e.withList,this.distinct=e.distinct}from(e){const o=!!this.fields;let l;return this.fields?l=this.fields:X(e,kt)?l=Object.fromEntries(Object.keys(e._.selectedFields).map(a=>[a,e[a]])):X(e,Pa)?l=e[yt].selectedFields:X(e,pe)?l={}:l=N1(e),new Qc({table:e,fields:l,isPartialSelect:o,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}w(qn,mv,"SQLiteSelectBuilder");var hv,pv;class AT extends(pv=_T,hv=Z,pv){constructor({table:o,fields:l,isPartialSelect:a,session:u,dialect:d,withList:h,distinct:y}){super();w(this,"_");w(this,"config");w(this,"joinsNotNullableMap");w(this,"tableName");w(this,"isPartialSelect");w(this,"session");w(this,"dialect");w(this,"cacheConfig");w(this,"usedTables",new Set);w(this,"leftJoin",this.createJoin("left"));w(this,"rightJoin",this.createJoin("right"));w(this,"innerJoin",this.createJoin("inner"));w(this,"fullJoin",this.createJoin("full"));w(this,"crossJoin",this.createJoin("cross"));w(this,"union",this.createSetOperator("union",!1));w(this,"unionAll",this.createSetOperator("union",!0));w(this,"intersect",this.createSetOperator("intersect",!1));w(this,"except",this.createSetOperator("except",!1));this.config={withList:h,table:o,fields:{...l},distinct:y,setOperators:[]},this.isPartialSelect=a,this.session=u,this.dialect=d,this._={selectedFields:l,config:this.config},this.tableName=vc(o),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(const g of Bi(o))this.usedTables.add(g)}getUsedTables(){return[...this.usedTables]}createJoin(o){return(l,a)=>{var h;const u=this.tableName,d=vc(l);for(const y of Bi(l))this.usedTables.add(y);if(typeof d=="string"&&((h=this.config.joins)!=null&&h.some(y=>y.alias===d)))throw new Error(`Alias "${d}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof u=="string"&&(this.config.fields={[u]:this.config.fields}),typeof d=="string"&&!X(l,pe))){const y=X(l,kt)?l._.selectedFields:X(l,Oi)?l[yt].selectedFields:l[se.Symbol.Columns];this.config.fields[d]=y}if(typeof a=="function"&&(a=a(new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:a,table:l,joinType:o,alias:d}),typeof d=="string")switch(o){case"left":{this.joinsNotNullableMap[d]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([y])=>[y,!1])),this.joinsNotNullableMap[d]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[d]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([y])=>[y,!1])),this.joinsNotNullableMap[d]=!1;break}}return this}}createSetOperator(o,l){return a=>{const u=typeof a=="function"?a(dM()):a;if(!Oc(this.getSelectedFields(),u.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:o,isAll:l,rightSelect:u}),this}}addSetOperators(o){return this.config.setOperators.push(...o),this}where(o){return typeof o=="function"&&(o=o(new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=o,this}having(o){return typeof o=="function"&&(o=o(new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=o,this}groupBy(...o){if(typeof o[0]=="function"){const l=o[0](new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(l)?l:[l]}else this.config.groupBy=o;return this}orderBy(...o){if(typeof o[0]=="function"){const l=o[0](new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),a=Array.isArray(l)?l:[l];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=a:this.config.orderBy=a}else{const l=o;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=l:this.config.orderBy=l}return this}limit(o){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=o:this.config.limit=o,this}offset(o){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=o:this.config.offset=o,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}as(o){const l=[];if(l.push(...Bi(this.config.table)),this.config.joins)for(const a of this.config.joins)l.push(...Bi(a.table));return new Proxy(new kt(this.getSQL(),this.config.fields,o,!1,[...new Set(l)]),new Tt({alias:o,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Tt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}w(AT,hv,"SQLiteSelectQueryBuilder");var gv,yv;class Qc extends(yv=AT,gv=Z,yv){constructor(){super(...arguments);w(this,"run",o=>this._prepare().run(o));w(this,"all",o=>this._prepare().all(o));w(this,"get",o=>this._prepare().get(o));w(this,"values",o=>this._prepare().values(o))}_prepare(o=!0){if(!this.session)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");const l=Gi(this.config.fields),a=this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),l,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return a.joinsNotNullableMap=this.joinsNotNullableMap,a}$withCache(o){return this.cacheConfig=o===void 0?{config:{},enable:!0,autoInvalidate:!0}:o===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...o},this}prepare(){return this._prepare(!1)}async execute(){return this.all()}}w(Qc,gv,"SQLiteSelect");x1(Qc,[gi]);function Ba(i,e){return(o,l,...a)=>{const u=[l,...a].map(d=>({type:i,isAll:e,rightSelect:d}));for(const d of u)if(!Oc(o.getSelectedFields(),d.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return o.addSetOperators(u)}}const dM=()=>({union:mM,unionAll:hM,intersect:pM,except:gM}),mM=Ba("union",!1),hM=Ba("union",!0),pM=Ba("intersect",!1),gM=Ba("except",!1);var vv;vv=Z;class Jc{constructor(e){w(this,"dialect");w(this,"dialectConfig");w(this,"$with",(e,o)=>{const l=this;return{as:u=>(typeof u=="function"&&(u=u(l)),new Proxy(new Vc(u.getSQL(),o??("getSelectedFields"in u?u.getSelectedFields()??{}:{}),e,!0),new Tt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=X(e,Ol)?e:void 0,this.dialectConfig=X(e,Ol)?void 0:e}with(...e){const o=this;function l(u){return new qn({fields:u??void 0,session:void 0,dialect:o.getDialect(),withList:e})}function a(u){return new qn({fields:u??void 0,session:void 0,dialect:o.getDialect(),withList:e,distinct:!0})}return{select:l,selectDistinct:a}}select(e){return new qn({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new qn({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new ET(this.dialectConfig)),this.dialect}}w(Jc,vv,"SQLiteQueryBuilder");var Sv;Sv=Z;class Ac{constructor(e,o,l,a){this.table=e,this.session=o,this.dialect=l,this.withList=a}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const o=e.map(l=>{const a={},u=this.table[se.Symbol.Columns];for(const d of Object.keys(l)){const h=l[d];a[d]=X(h,pe)?h:new Bn(h,u[d])}return a});return new wc(this.table,o,this.session,this.dialect,this.withList)}select(e){const o=typeof e=="function"?e(new Jc):e;if(!X(o,pe)&&!Oc(this.table[yc],o._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new wc(this.table,o,this.session,this.dialect,this.withList,!0)}}w(Ac,Sv,"SQLiteInsertBuilder");var Tv,Ev;class wc extends(Ev=gi,Tv=Z,Ev){constructor(o,l,a,u,d,h){super();w(this,"config");w(this,"run",o=>this._prepare().run(o));w(this,"all",o=>this._prepare().all(o));w(this,"get",o=>this._prepare().get(o));w(this,"values",o=>this._prepare().values(o));this.session=a,this.dialect=u,this.config={table:o,values:l,withList:d,select:h}}returning(o=this.config.table[Ot.Symbol.Columns]){return this.config.returning=Gi(o),this}onConflictDoNothing(o={}){if(this.config.onConflict||(this.config.onConflict=[]),o.target===void 0)this.config.onConflict.push(I` on conflict do nothing`);else{const l=Array.isArray(o.target)?I`${o.target}`:I`${[o.target]}`,a=o.where?I` where ${o.where}`:I``;this.config.onConflict.push(I` on conflict ${l} do nothing${a}`)}return this}onConflictDoUpdate(o){if(o.where&&(o.targetWhere||o.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);const l=o.where?I` where ${o.where}`:void 0,a=o.targetWhere?I` where ${o.targetWhere}`:void 0,u=o.setWhere?I` where ${o.setWhere}`:void 0,d=Array.isArray(o.target)?I`${o.target}`:I`${[o.target]}`,h=this.dialect.buildUpdateSet(this.config.table,BS(this.config.table,o.set));return this.config.onConflict.push(I` on conflict ${d}${a} do update set ${h}${l}${u}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:Bi(this.config.table)})}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}w(wc,Tv,"SQLiteInsert");var Cv;Cv=Z;class xc{constructor(e,o,l,a){this.table=e,this.session=o,this.dialect=l,this.withList=a}set(e){return new wT(this.table,BS(this.table,e),this.session,this.dialect,this.withList)}}w(xc,Cv,"SQLiteUpdateBuilder");var _v,Av;class wT extends(Av=gi,_v=Z,Av){constructor(o,l,a,u,d){super();w(this,"config");w(this,"leftJoin",this.createJoin("left"));w(this,"rightJoin",this.createJoin("right"));w(this,"innerJoin",this.createJoin("inner"));w(this,"fullJoin",this.createJoin("full"));w(this,"run",o=>this._prepare().run(o));w(this,"all",o=>this._prepare().all(o));w(this,"get",o=>this._prepare().get(o));w(this,"values",o=>this._prepare().values(o));this.session=a,this.dialect=u,this.config={set:l,table:o,withList:d,joins:[]}}from(o){return this.config.from=o,this}createJoin(o){return(l,a)=>{const u=vc(l);if(typeof u=="string"&&this.config.joins.some(d=>d.alias===u))throw new Error(`Alias "${u}" is already used in this query`);if(typeof a=="function"){const d=this.config.from?X(l,Ot)?l[se.Symbol.Columns]:X(l,kt)?l._.selectedFields:X(l,Pa)?l[yt].selectedFields:void 0:void 0;a=a(new Proxy(this.config.table[se.Symbol.Columns],new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),d&&new Proxy(d,new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:a,table:l,joinType:o,alias:u}),this}}where(o){return this.config.where=o,this}orderBy(...o){if(typeof o[0]=="function"){const l=o[0](new Proxy(this.config.table[se.Symbol.Columns],new Tt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),a=Array.isArray(l)?l:[l];this.config.orderBy=a}else{const l=o;this.config.orderBy=l}return this}limit(o){return this.config.limit=o,this}returning(o=this.config.table[Ot.Symbol.Columns]){return this.config.returning=Gi(o),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:Bi(this.config.table)})}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}w(wT,_v,"SQLiteUpdate");var wv,xv,Nv;const zl=class zl extends(Nv=pe,xv=Z,wv=Symbol.toStringTag,Nv){constructor(o){super(zl.buildEmbeddedCount(o.source,o.filters).queryChunks);w(this,"sql");w(this,wv,"SQLiteCountBuilderAsync");w(this,"session");this.params=o,this.session=o.session,this.sql=zl.buildCount(o.source,o.filters)}static buildEmbeddedCount(o,l){return I`(select count(*) from ${o}${I.raw(" where ").if(l)}${l})`}static buildCount(o,l){return I`select count(*) from ${o}${I.raw(" where ").if(l)}${l}`}then(o,l){return Promise.resolve(this.session.count(this.sql)).then(o,l)}catch(o){return this.then(void 0,o)}finally(o){return this.then(l=>(o==null||o(),l),l=>{throw o==null||o(),l})}};w(zl,xv,"SQLiteCountBuilderAsync");let Nc=zl;var bv;bv=Z;class xT{constructor(e,o,l,a,u,d,h,y){this.mode=e,this.fullSchema=o,this.schema=l,this.tableNamesMap=a,this.table=u,this.tableConfig=d,this.dialect=h,this.session=y}findMany(e){return this.mode==="sync"?new bc(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many"):new _a(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return this.mode==="sync"?new bc(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first"):new _a(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}w(xT,bv,"SQLiteAsyncRelationalQueryBuilder");var Rv,Mv;class _a extends(Mv=gi,Rv=Z,Mv){constructor(o,l,a,u,d,h,y,g,v){super();w(this,"mode");this.fullSchema=o,this.schema=l,this.tableNamesMap=a,this.table=u,this.tableConfig=d,this.dialect=h,this.session=y,this.config=g,this.mode=v}getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(o=!1){const{query:l,builtQuery:a}=this._toSQL();return this.session[o?"prepareOneTimeQuery":"prepareQuery"](a,void 0,this.mode==="first"?"get":"all",!0,(u,d)=>{const h=u.map(y=>Ec(this.schema,this.tableConfig,y,l.selection,d));return this.mode==="first"?h[0]:h})}prepare(){return this._prepare(!1)}_toSQL(){const o=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),l=this.dialect.sqlToQuery(o.sql);return{query:o,builtQuery:l}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}w(_a,Rv,"SQLiteAsyncRelationalQuery");var Dv,Iv;class bc extends(Iv=_a,Dv=Z,Iv){sync(){return this.executeRaw()}}w(bc,Dv,"SQLiteSyncRelationalQuery");var Lv,Uv;class Pl extends(Uv=gi,Lv=Z,Uv){constructor(o,l,a,u,d){super();w(this,"config");this.execute=o,this.getSQL=l,this.dialect=u,this.mapBatchResult=d,this.config={action:a}}getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(o,l){return l?this.mapBatchResult(o):o}_prepare(){return this}isResponseInArrayMode(){return!1}}w(Pl,Lv,"SQLiteRaw");var qv;qv=Z;class Yc{constructor(e,o,l,a){w(this,"query");w(this,"$with",(e,o)=>{const l=this;return{as:u=>(typeof u=="function"&&(u=u(new Jc(l.dialect))),new Proxy(new Vc(u.getSQL(),o??("getSelectedFields"in u?u.getSelectedFields()??{}:{}),e,!0),new Tt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});w(this,"$cache");this.resultKind=e,this.dialect=o,this.session=l,this._=a?{schema:a.schema,fullSchema:a.fullSchema,tableNamesMap:a.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};const u=this.query;if(this._.schema)for(const[d,h]of Object.entries(this._.schema))u[d]=new xT(e,a.fullSchema,this._.schema,this._.tableNamesMap,a.fullSchema[d],h,o,l);this.$cache={invalidate:async d=>{}}}$count(e,o){return new Nc({source:e,filters:o,session:this.session})}with(...e){const o=this;function l(y){return new qn({fields:y??void 0,session:o.session,dialect:o.dialect,withList:e})}function a(y){return new qn({fields:y??void 0,session:o.session,dialect:o.dialect,withList:e,distinct:!0})}function u(y){return new xc(y,o.session,o.dialect,e)}function d(y){return new Ac(y,o.session,o.dialect,e)}function h(y){return new _c(y,o.session,o.dialect,e)}return{select:l,selectDistinct:a,update:u,insert:d,delete:h}}select(e){return new qn({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new qn({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new xc(e,this.session,this.dialect)}insert(e){return new Ac(e,this.session,this.dialect)}delete(e){return new _c(e,this.session,this.dialect)}run(e){const o=typeof e=="string"?I.raw(e):e.getSQL();return this.resultKind==="async"?new Pl(async()=>this.session.run(o),()=>o,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(o)}all(e){const o=typeof e=="string"?I.raw(e):e.getSQL();return this.resultKind==="async"?new Pl(async()=>this.session.all(o),()=>o,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(o)}get(e){const o=typeof e=="string"?I.raw(e):e.getSQL();return this.resultKind==="async"?new Pl(async()=>this.session.get(o),()=>o,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(o)}values(e){const o=typeof e=="string"?I.raw(e):e.getSQL();return this.resultKind==="async"?new Pl(async()=>this.session.values(o),()=>o,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(o)}transaction(e,o){return this.session.transaction(e,o)}}w(Yc,qv,"BaseSQLiteDatabase");var Pv;Pv=Z;class NT{}w(NT,Pv,"Cache");var Bv,zv;class $c extends(zv=NT,Bv=Z,zv){strategy(){return"all"}async get(e){}async put(e,o,l,a){}async onMutate(e){}}w($c,Bv,"NoopCache");async function Vg(i,e){const o=`${i}-${JSON.stringify(e)}`,a=new TextEncoder().encode(o),u=await crypto.subtle.digest("SHA-256",a);return[...new Uint8Array(u)].map(y=>y.toString(16).padStart(2,"0")).join("")}var Gv,Hv;class bT extends(Hv=gi,Gv=Z,Hv){constructor(e){super(),this.resultCb=e}async execute(){return this.resultCb()}sync(){return this.resultCb()}}w(bT,Gv,"ExecuteResultSync");var Vv;Vv=Z;class RT{constructor(e,o,l,a,u,d){w(this,"joinsNotNullableMap");var h;this.mode=e,this.executeMethod=o,this.query=l,this.cache=a,this.queryMetadata=u,this.cacheConfig=d,a&&a.strategy()==="all"&&d===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),(h=this.cacheConfig)!=null&&h.enable||(this.cacheConfig=void 0)}async queryWithCache(e,o,l){if(this.cache===void 0||X(this.cache,$c)||this.queryMetadata===void 0)try{return await l()}catch(a){throw new di(e,o,a)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await l()}catch(a){throw new di(e,o,a)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{const[a]=await Promise.all([l(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return a}catch(a){throw new di(e,o,a)}if(!this.cacheConfig)try{return await l()}catch(a){throw new di(e,o,a)}if(this.queryMetadata.type==="select"){const a=await this.cache.get(this.cacheConfig.tag??await Vg(e,o),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(a===void 0){let u;try{u=await l()}catch(d){throw new di(e,o,d)}return await this.cache.put(this.cacheConfig.tag??await Vg(e,o),u,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),u}return a}try{return await l()}catch(a){throw new di(e,o,a)}}getQuery(){return this.query}mapRunResult(e,o){return e}mapAllResult(e,o){throw new Error("Not implemented")}mapGetResult(e,o){throw new Error("Not implemented")}execute(e){return this.mode==="async"?this[this.executeMethod](e):new bT(()=>this[this.executeMethod](e))}mapResult(e,o){switch(this.executeMethod){case"run":return this.mapRunResult(e,o);case"all":return this.mapAllResult(e,o);case"get":return this.mapGetResult(e,o)}}}w(RT,Vv,"PreparedQuery");var Ov;Ov=Z;class MT{constructor(e){this.dialect=e}prepareOneTimeQuery(e,o,l,a,u,d,h){return this.prepareQuery(e,o,l,a,u,d,h)}run(e){const o=this.dialect.sqlToQuery(e);try{return this.prepareOneTimeQuery(o,void 0,"run",!1).run()}catch(l){throw new qa({cause:l,message:`Failed to run the query '${o.sql}'`})}}extractRawRunValueFromBatchResult(e){return e}all(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(e){throw new Error("Not implemented")}get(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(e){throw new Error("Not implemented")}values(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).values()}async count(e){return(await this.values(e))[0][0]}extractRawValuesValueFromBatchResult(e){throw new Error("Not implemented")}}w(MT,Ov,"SQLiteSession");var kv,Fv;class DT extends(Fv=Yc,kv=Z,Fv){constructor(e,o,l,a,u=0){super(e,o,l,a),this.schema=a,this.nestedIndex=u}rollback(){throw new TT}}w(DT,kv,"SQLiteTransaction");var Qv,Jv;class IT extends(Jv=MT,Qv=Z,Jv){constructor(o,l,a,u,d={}){super(l);w(this,"logger");w(this,"cache");this.client=o,this.schema=a,this.batchCLient=u,this.logger=d.logger??new IS,this.cache=d.cache??new $c}prepareQuery(o,l,a,u,d,h,y){return new LT(this.client,o,this.logger,this.cache,h,y,l,a,u,d)}async batch(o){const l=[],a=[];for(const d of o){const h=d._prepare(),y=h.getQuery();l.push(h),a.push({sql:y.sql,params:y.params,method:y.method})}return(await this.batchCLient(a)).map((d,h)=>l[h].mapResult(d,!0))}async transaction(o,l){const a=new Rc("async",this.dialect,this,this.schema);await this.run(I.raw(`begin${l!=null&&l.behavior?" "+l.behavior:""}`));try{const u=await o(a);return await this.run(I`commit`),u}catch(u){throw await this.run(I`rollback`),u}}extractRawAllValueFromBatchResult(o){return o.rows}extractRawGetValueFromBatchResult(o){return o.rows[0]}extractRawValuesValueFromBatchResult(o){return o.rows}}w(IT,Qv,"SQLiteRemoteSession");var Yv,$v;const Na=class Na extends($v=DT,Yv=Z,$v){async transaction(e){const o=`sp${this.nestedIndex}`,l=new Na("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(I.raw(`savepoint ${o}`));try{const a=await e(l);return await this.session.run(I.raw(`release savepoint ${o}`)),a}catch(a){throw await this.session.run(I.raw(`rollback to savepoint ${o}`)),a}}};w(Na,Yv,"SQLiteProxyTransaction");let Rc=Na;var Kv,Xv;class LT extends(Xv=RT,Kv=Z,Xv){constructor(o,l,a,u,d,h,y,g,v,S){super("async",g,l,u,d,h);w(this,"method");this.client=o,this.logger=a,this.fields=y,this._isResponseInArrayMode=v,this.customResultMapper=S,this.customResultMapper=S,this.method=g}getQuery(){return{...this.query,method:this.method}}async run(o){const l=aa(this.query.params,o??{});return this.logger.logQuery(this.query.sql,l),await this.queryWithCache(this.query.sql,l,async()=>await this.client(this.query.sql,l,"run"))}mapAllResult(o,l){return l&&(o=o.rows),!this.fields&&!this.customResultMapper?o:this.customResultMapper?this.customResultMapper(o):o.map(a=>zg(this.fields,a,this.joinsNotNullableMap))}async all(o){const{query:l,logger:a,client:u}=this,d=aa(l.params,o??{});a.logQuery(l.sql,d);const{rows:h}=await this.queryWithCache(l.sql,d,async()=>await u(l.sql,d,"all"));return this.mapAllResult(h)}async get(o){const{query:l,logger:a,client:u}=this,d=aa(l.params,o??{});a.logQuery(l.sql,d);const h=await this.queryWithCache(l.sql,d,async()=>await u(l.sql,d,"get"));return this.mapGetResult(h.rows)}mapGetResult(o,l){l&&(o=o.rows);const a=o;if(!this.fields&&!this.customResultMapper)return a;if(a)return this.customResultMapper?this.customResultMapper([o]):zg(this.fields,a,this.joinsNotNullableMap)}async values(o){const l=aa(this.query.params,o??{});return this.logger.logQuery(this.query.sql,l),(await this.queryWithCache(this.query.sql,l,async()=>await this.client(this.query.sql,l,"values"))).rows}isResponseInArrayMode(){return this._isResponseInArrayMode}}w(LT,Kv,"SQLiteProxyPreparedQuery");var Zv,Wv;class UT extends(Wv=Yc,Zv=Z,Wv){async batch(e){return this.session.batch(e)}}w(UT,Zv,"SqliteRemoteDatabase");function Og(i,e,o){const l=new CT({casing:o==null?void 0:o.casing});let a,u,d,h={};e&&(typeof e=="function"?(d=e,h={}):(d=void 0,h=e),h.logger===!0?a=new DS:h.logger!==!1&&(a=h.logger,u=h.cache));let y;if(h.schema){const S=Z1(h.schema,tM);y={fullSchema:h.schema,schema:S.tables,tableNamesMap:S.tableNamesMap}}const g=new IT(i,l,y,d,{logger:a,cache:u}),v=new UT("async",l,g,y);return v.$cache=u,v.$cache&&(v.$cache.invalidate=u==null?void 0:u.onMutate),v}const yM=vT("fragments",{id:rn("id").primaryKey(),date:rn("date").notNull(),content:rn("content").notNull(),timestamp:Fc("timestamp").notNull(),tags:rn("tags")}),vM=vT("diary_entries",{date:rn("date").primaryKey(),title:rn("title").notNull(),content:rn("content").notNull(),mood:rn("mood").notNull(),reflection:rn("reflection").notNull(),tags:rn("tags").notNull(),createdAt:Fc("created_at").$defaultFn(()=>Date.now())}),kg=Object.freeze(Object.defineProperty({__proto__:null,diaryEntries:vM,fragments:yM},Symbol.toStringTag,{value:"Module"})),SM=`
CREATE TABLE IF NOT EXISTS fragments (
  id TEXT PRIMARY KEY,
  date TEXT NOT NULL,
  content TEXT NOT NULL,
  timestamp INTEGER NOT NULL,
  tags TEXT
);

CREATE TABLE IF NOT EXISTS diary_entries (
  date TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  content TEXT NOT NULL,
  mood TEXT NOT NULL,
  reflection TEXT NOT NULL,
  tags TEXT NOT NULL,
  created_at INTEGER
);

CREATE INDEX IF NOT EXISTS idx_fragments_date ON fragments(date);
CREATE INDEX IF NOT EXISTS idx_fragments_timestamp ON fragments(timestamp);
`;let ra=null,ql=null;const Fg=()=>{const i=globalThis.crypto;if(i&&typeof i.randomUUID=="function")return i.randomUUID();const e=new Uint8Array(16),o=i&&typeof i.getRandomValues=="function"?i.getRandomValues.bind(i):null;if(o)o(e);else for(let a=0;a<e.length;a++)e[a]=Math.random()*256|0;e[6]=e[6]&15|64,e[8]=e[8]&63|128;const l=Array.from(e,a=>a.toString(16).padStart(2,"0"));return`${l.slice(0,4).join("")}-${l.slice(4,6).join("")}-${l.slice(6,8).join("")}-${l.slice(8,10).join("")}-${l.slice(10).join("")}`},qT=async()=>{if(ra)return ra;if(ql)return ql;ql=(async()=>{if(va.isNativePlatform()){console.log("Initializing Native SQLite Database...");const u=await new v1(S1).createConnection("nimo_db",!1,"no-encryption",1,!1);await u.open();const d=SM.split(";").map(y=>y.trim()).filter(Boolean);for(const y of d)await u.run(y,[]);const h=Og(async(y,g,v)=>{try{return v==="run"?(await u.run(y,g),{rows:[]}):{rows:(await u.query(y,g)).values||[]}}catch(S){throw console.error("Native DB Error:",S),S}},{schema:kg});return h.backendType="Native SQLite",h}console.log("Initializing Web SQLite Database (Worker with OPFS)...");const i=new Worker(new URL(""+new URL("worker-L9MGsmvN.js",import.meta.url).href,import.meta.url),{type:"module"}),e=await new Promise((a,u)=>{const d=Fg(),h=setTimeout(()=>{u(new Error("Worker initialization timeout"))},3e4),y=g=>{g.data.id===d&&g.data.type==="init_result"&&(clearTimeout(h),i.removeEventListener("message",y),g.data.success?a(g.data.backend||"Unknown"):u(new Error(g.data.error)))};i.addEventListener("message",y),i.postMessage({id:d,type:"init"})});console.log("Worker initialized with backend:",e);const o=async(a,u,d)=>{const h=Fg();return new Promise((y,g)=>{const v=setTimeout(()=>{g(new Error("Query timeout"))},3e4),S=E=>{E.data.id===h&&(clearTimeout(v),i.removeEventListener("message",S),E.data.success?y(E.data.data):g(new Error(E.data.error)))};i.addEventListener("message",S),i.postMessage({id:h,sql:a,params:u,method:d})})},l=Og(async(a,u,d)=>{try{const h=await o(a,u,d);return console.log("[drizzleProxy] Worker returned:",h),Array.isArray(h)&&h.length>0&&console.log("[drizzleProxy] First row:",h[0]),{rows:Array.isArray(h)?h:h?[h]:[]}}catch(h){return console.error("Error from worker:",h),{rows:[]}}},{schema:kg});return l.execute=async({sql:a,args:u})=>{const d=await o(a,u||[],"all");return{rows:Array.isArray(d)?d:[]}},l.backendType=e,l})();try{return ra=await ql,ra}catch(i){throw ql=null,i}};let Uo=null;const TM=async()=>(Uo||(Uo=await qT()),Uo),hn=async()=>(Uo||(Uo=await qT()),Uo),EM=async i=>{const o=await(await hn()).execute({sql:"SELECT id, date, content, timestamp, tags FROM fragments WHERE date = ? ORDER BY timestamp",args:[i]});return console.log("[getFragmentsByDate] Raw results from DB:",o),o.rows&&o.rows.length>0&&console.log("[getFragmentsByDate] First row:",o.rows[0]),(o.rows||[]).map(l=>({id:l.id,content:l.content,timestamp:l.timestamp,tags:l.tags?JSON.parse(l.tags):[]}))},Mc=async(i,e)=>{await(await hn()).execute({sql:"INSERT INTO fragments (id, date, content, timestamp, tags) VALUES (?, ?, ?, ?, ?)",args:[e.id,i,e.content,e.timestamp,e.tags?JSON.stringify(e.tags):null]})},CM=async(i,e,o)=>{await(await hn()).execute({sql:"UPDATE fragments SET content = ?, tags = ? WHERE id = ?",args:[e,JSON.stringify(o),i]})},_M=async i=>{await(await hn()).execute({sql:"DELETE FROM fragments WHERE id = ?",args:[i]})},AM=async i=>{const o=await(await hn()).execute({sql:"SELECT title, content, mood, reflection, tags FROM diary_entries WHERE date = ?",args:[i]});if(!o.rows||o.rows.length===0)return null;const l=o.rows[0];return{title:l.title,content:l.content,mood:l.mood,reflection:l.reflection,tags:JSON.parse(l.tags)}},da=async(i,e)=>{await(await hn()).execute({sql:`INSERT OR REPLACE INTO diary_entries (date, title, content, mood, reflection, tags, created_at) 
              VALUES (?, ?, ?, ?, ?, ?, ?)`,args:[i,e.title,e.content,e.mood,e.reflection,JSON.stringify(e.tags),Date.now()]})},wM=async()=>{const i=await hn(),e=await i.execute({sql:"SELECT DISTINCT date FROM fragments"}),o=await i.execute({sql:"SELECT date FROM diary_entries"}),l=new Set([...(e.rows||[]).map(a=>a.date),...(o.rows||[]).map(a=>a.date)]);return Array.from(l).sort().reverse()},xM=async i=>{const e=await hn();await e.execute({sql:"DELETE FROM fragments WHERE date = ?",args:[i]}),await e.execute({sql:"DELETE FROM diary_entries WHERE date = ?",args:[i]})},NM=async i=>{const e=await hn(),o=`%${i.toLowerCase()}%`;return((await e.execute({sql:`SELECT id, date, content, timestamp, tags FROM fragments 
              WHERE LOWER(content) LIKE ? OR LOWER(tags) LIKE ? 
              ORDER BY timestamp DESC`,args:[o,o]})).rows||[]).map(a=>({date:a.date,fragment:{id:a.id,content:a.content,timestamp:a.timestamp,tags:a.tags?JSON.parse(a.tags):[]}}))},bM=async i=>{const e=await hn(),o=`%${i.toLowerCase()}%`;return((await e.execute({sql:`SELECT date, title, content, mood, reflection, tags FROM diary_entries 
              WHERE LOWER(title) LIKE ? OR LOWER(content) LIKE ? OR LOWER(mood) LIKE ? 
                 OR LOWER(reflection) LIKE ? OR LOWER(tags) LIKE ? 
              ORDER BY date DESC`,args:[o,o,o,o,o]})).rows||[]).map(a=>({date:a.date,entry:{title:a.title,content:a.content,mood:a.mood,reflection:a.reflection,tags:JSON.parse(a.tags)}}))},PT="nimo_db_migrated",ma="fragment_diary_db",RM=()=>localStorage.getItem(PT)==="true"?!1:localStorage.getItem(ma)!==null,MM=async()=>{try{console.log("[Migration] Starting migration from localStorage...");const i=localStorage.getItem(ma);if(!i)return console.log("[Migration] No data to migrate"),{success:!0,migratedCount:0};const e=JSON.parse(i),o=Object.keys(e);console.log(`[Migration] Found ${o.length} dates to migrate`);let l=0,a=0;for(const u of o){const d=e[u];if(d.fragments&&d.fragments.length>0)for(const h of d.fragments)await Mc(u,h),l++;d.diaryEntry&&(await da(u,d.diaryEntry),a++)}return console.log(`[Migration] Migrated ${l} fragments and ${a} diary entries`),localStorage.setItem(PT,"true"),localStorage.setItem(ma+"_backup",i),localStorage.removeItem(ma),console.log("[Migration] Migration completed successfully"),{success:!0,migratedCount:l+a}}catch(i){return console.error("[Migration] Migration failed:",i),{success:!1,error:i.message}}},Qg="fragment_diary_lang",Jg="fragment_diary_config",DM="https://api.302.ai/v1",IM="gemini-2.5-flash",LM="sk-Xc1xkQKZmbBk3TCP2njCcM1fuTsh9AcQMONlbZHhLjJbwHZ3";function UM(){const[i,e]=de.useState(gc()),[o,l]=de.useState({fragments:[],diaryEntry:null}),[a,u]=de.useState([]),[d,h]=de.useState("en"),[y,g]=de.useState(""),[v,S]=de.useState(mt.COMPOSING),[E,A]=de.useState(null),[M,R]=de.useState(!1),[k,Y]=de.useState(!1),[W,G]=de.useState(!1),[K,ne]=de.useState("default"),[j,V]=de.useState({provider:"openai",openaiBaseUrl:DM,openaiApiKey:LM,openaiModel:IM}),L=hi(d);de.useEffect(()=>{const te=localStorage.getItem(Qg);(te==="en"||te==="zh")&&h(te);const ye=localStorage.getItem(Jg);if(ye)try{V(JSON.parse(ye))}catch(Re){console.error("Failed to parse api config",Re)}},[]),de.useEffect(()=>{localStorage.setItem(Qg,d)},[d]);const B=te=>{V(te),localStorage.setItem(Jg,JSON.stringify(te))};de.useEffect(()=>{(async()=>{try{if(await TM(),RM()){console.log("Migration needed, starting...");const ye=await MM();ye.success?console.log(`Migration successful: ${ye.migratedCount} items migrated`):console.error("Migration failed:",ye.error)}await F(),await ie()}catch(ye){console.error("Failed to initialize database:",ye)}})()},[]),de.useEffect(()=>{F()},[i]);const F=de.useCallback(async()=>{try{console.log("[loadCurrentDayData] Loading for date:",i);const[te,ye]=await Promise.all([EM(i),AM(i)]);console.log("[loadCurrentDayData] Loaded fragments:",te),console.log("[loadCurrentDayData] Fragment count:",te.length),te.length>0&&console.log("[loadCurrentDayData] First fragment:",te[0]),l({fragments:te,diaryEntry:ye})}catch(te){console.error("Failed to load day data:",te)}},[i]),ie=de.useCallback(async()=>{try{const te=await wM();u(te)}catch(te){console.error("Failed to load dates:",te)}},[]);de.useEffect(()=>{if(y.trim()){S(mt.SEARCH);return}v!==mt.GENERATING&&(o.diaryEntry?S(mt.READING):S(mt.COMPOSING),A(null))},[i,o.diaryEntry,y]);const[re,ae]=de.useState([]);de.useEffect(()=>{(async()=>{if(!y.trim()){ae([]);return}try{const[ye,Re]=await Promise.all([NM(y),bM(y)]),Ze=[],Hn=(ot,Ct,ht=40)=>{const Dt=ot.toLowerCase().indexOf(Ct.toLowerCase());if(Dt===-1)return ot.slice(0,100);const nn=Math.max(0,Dt-ht),yi=Math.min(ot.length,Dt+Ct.length+ht);let on=ot.slice(nn,yi);return nn>0&&(on="..."+on),yi<ot.length&&(on=on+"..."),on};Re.forEach(({date:ot,entry:Ct})=>{const{title:ht,content:Dt,mood:nn,reflection:yi,tags:on}=Ct,pn=y.toLowerCase();ht.toLowerCase().includes(pn)?Ze.push({date:ot,type:"diary",preview:ht,matchField:L.titleLabel}):Dt.toLowerCase().includes(pn)?Ze.push({date:ot,type:"diary",preview:Hn(Dt,y),matchField:L.contentLabel}):nn.toLowerCase().includes(pn)?Ze.push({date:ot,type:"diary",preview:nn,matchField:L.moodLabel}):yi.toLowerCase().includes(pn)?Ze.push({date:ot,type:"diary",preview:Hn(yi,y),matchField:L.reflectionLabel}):on.some(Go=>Go.toLowerCase().includes(pn))&&Ze.push({date:ot,type:"diary",preview:on.join(", "),matchField:L.tagsLabel})}),ye.forEach(({date:ot,fragment:Ct})=>{var Dt;const ht=y.toLowerCase();Ct.content.toLowerCase().includes(ht)?Ze.push({date:ot,type:"fragment",id:Ct.id,preview:Hn(Ct.content,y),matchField:L.fragment}):(Dt=Ct.tags)!=null&&Dt.some(nn=>nn.toLowerCase().includes(ht))&&Ze.push({date:ot,type:"fragment",id:Ct.id,preview:Ct.tags.join(", "),matchField:L.tagsLabel})}),ae(Ze)}catch(ye){console.error("Search failed:",ye),ae([])}})()},[y,L]);const Te=te=>{e(te),g("")},Le=de.useCallback(async(te,ye=[])=>{const Re={id:crypto.randomUUID(),content:te,timestamp:Date.now(),tags:ye};try{await Mc(i,Re),await F(),await ie()}catch(Ze){console.error("Failed to add fragment:",Ze)}},[i,F,ie]),H=de.useCallback(async te=>{try{await _M(te),await F(),await ie()}catch(ye){console.error("Failed to delete fragment:",ye)}},[F,ie]),ee=de.useCallback(async(te,ye,Re)=>{try{await CM(te,ye,Re),await F()}catch(Ze){console.error("Failed to update fragment:",Ze)}},[F]),he=async()=>{if(o.fragments.length!==0){S(mt.GENERATING),A(null);try{const te=await XR(o.fragments,d,K,j);await da(i,te),await F(),S(mt.READING)}catch(te){console.error(te),A(L.failedError),S(mt.COMPOSING)}}},qe=()=>{S(mt.COMPOSING)},Pe=()=>{G(!0)},b=async()=>{try{await xM(i),await F(),await ie(),S(mt.COMPOSING),G(!1)}catch(te){console.error("Failed to clear day:",te)}},$=async te=>{try{await da(i,te),await F()}catch(ye){console.error("Failed to update entry:",ye)}},oe=async te=>{try{for(const[ye,Re]of Object.entries(te)){for(const Ze of Re.fragments)await Mc(ye,Ze);Re.diaryEntry&&await da(ye,Re.diaryEntry)}await F(),await ie(),console.log("Import completed successfully")}catch(ye){console.error("Failed to import data:",ye)}},ce=()=>{e(te=>Mg(te,-1))},ve=()=>{e(te=>Mg(te,1))},_e=i===gc();return _.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 pb-10",children:[_.jsx(S_,{onToggleHistory:()=>R(!0),onOpenSettings:()=>Y(!0),language:d,setLanguage:h,searchQuery:y,setSearchQuery:g}),_.jsx(i1,{isOpen:M,onClose:()=>R(!1),dates:a,activeDate:i,onSelectDate:te=>{e(te),R(!1)},language:d}),_.jsx(l1,{isOpen:k,onClose:()=>Y(!1),onImport:oe,language:d,apiConfig:j,onSaveConfig:B}),_.jsxs("main",{className:"max-w-2xl mx-auto px-4",children:[v!==mt.SEARCH&&_.jsx(n1,{currentDate:i,onPrev:ce,onNext:ve,canGoNext:!_e,language:d,onDateSelect:e}),E&&_.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm flex items-center gap-2 animate-pulse",children:_.jsx("span",{children:E})}),v===mt.SEARCH&&_.jsx(o1,{results:re,query:y,onSelect:Te,language:d}),v===mt.COMPOSING&&_.jsxs("div",{className:"fade-in duration-500","data-state":"open",children:[_.jsx(WR,{onAdd:Le,language:d,apiConfig:j}),_.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[_.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:L.timeline}),o.fragments.length>0&&_.jsx("button",{onClick:Pe,className:"text-xs text-gray-400 hover:text-red-500 underline transition-colors",children:L.clearDay})]}),_.jsx(jR,{fragments:o.fragments,onDelete:H,onUpdate:ee,language:d}),_.jsx("div",{className:"sticky bottom-6 mt-8 flex flex-col items-center z-30 pointer-events-none",children:_.jsxs("div",{className:"pointer-events-auto flex flex-col items-center gap-3",children:[o.fragments.length>0&&_.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-1.5 rounded-full shadow-sm border border-indigo-100 flex items-center gap-2 fade-in slide-in-from-top","data-state":"open",children:[_.jsxs("div",{className:"px-2 flex items-center gap-1 text-xs font-medium text-gray-400",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:_.jsx("path",{fillRule:"evenodd",d:"M10 2c-1.716 0-3.408.106-5.07.31C3.806 2.45 3 3.414 3 4.517V17.25a.75.75 0 001.075.676L10 15.082l5.925 2.844A.75.75 0 0017 17.25V4.517c0-1.103-.806-2.068-1.93-2.207A41.403 41.403 0 0010 2z",clipRule:"evenodd"})}),L.toneLabel]}),_.jsx("select",{value:K,onChange:te=>ne(te.target.value),className:"bg-gray-50 text-sm border-0 rounded-full py-1 pl-3 pr-8 focus:ring-2 focus:ring-indigo-500 text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors font-medium",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundSize:"1.5em 1.5em",backgroundRepeat:"no-repeat",appearance:"none"},children:Object.entries(L.tones).map(([te,ye])=>_.jsx("option",{value:te,children:ye},te))})]}),_.jsxs("button",{onClick:he,disabled:o.fragments.length===0,className:`
                      group relative inline-flex items-center justify-center overflow-hidden rounded-full p-4 px-8 font-medium text-white shadow-2xl transition-all duration-300 focus:outline-none
                      ${o.fragments.length===0?"bg-gray-300 cursor-not-allowed":"bg-gray-900 hover:bg-gray-800 hover:scale-105 hover:shadow-indigo-500/20"}
                    `,children:[_.jsx("span",{className:"mr-2",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})})}),_.jsx("span",{children:o.diaryEntry?L.regenerateButton:L.weaveButton})]})]})}),o.diaryEntry&&_.jsx("div",{className:"text-center mt-2",children:_.jsx("button",{onClick:()=>S(mt.READING),className:"text-sm text-indigo-600 hover:underline",children:L.cancelView})})]}),v===mt.GENERATING&&_.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] animate-pulse",children:[_.jsxs("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-6 relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-indigo-100 animate-[spin_3s_linear_infinite]"}),_.jsx("div",{className:"bg-white w-14 h-14 rounded-full z-10 flex items-center justify-center",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-indigo-500",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})})]}),_.jsx("h3",{className:"text-xl font-serif font-medium text-gray-800 mb-2",children:L.writingStory}),_.jsxs("p",{className:"text-gray-400 text-sm",children:[L.analyzing," ",Gl(i,d)]})]}),v===mt.READING&&o.diaryEntry&&_.jsx(e1,{entry:o.diaryEntry,onBack:qe,onUpdate:$,language:d}),W&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm fade-in duration-200","data-state":"open",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6 transform scale-100 zoom-in-95","data-state":"open",children:[_.jsx("h3",{className:"text-lg font-serif font-semibold text-gray-800 mb-2",children:"Clear Today's Data?"}),_.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[L.clearConfirm," ",Gl(i,d),"?"]}),_.jsxs("div",{className:"flex justify-end gap-3",children:[_.jsx("button",{onClick:()=>G(!1),className:"text-sm font-medium text-gray-600 hover:bg-gray-50 px-4 py-2 rounded-lg transition-colors",children:L.cancel}),_.jsx("button",{onClick:b,className:"text-sm font-medium bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 shadow-sm shadow-red-200 transition-colors",children:L.confirmDelete})]})]})})]})]})}const Yg=document.getElementById("root");Yg&&v_.createRoot(Yg).render(_.jsx(f_.StrictMode,{children:_.jsx(UM,{})}));export{RS as W};
