var _r=Object.defineProperty;var zt=ge=>{throw TypeError(ge)};var ur=(ge,we,xe)=>we in ge?_r(ge,we,{enumerable:!0,configurable:!0,writable:!0,value:xe}):ge[we]=xe;var Wt=(ge,we,xe)=>ur(ge,typeof we!="symbol"?we+"":we,xe),wt=(ge,we,xe)=>we.has(ge)||zt("Cannot "+xe);var $=(ge,we,xe)=>(wt(ge,we,"read from private field"),xe?xe.call(ge):we.get(ge)),Oe=(ge,we,xe)=>we.has(ge)?zt("Cannot add the same private member more than once"):we instanceof WeakSet?we.add(ge):we.set(ge,xe),Ce=(ge,we,xe,st)=>(wt(ge,we,"write to private field"),st?st.call(ge,xe):we.set(ge,xe),xe),_t=(ge,we,xe)=>(wt(ge,we,"access private method"),xe);(function(){"use strict";var ge=(()=>{var ue=self.location.href;return function(ie={}){var ve,i=ie,qe,Se,ye=new Promise((e,t)=>{qe=e,Se=t}),Le=typeof window=="object",Ne=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";const Re=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,Re.debugModule("globalThis.location =",globalThis.location);var Ye=Object.assign({},i),ne="./this.program",be="";function Me(e){return i.locateFile?i.locateFile(e,be):be+e}var We,Ge;(Le||Ne)&&(Ne?be=self.location.href:typeof document<"u"&&document.currentScript&&(be=document.currentScript.src),ue&&(be=ue),be.startsWith("blob:")?be="":be=be.substr(0,be.replace(/[?#].*/,"").lastIndexOf("/")+1),Ne&&(Ge=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),We=e=>fetch(e,{credentials:"same-origin"}).then(t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url))));var Ze=i.print||console.log.bind(console),ze=i.printErr||console.error.bind(console);Object.assign(i,Ye),Ye=null,i.arguments&&i.arguments,i.thisProgram&&(ne=i.thisProgram);var it=i.wasmBinary,Qe,vt=!1,Fe,$e,et,de,Ie,je;function xt(){var e=Qe.buffer;i.HEAP8=Fe=new Int8Array(e),i.HEAP16=et=new Int16Array(e),i.HEAPU8=$e=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=de=new Int32Array(e),i.HEAPU32=Ie=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e),i.HEAP64=je=new BigInt64Array(e),i.HEAPU64=new BigUint64Array(e)}if(i.wasmMemory)Qe=i.wasmMemory;else{var Qt=i.INITIAL_MEMORY||16777216;Qe=new WebAssembly.Memory({initial:Qt/65536,maximum:32768})}xt();var St=[],At=[],It=[];function Ht(){var e=i.preRun;e&&(typeof e=="function"&&(e=[e]),e.forEach($t)),mt(St)}function Vt(){!i.noFSInit&&!a.initialized&&a.init(),a.ignorePermissions=!1,mt(At)}function Gt(){var e=i.postRun;e&&(typeof e=="function"&&(e=[e]),e.forEach(Jt)),mt(It)}function $t(e){St.unshift(e)}function Kt(e){At.unshift(e)}function Jt(e){It.unshift(e)}var He=0,tt=null;function fr(e){return e}function ft(e){var t;He++,(t=i.monitorRunDependencies)==null||t.call(i,He)}function ot(e){var n;if(He--,(n=i.monitorRunDependencies)==null||n.call(i,He),He==0&&tt){var t=tt;tt=null,t()}}function dt(e){var n;(n=i.onAbort)==null||n.call(i,e),e="Aborted("+e+")",ze(e),vt=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw Se(t),t}var Xt="data:application/octet-stream;base64,",kt=e=>e.startsWith(Xt);function Yt(){if(i.locateFile){var e="sqlite3.wasm";return kt(e)?e:Me(e)}return new URL("/assets/sqlite3-DBpDb1lf.wasm",self.location.href).href}var pt;function Tt(e){if(e==pt&&it)return new Uint8Array(it);if(Ge)return Ge(e);throw"both async and sync fetching of the wasm failed"}function Zt(e){return it?Promise.resolve().then(()=>Tt(e)):We(e).then(t=>new Uint8Array(t),()=>Tt(e))}function Ft(e,t,n){return Zt(e).then(r=>WebAssembly.instantiate(r,t)).then(n,r=>{ze(`failed to asynchronously prepare wasm: ${r}`),dt(r)})}function en(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!kt(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var o=WebAssembly.instantiateStreaming(s,n);return o.then(r,function(d){return ze(`wasm streaming compile failed: ${d}`),ze("falling back to ArrayBuffer instantiation"),Ft(t,n,r)})}):Ft(t,n,r)}function tn(){return{env:Rt,wasi_snapshot_preview1:Rt}}function nn(){var e=tn();function t(r,s){return p=r.exports,Kt(p.__wasm_call_ctors),ot(),p}ft();function n(r){t(r.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(r){ze(`Module.instantiateWasm callback failed with error: ${r}`),Se(r)}return pt??(pt=Yt()),en(it,pt,e,n).catch(Se),{}}var mt=e=>{e.forEach(t=>t(i))};i.noExitRuntime;var me={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var n=0,r=e.length-1;r>=0;r--){var s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:e=>{var t=me.isAbs(e),n=e.substr(-1)==="/";return e=me.normalizeArray(e.split("/").filter(r=>!!r),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=me.splitPath(e),n=t[0],r=t[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)},basename:e=>{if(e==="/")return"/";e=me.normalize(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},join:(...e)=>me.normalize(e.join("/")),join2:(e,t)=>me.normalize(e+"/"+t)},rn=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);dt("initRandomDevice")},Ot=e=>(Ot=rn())(e),Be={resolve:(...e)=>{for(var t="",n=!1,r=e.length-1;r>=-1&&!n;r--){var s=r>=0?e[r]:a.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!s)return"";t=s+"/"+t,n=me.isAbs(s)}return t=me.normalizeArray(t.split("/").filter(o=>!!o),!n).join("/"),(n?"/":"")+t||"."},relative:(e,t)=>{e=Be.resolve(e).substr(1),t=Be.resolve(t).substr(1);function n(N){for(var Q=0;Q<N.length&&N[Q]==="";Q++);for(var G=N.length-1;G>=0&&N[G]==="";G--);return Q>G?[]:N.slice(Q,G-Q+1)}for(var r=n(e.split("/")),s=n(t.split("/")),o=Math.min(r.length,s.length),d=o,h=0;h<o;h++)if(r[h]!==s[h]){d=h;break}for(var C=[],h=d;h<r.length;h++)C.push("..");return C=C.concat(s.slice(d)),C.join("/")}},Pt=typeof TextDecoder<"u"?new TextDecoder:void 0,Ke=(e,t=0,n=NaN)=>{for(var r=t+n,s=t;e[s]&&!(s>=r);)++s;if(s-t>16&&e.buffer&&Pt)return Pt.decode(e.subarray(t,s));for(var o="";t<s;){var d=e[t++];if(!(d&128)){o+=String.fromCharCode(d);continue}var h=e[t++]&63;if((d&224)==192){o+=String.fromCharCode((d&31)<<6|h);continue}var C=e[t++]&63;if((d&240)==224?d=(d&15)<<12|h<<6|C:d=(d&7)<<18|h<<12|C<<6|e[t++]&63,d<65536)o+=String.fromCharCode(d);else{var N=d-65536;o+=String.fromCharCode(55296|N>>10,56320|N&1023)}}return o},ht=[],lt=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},gt=(e,t,n,r)=>{if(!(r>0))return 0;for(var s=n,o=n+r-1,d=0;d<e.length;++d){var h=e.charCodeAt(d);if(h>=55296&&h<=57343){var C=e.charCodeAt(++d);h=65536+((h&1023)<<10)|C&1023}if(h<=127){if(n>=o)break;t[n++]=h}else if(h<=2047){if(n+1>=o)break;t[n++]=192|h>>6,t[n++]=128|h&63}else if(h<=65535){if(n+2>=o)break;t[n++]=224|h>>12,t[n++]=128|h>>6&63,t[n++]=128|h&63}else{if(n+3>=o)break;t[n++]=240|h>>18,t[n++]=128|h>>12&63,t[n++]=128|h>>6&63,t[n++]=128|h&63}}return t[n]=0,n-s};function Lt(e,t,n){var r=lt(e)+1,s=new Array(r),o=gt(e,s,0,s.length);return s.length=o,s}var sn=()=>{if(!ht.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`)),!e)return null;ht=Lt(e)}return ht.shift()},Ve={ttys:[],init(){},shutdown(){},register(e,t){Ve.ttys[e]={input:[],output:[],ops:t},a.registerDevice(e,Ve.stream_ops)},stream_ops:{open(e){var t=Ve.ttys[e.node.rdev];if(!t)throw new a.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,n,r,s){if(!e.tty||!e.tty.ops.get_char)throw new a.ErrnoError(60);for(var o=0,d=0;d<r;d++){var h;try{h=e.tty.ops.get_char(e.tty)}catch{throw new a.ErrnoError(29)}if(h===void 0&&o===0)throw new a.ErrnoError(6);if(h==null)break;o++,t[n+d]=h}return o&&(e.node.timestamp=Date.now()),o},write(e,t,n,r,s){if(!e.tty||!e.tty.ops.put_char)throw new a.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[n+o])}catch{throw new a.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char(e){return sn()},put_char(e,t){t===null||t===10?(Ze(Ke(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(Ze(Ke(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,n){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(ze(Ke(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(ze(Ke(e.output)),e.output=[])}}},on=(e,t)=>{$e.fill(0,e,e+t)},Ct=(e,t)=>Math.ceil(e/t)*t,Dt=e=>{e=Ct(e,65536);var t=Mt(65536,e);return t&&on(t,e),t},ae={ops_table:null,mount(e){return ae.createNode(null,"/",16895,0)},createNode(e,t,n,r){if(a.isBlkdev(n)||a.isFIFO(n))throw new a.ErrnoError(63);ae.ops_table||(ae.ops_table={dir:{node:{getattr:ae.node_ops.getattr,setattr:ae.node_ops.setattr,lookup:ae.node_ops.lookup,mknod:ae.node_ops.mknod,rename:ae.node_ops.rename,unlink:ae.node_ops.unlink,rmdir:ae.node_ops.rmdir,readdir:ae.node_ops.readdir,symlink:ae.node_ops.symlink},stream:{llseek:ae.stream_ops.llseek}},file:{node:{getattr:ae.node_ops.getattr,setattr:ae.node_ops.setattr},stream:{llseek:ae.stream_ops.llseek,read:ae.stream_ops.read,write:ae.stream_ops.write,allocate:ae.stream_ops.allocate,mmap:ae.stream_ops.mmap,msync:ae.stream_ops.msync}},link:{node:{getattr:ae.node_ops.getattr,setattr:ae.node_ops.setattr,readlink:ae.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ae.node_ops.getattr,setattr:ae.node_ops.setattr},stream:a.chrdev_stream_ops}});var s=a.createNode(e,t,n,r);return a.isDir(s.mode)?(s.node_ops=ae.ops_table.dir.node,s.stream_ops=ae.ops_table.dir.stream,s.contents={}):a.isFile(s.mode)?(s.node_ops=ae.ops_table.file.node,s.stream_ops=ae.ops_table.file.stream,s.usedBytes=0,s.contents=null):a.isLink(s.mode)?(s.node_ops=ae.ops_table.link.node,s.stream_ops=ae.ops_table.link.stream):a.isChrdev(s.mode)&&(s.node_ops=ae.ops_table.chrdev.node,s.stream_ops=ae.ops_table.chrdev.stream),s.timestamp=Date.now(),e&&(e.contents[t]=s,e.timestamp=s.timestamp),s},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){var r=1024*1024;t=Math.max(t,n*(n<r?2:1.125)>>>0),n!=0&&(t=Math.max(t,256));var s=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(s.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=a.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,a.isDir(e.mode)?t.size=4096:a.isFile(e.mode)?t.size=e.usedBytes:a.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&ae.resizeFileStorage(e,t.size)},lookup(e,t){throw a.genericErrors[44]},mknod(e,t,n,r){return ae.createNode(e,t,n,r)},rename(e,t,n){if(a.isDir(e.mode)){var r;try{r=a.lookupNode(t,n)}catch{}if(r)for(var s in r.contents)throw new a.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp},unlink(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir(e,t){var n=a.lookupNode(e,t);for(var r in n.contents)throw new a.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir(e){var t=[".",".."];for(var n of Object.keys(e.contents))t.push(n);return t},symlink(e,t,n){var r=ae.createNode(e,t,41471,0);return r.link=n,r},readlink(e){if(!a.isLink(e.mode))throw new a.ErrnoError(28);return e.link}},stream_ops:{read(e,t,n,r,s){var o=e.node.contents;if(s>=e.node.usedBytes)return 0;var d=Math.min(e.node.usedBytes-s,r);if(d>8&&o.subarray)t.set(o.subarray(s,s+d),n);else for(var h=0;h<d;h++)t[n+h]=o[s+h];return d},write(e,t,n,r,s,o){if(t.buffer===Fe.buffer&&(o=!1),!r)return 0;var d=e.node;if(d.timestamp=Date.now(),t.subarray&&(!d.contents||d.contents.subarray)){if(o)return d.contents=t.subarray(n,n+r),d.usedBytes=r,r;if(d.usedBytes===0&&s===0)return d.contents=t.slice(n,n+r),d.usedBytes=r,r;if(s+r<=d.usedBytes)return d.contents.set(t.subarray(n,n+r),s),r}if(ae.expandFileStorage(d,s+r),d.contents.subarray&&t.subarray)d.contents.set(t.subarray(n,n+r),s);else for(var h=0;h<r;h++)d.contents[s+h]=t[n+h];return d.usedBytes=Math.max(d.usedBytes,s+r),r},llseek(e,t,n){var r=t;if(n===1?r+=e.position:n===2&&a.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new a.ErrnoError(28);return r},allocate(e,t,n){ae.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap(e,t,n,r,s){if(!a.isFile(e.node.mode))throw new a.ErrnoError(43);var o,d,h=e.node.contents;if(!(s&2)&&h&&h.buffer===Fe.buffer)d=!1,o=h.byteOffset;else{if(d=!0,o=Dt(t),!o)throw new a.ErrnoError(48);h&&((n>0||n+t<h.length)&&(h.subarray?h=h.subarray(n,n+t):h=Array.prototype.slice.call(h,n,n+t)),Fe.set(h,o))}return{ptr:o,allocated:d}},msync(e,t,n,r,s){return ae.stream_ops.write(e,t,0,r,n,!1),0}}},ln=(e,t,n,r)=>{var s=`al ${e}`;We(e).then(o=>{t(new Uint8Array(o)),s&&ot()},o=>{if(n)n();else throw`Loading data file "${e}" failed.`}),s&&ft()},an=(e,t,n,r,s,o)=>{a.createDataFile(e,t,n,r,s,o)},cn=i.preloadPlugins||[],_n=(e,t,n,r)=>{typeof Browser<"u"&&Browser.init();var s=!1;return cn.forEach(o=>{s||o.canHandle(t)&&(o.handle(e,t,n,r),s=!0)}),s},un=(e,t,n,r,s,o,d,h,C,N)=>{var Q=t?Be.resolve(me.join2(e,t)):e;function G(P){function A(R){N==null||N(),h||an(e,t,R,r,s,C),o==null||o(),ot()}_n(P,Q,A,()=>{d==null||d(),ot()})||A(P)}ft(),typeof n=="string"?ln(n,G,d):G(n)},fn=e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},n=t[e];if(typeof n>"u")throw new Error(`Unknown file open mode: ${e}`);return n},qt=(e,t)=>{var n=0;return e&&(n|=365),t&&(n|=146),n},a={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name="ErrnoError",this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=a.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return a.isDir(this.mode)}get isDevice(){return a.isChrdev(this.mode)}},lookupPath(e,t={}){if(e=Be.resolve(e),!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if(t=Object.assign(n,t),t.recurse_count>8)throw new a.ErrnoError(32);for(var r=e.split("/").filter(G=>!!G),s=a.root,o="/",d=0;d<r.length;d++){var h=d===r.length-1;if(h&&t.parent)break;if(s=a.lookupNode(s,r[d]),o=me.join2(o,r[d]),a.isMountpoint(s)&&(!h||h&&t.follow_mount)&&(s=s.mounted.root),!h||t.follow)for(var C=0;a.isLink(s.mode);){var N=a.readlink(o);o=Be.resolve(me.dirname(o),N);var Q=a.lookupPath(o,{recurse_count:t.recurse_count+1});if(s=Q.node,C++>40)throw new a.ErrnoError(32)}}return{path:o,node:s}},getPath(e){for(var t;;){if(a.isRoot(e)){var n=e.mount.mountpoint;return t?n[n.length-1]!=="/"?`${n}/${t}`:n+t:n}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%a.nameTable.length},hashAddNode(e){var t=a.hashName(e.parent.id,e.name);e.name_next=a.nameTable[t],a.nameTable[t]=e},hashRemoveNode(e){var t=a.hashName(e.parent.id,e.name);if(a.nameTable[t]===e)a.nameTable[t]=e.name_next;else for(var n=a.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode(e,t){var n=a.mayLookup(e);if(n)throw new a.ErrnoError(n);for(var r=a.hashName(e.id,t),s=a.nameTable[r];s;s=s.name_next){var o=s.name;if(s.parent.id===e.id&&o===t)return s}return a.lookup(e,t)},createNode(e,t,n,r){var s=new a.FSNode(e,t,n,r);return a.hashAddNode(s),s},destroyNode(e){a.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nodePermissions(e,t){return a.ignorePermissions?0:t.includes("r")&&!(e.mode&292)||t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!a.isDir(e.mode))return 54;var t=a.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){try{var n=a.lookupNode(e,t);return 20}catch{}return a.nodePermissions(e,"wx")},mayDelete(e,t,n){var r;try{r=a.lookupNode(e,t)}catch(o){return o.errno}var s=a.nodePermissions(e,"wx");if(s)return s;if(n){if(!a.isDir(r.mode))return 54;if(a.isRoot(r)||a.getPath(r)===a.cwd())return 10}else if(a.isDir(r.mode))return 31;return 0},mayOpen(e,t){return e?a.isLink(e.mode)?32:a.isDir(e.mode)&&(a.flagsToPermissionString(t)!=="r"||t&512)?31:a.nodePermissions(e,a.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=a.MAX_OPEN_FDS;e++)if(!a.streams[e])return e;throw new a.ErrnoError(33)},getStreamChecked(e){var t=a.getStream(e);if(!t)throw new a.ErrnoError(8);return t},getStream:e=>a.streams[e],createStream(e,t=-1){return e=Object.assign(new a.FSStream,e),t==-1&&(t=a.nextfd()),e.fd=t,a.streams[t]=e,e},closeStream(e){a.streams[e]=null},dupStream(e,t=-1){var r,s;var n=a.createStream(e,t);return(s=(r=n.stream_ops)==null?void 0:r.dup)==null||s.call(r,n),n},chrdev_stream_ops:{open(e){var n,r;var t=a.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,(r=(n=e.stream_ops).open)==null||r.call(n,e)},llseek(){throw new a.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){a.devices[e]={stream_ops:t}},getDevice:e=>a.devices[e],getMounts(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push(...r.mounts)}return t},syncfs(e,t){typeof e=="function"&&(t=e,e=!1),a.syncFSRequests++,a.syncFSRequests>1&&ze(`warning: ${a.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var n=a.getMounts(a.root.mount),r=0;function s(d){return a.syncFSRequests--,t(d)}function o(d){if(d)return o.errored?void 0:(o.errored=!0,s(d));++r>=n.length&&s(null)}n.forEach(d=>{if(!d.type.syncfs)return o(null);d.type.syncfs(d,e,o)})},mount(e,t,n){var r=n==="/",s=!n,o;if(r&&a.root)throw new a.ErrnoError(10);if(!r&&!s){var d=a.lookupPath(n,{follow_mount:!1});if(n=d.path,o=d.node,a.isMountpoint(o))throw new a.ErrnoError(10);if(!a.isDir(o.mode))throw new a.ErrnoError(54)}var h={type:e,opts:t,mountpoint:n,mounts:[]},C=e.mount(h);return C.mount=h,h.root=C,r?a.root=C:o&&(o.mounted=h,o.mount&&o.mount.mounts.push(h)),C},unmount(e){var t=a.lookupPath(e,{follow_mount:!1});if(!a.isMountpoint(t.node))throw new a.ErrnoError(28);var n=t.node,r=n.mounted,s=a.getMounts(r);Object.keys(a.nameTable).forEach(d=>{for(var h=a.nameTable[d];h;){var C=h.name_next;s.includes(h.mount)&&a.destroyNode(h),h=C}}),n.mounted=null;var o=n.mount.mounts.indexOf(r);n.mount.mounts.splice(o,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,n){var r=a.lookupPath(e,{parent:!0}),s=r.node,o=me.basename(e);if(!o||o==="."||o==="..")throw new a.ErrnoError(28);var d=a.mayCreate(s,o);if(d)throw new a.ErrnoError(d);if(!s.node_ops.mknod)throw new a.ErrnoError(63);return s.node_ops.mknod(s,o,t,n)},create(e,t){return t=t!==void 0?t:438,t&=4095,t|=32768,a.mknod(e,t,0)},mkdir(e,t){return t=t!==void 0?t:511,t&=1023,t|=16384,a.mknod(e,t,0)},mkdirTree(e,t){for(var n=e.split("/"),r="",s=0;s<n.length;++s)if(n[s]){r+="/"+n[s];try{a.mkdir(r,t)}catch(o){if(o.errno!=20)throw o}}},mkdev(e,t,n){return typeof n>"u"&&(n=t,t=438),t|=8192,a.mknod(e,t,n)},symlink(e,t){if(!Be.resolve(e))throw new a.ErrnoError(44);var n=a.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new a.ErrnoError(44);var s=me.basename(t),o=a.mayCreate(r,s);if(o)throw new a.ErrnoError(o);if(!r.node_ops.symlink)throw new a.ErrnoError(63);return r.node_ops.symlink(r,s,e)},rename(e,t){var n=me.dirname(e),r=me.dirname(t),s=me.basename(e),o=me.basename(t),d,h,C;if(d=a.lookupPath(e,{parent:!0}),h=d.node,d=a.lookupPath(t,{parent:!0}),C=d.node,!h||!C)throw new a.ErrnoError(44);if(h.mount!==C.mount)throw new a.ErrnoError(75);var N=a.lookupNode(h,s),Q=Be.relative(e,r);if(Q.charAt(0)!==".")throw new a.ErrnoError(28);if(Q=Be.relative(t,n),Q.charAt(0)!==".")throw new a.ErrnoError(55);var G;try{G=a.lookupNode(C,o)}catch{}if(N!==G){var P=a.isDir(N.mode),A=a.mayDelete(h,s,P);if(A)throw new a.ErrnoError(A);if(A=G?a.mayDelete(C,o,P):a.mayCreate(C,o),A)throw new a.ErrnoError(A);if(!h.node_ops.rename)throw new a.ErrnoError(63);if(a.isMountpoint(N)||G&&a.isMountpoint(G))throw new a.ErrnoError(10);if(C!==h&&(A=a.nodePermissions(h,"w"),A))throw new a.ErrnoError(A);a.hashRemoveNode(N);try{h.node_ops.rename(N,C,o),N.parent=C}catch(R){throw R}finally{a.hashAddNode(N)}}},rmdir(e){var t=a.lookupPath(e,{parent:!0}),n=t.node,r=me.basename(e),s=a.lookupNode(n,r),o=a.mayDelete(n,r,!0);if(o)throw new a.ErrnoError(o);if(!n.node_ops.rmdir)throw new a.ErrnoError(63);if(a.isMountpoint(s))throw new a.ErrnoError(10);n.node_ops.rmdir(n,r),a.destroyNode(s)},readdir(e){var t=a.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new a.ErrnoError(54);return n.node_ops.readdir(n)},unlink(e){var t=a.lookupPath(e,{parent:!0}),n=t.node;if(!n)throw new a.ErrnoError(44);var r=me.basename(e),s=a.lookupNode(n,r),o=a.mayDelete(n,r,!1);if(o)throw new a.ErrnoError(o);if(!n.node_ops.unlink)throw new a.ErrnoError(63);if(a.isMountpoint(s))throw new a.ErrnoError(10);n.node_ops.unlink(n,r),a.destroyNode(s)},readlink(e){var t=a.lookupPath(e),n=t.node;if(!n)throw new a.ErrnoError(44);if(!n.node_ops.readlink)throw new a.ErrnoError(28);return Be.resolve(a.getPath(n.parent),n.node_ops.readlink(n))},stat(e,t){var n=a.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new a.ErrnoError(44);if(!r.node_ops.getattr)throw new a.ErrnoError(63);return r.node_ops.getattr(r)},lstat(e){return a.stat(e,!0)},chmod(e,t,n){var r;if(typeof e=="string"){var s=a.lookupPath(e,{follow:!n});r=s.node}else r=e;if(!r.node_ops.setattr)throw new a.ErrnoError(63);r.node_ops.setattr(r,{mode:t&4095|r.mode&-4096,timestamp:Date.now()})},lchmod(e,t){a.chmod(e,t,!0)},fchmod(e,t){var n=a.getStreamChecked(e);a.chmod(n.node,t)},chown(e,t,n,r){var s;if(typeof e=="string"){var o=a.lookupPath(e,{follow:!r});s=o.node}else s=e;if(!s.node_ops.setattr)throw new a.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown(e,t,n){a.chown(e,t,n,!0)},fchown(e,t,n){var r=a.getStreamChecked(e);a.chown(r.node,t,n)},truncate(e,t){if(t<0)throw new a.ErrnoError(28);var n;if(typeof e=="string"){var r=a.lookupPath(e,{follow:!0});n=r.node}else n=e;if(!n.node_ops.setattr)throw new a.ErrnoError(63);if(a.isDir(n.mode))throw new a.ErrnoError(31);if(!a.isFile(n.mode))throw new a.ErrnoError(28);var s=a.nodePermissions(n,"w");if(s)throw new a.ErrnoError(s);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate(e,t){var n=a.getStreamChecked(e);if((n.flags&2097155)===0)throw new a.ErrnoError(28);a.truncate(n.node,t)},utime(e,t,n){var r=a.lookupPath(e,{follow:!0}),s=r.node;s.node_ops.setattr(s,{timestamp:Math.max(t,n)})},open(e,t,n){if(e==="")throw new a.ErrnoError(44);t=typeof t=="string"?fn(t):t,t&64?(n=typeof n>"u"?438:n,n=n&4095|32768):n=0;var r;if(typeof e=="object")r=e;else{e=me.normalize(e);try{var s=a.lookupPath(e,{follow:!(t&131072)});r=s.node}catch{}}var o=!1;if(t&64)if(r){if(t&128)throw new a.ErrnoError(20)}else r=a.mknod(e,n,0),o=!0;if(!r)throw new a.ErrnoError(44);if(a.isChrdev(r.mode)&&(t&=-513),t&65536&&!a.isDir(r.mode))throw new a.ErrnoError(54);if(!o){var d=a.mayOpen(r,t);if(d)throw new a.ErrnoError(d)}t&512&&!o&&a.truncate(r,0),t&=-131713;var h=a.createStream({node:r,path:a.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return h.stream_ops.open&&h.stream_ops.open(h),i.logReadFiles&&!(t&1)&&(e in a.readFiles||(a.readFiles[e]=1)),h},close(e){if(a.isClosed(e))throw new a.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{a.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,n){if(a.isClosed(e))throw new a.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new a.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new a.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read(e,t,n,r,s){if(r<0||s<0)throw new a.ErrnoError(28);if(a.isClosed(e))throw new a.ErrnoError(8);if((e.flags&2097155)===1)throw new a.ErrnoError(8);if(a.isDir(e.node.mode))throw new a.ErrnoError(31);if(!e.stream_ops.read)throw new a.ErrnoError(28);var o=typeof s<"u";if(!o)s=e.position;else if(!e.seekable)throw new a.ErrnoError(70);var d=e.stream_ops.read(e,t,n,r,s);return o||(e.position+=d),d},write(e,t,n,r,s,o){if(r<0||s<0)throw new a.ErrnoError(28);if(a.isClosed(e))throw new a.ErrnoError(8);if((e.flags&2097155)===0)throw new a.ErrnoError(8);if(a.isDir(e.node.mode))throw new a.ErrnoError(31);if(!e.stream_ops.write)throw new a.ErrnoError(28);e.seekable&&e.flags&1024&&a.llseek(e,0,2);var d=typeof s<"u";if(!d)s=e.position;else if(!e.seekable)throw new a.ErrnoError(70);var h=e.stream_ops.write(e,t,n,r,s,o);return d||(e.position+=h),h},allocate(e,t,n){if(a.isClosed(e))throw new a.ErrnoError(8);if(t<0||n<=0)throw new a.ErrnoError(28);if((e.flags&2097155)===0)throw new a.ErrnoError(8);if(!a.isFile(e.node.mode)&&!a.isDir(e.node.mode))throw new a.ErrnoError(43);if(!e.stream_ops.allocate)throw new a.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap(e,t,n,r,s){if((r&2)!==0&&(s&2)===0&&(e.flags&2097155)!==2)throw new a.ErrnoError(2);if((e.flags&2097155)===1)throw new a.ErrnoError(2);if(!e.stream_ops.mmap)throw new a.ErrnoError(43);if(!t)throw new a.ErrnoError(28);return e.stream_ops.mmap(e,t,n,r,s)},msync(e,t,n,r,s){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,s):0},ioctl(e,t,n){if(!e.stream_ops.ioctl)throw new a.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error(`Invalid encoding type "${t.encoding}"`);var n,r=a.open(e,t.flags),s=a.stat(e),o=s.size,d=new Uint8Array(o);return a.read(r,d,0,o,0),t.encoding==="utf8"?n=Ke(d):t.encoding==="binary"&&(n=d),a.close(r),n},writeFile(e,t,n={}){n.flags=n.flags||577;var r=a.open(e,n.flags,n.mode);if(typeof t=="string"){var s=new Uint8Array(lt(t)+1),o=gt(t,s,0,s.length);a.write(r,s,0,o,void 0,n.canOwn)}else if(ArrayBuffer.isView(t))a.write(r,t,0,t.byteLength,void 0,n.canOwn);else throw new Error("Unsupported data type");a.close(r)},cwd:()=>a.currentPath,chdir(e){var t=a.lookupPath(e,{follow:!0});if(t.node===null)throw new a.ErrnoError(44);if(!a.isDir(t.node.mode))throw new a.ErrnoError(54);var n=a.nodePermissions(t.node,"x");if(n)throw new a.ErrnoError(n);a.currentPath=t.path},createDefaultDirectories(){a.mkdir("/tmp"),a.mkdir("/home"),a.mkdir("/home/web_user")},createDefaultDevices(){a.mkdir("/dev"),a.registerDevice(a.makedev(1,3),{read:()=>0,write:(r,s,o,d,h)=>d}),a.mkdev("/dev/null",a.makedev(1,3)),Ve.register(a.makedev(5,0),Ve.default_tty_ops),Ve.register(a.makedev(6,0),Ve.default_tty1_ops),a.mkdev("/dev/tty",a.makedev(5,0)),a.mkdev("/dev/tty1",a.makedev(6,0));var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=Ot(e).byteLength),e[--t]);a.createDevice("/dev","random",n),a.createDevice("/dev","urandom",n),a.mkdir("/dev/shm"),a.mkdir("/dev/shm/tmp")},createSpecialDirectories(){a.mkdir("/proc");var e=a.mkdir("/proc/self");a.mkdir("/proc/self/fd"),a.mount({mount(){var t=a.createNode(e,"fd",16895,73);return t.node_ops={lookup(n,r){var s=+r,o=a.getStreamChecked(s),d={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>o.path}};return d.parent=d,d}},t}},{},"/proc/self/fd")},createStandardStreams(e,t,n){e?a.createDevice("/dev","stdin",e):a.symlink("/dev/tty","/dev/stdin"),t?a.createDevice("/dev","stdout",null,t):a.symlink("/dev/tty","/dev/stdout"),n?a.createDevice("/dev","stderr",null,n):a.symlink("/dev/tty1","/dev/stderr"),a.open("/dev/stdin",0),a.open("/dev/stdout",1),a.open("/dev/stderr",1)},staticInit(){[44].forEach(e=>{a.genericErrors[e]=new a.ErrnoError(e),a.genericErrors[e].stack="<generic error, no stack>"}),a.nameTable=new Array(4096),a.mount(ae,{},"/"),a.createDefaultDirectories(),a.createDefaultDevices(),a.createSpecialDirectories(),a.filesystems={MEMFS:ae}},init(e,t,n){a.initialized=!0,e??(e=i.stdin),t??(t=i.stdout),n??(n=i.stderr),a.createStandardStreams(e,t,n)},quit(){a.initialized=!1;for(var e=0;e<a.streams.length;e++){var t=a.streams[e];t&&a.close(t)}},findObject(e,t){var n=a.analyzePath(e,t);return n.exists?n.object:null},analyzePath(e,t){try{var n=a.lookupPath(e,{follow:!t});e=n.path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=a.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=me.basename(e),n=a.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot=n.path==="/"}catch(s){r.error=s.errno}return r},createPath(e,t,n,r){e=typeof e=="string"?e:a.getPath(e);for(var s=t.split("/").reverse();s.length;){var o=s.pop();if(o){var d=me.join2(e,o);try{a.mkdir(d)}catch{}e=d}}return d},createFile(e,t,n,r,s){var o=me.join2(typeof e=="string"?e:a.getPath(e),t),d=qt(r,s);return a.create(o,d)},createDataFile(e,t,n,r,s,o){var d=t;e&&(e=typeof e=="string"?e:a.getPath(e),d=t?me.join2(e,t):e);var h=qt(r,s),C=a.create(d,h);if(n){if(typeof n=="string"){for(var N=new Array(n.length),Q=0,G=n.length;Q<G;++Q)N[Q]=n.charCodeAt(Q);n=N}a.chmod(C,h|146);var P=a.open(C,577);a.write(P,n,0,n.length,0,o),a.close(P),a.chmod(C,h)}},createDevice(e,t,n,r){var h;var s=me.join2(typeof e=="string"?e:a.getPath(e),t),o=qt(!!n,!!r);(h=a.createDevice).major??(h.major=64);var d=a.makedev(a.createDevice.major++,0);return a.registerDevice(d,{open(C){C.seekable=!1},close(C){var N;(N=r==null?void 0:r.buffer)!=null&&N.length&&r(10)},read(C,N,Q,G,P){for(var A=0,R=0;R<G;R++){var y;try{y=n()}catch{throw new a.ErrnoError(29)}if(y===void 0&&A===0)throw new a.ErrnoError(6);if(y==null)break;A++,N[Q+R]=y}return A&&(C.node.timestamp=Date.now()),A},write(C,N,Q,G,P){for(var A=0;A<G;A++)try{r(N[Q+A])}catch{throw new a.ErrnoError(29)}return G&&(C.node.timestamp=Date.now()),A}}),a.mkdev(s,o,d)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=Ge(e.url),e.usedBytes=e.contents.length}catch{throw new a.ErrnoError(29)}},createLazyFile(e,t,n,r,s){class o{constructor(){this.lengthKnown=!1,this.chunks=[]}get(A){if(!(A>this.length-1||A<0)){var R=A%this.chunkSize,y=A/this.chunkSize|0;return this.getter(y)[R]}}setDataGetter(A){this.getter=A}cacheLength(){var A=new XMLHttpRequest;if(A.open("HEAD",n,!1),A.send(null),!(A.status>=200&&A.status<300||A.status===304))throw new Error("Couldn't load "+n+". Status: "+A.status);var R=Number(A.getResponseHeader("Content-length")),y,E=(y=A.getResponseHeader("Accept-Ranges"))&&y==="bytes",T=(y=A.getResponseHeader("Content-Encoding"))&&y==="gzip",O=1024*1024;E||(O=R);var D=(M,W)=>{if(M>W)throw new Error("invalid range ("+M+", "+W+") or no bytes requested!");if(W>R-1)throw new Error("only "+R+" bytes available! programmer error!");var c=new XMLHttpRequest;if(c.open("GET",n,!1),R!==O&&c.setRequestHeader("Range","bytes="+M+"-"+W),c.responseType="arraybuffer",c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined"),c.send(null),!(c.status>=200&&c.status<300||c.status===304))throw new Error("Couldn't load "+n+". Status: "+c.status);return c.response!==void 0?new Uint8Array(c.response||[]):Lt(c.responseText||"")},S=this;S.setDataGetter(M=>{var W=M*O,c=(M+1)*O-1;if(c=Math.min(c,R-1),typeof S.chunks[M]>"u"&&(S.chunks[M]=D(W,c)),typeof S.chunks[M]>"u")throw new Error("doXHR failed!");return S.chunks[M]}),(T||!R)&&(O=R=1,R=this.getter(0).length,O=R,Ze("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=R,this._chunkSize=O,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!Ne)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var d=new o,h={isDevice:!1,contents:d}}else var h={isDevice:!1,url:n};var C=a.createFile(e,t,h,r,s);h.contents?C.contents=h.contents:h.url&&(C.contents=null,C.url=h.url),Object.defineProperties(C,{usedBytes:{get:function(){return this.contents.length}}});var N={},Q=Object.keys(C.stream_ops);Q.forEach(P=>{var A=C.stream_ops[P];N[P]=(...R)=>(a.forceLoadFile(C),A(...R))});function G(P,A,R,y,E){var T=P.node.contents;if(E>=T.length)return 0;var O=Math.min(T.length-E,y);if(T.slice)for(var D=0;D<O;D++)A[R+D]=T[E+D];else for(var D=0;D<O;D++)A[R+D]=T.get(E+D);return O}return N.read=(P,A,R,y,E)=>(a.forceLoadFile(C),G(P,A,R,y,E)),N.mmap=(P,A,R,y,E)=>{a.forceLoadFile(C);var T=Dt(A);if(!T)throw new a.ErrnoError(48);return G(P,Fe,T,A,R),{ptr:T,allocated:!0}},C.stream_ops=N,C}},dn=(e,t)=>e?Ke($e,e,t):"",ce={DEFAULT_POLLMASK:5,calculateAt(e,t,n){if(me.isAbs(t))return t;var r;if(e===-100)r=a.cwd();else{var s=ce.getStreamFromFD(e);r=s.path}if(t.length==0){if(!n)throw new a.ErrnoError(44);return r}return me.join2(r,t)},doStat(e,t,n){var r=e(t);de[n>>2]=r.dev,de[n+4>>2]=r.mode,Ie[n+8>>2]=r.nlink,de[n+12>>2]=r.uid,de[n+16>>2]=r.gid,de[n+20>>2]=r.rdev,je[n+24>>3]=BigInt(r.size),de[n+32>>2]=4096,de[n+36>>2]=r.blocks;var s=r.atime.getTime(),o=r.mtime.getTime(),d=r.ctime.getTime();return je[n+40>>3]=BigInt(Math.floor(s/1e3)),Ie[n+48>>2]=s%1e3*1e3*1e3,je[n+56>>3]=BigInt(Math.floor(o/1e3)),Ie[n+64>>2]=o%1e3*1e3*1e3,je[n+72>>3]=BigInt(Math.floor(d/1e3)),Ie[n+80>>2]=d%1e3*1e3*1e3,je[n+88>>3]=BigInt(r.ino),0},doMsync(e,t,n,r,s){if(!a.isFile(t.node.mode))throw new a.ErrnoError(43);if(r&2)return 0;var o=$e.slice(e,e+n);a.msync(t,o,s,n,r)},getStreamFromFD(e){var t=a.getStreamChecked(e);return t},varargs:void 0,getStr(e){var t=dn(e);return t}};function pn(e,t){try{return e=ce.getStr(e),a.chmod(e,t),0}catch(n){if(typeof a>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function mn(e,t,n,r){try{if(t=ce.getStr(t),t=ce.calculateAt(e,t),n&-8)return-28;var s=a.lookupPath(t,{follow:!0}),o=s.node;if(!o)return-44;var d="";return n&4&&(d+="r"),n&2&&(d+="w"),n&1&&(d+="x"),d&&a.nodePermissions(o,d)?-2:0}catch(h){if(typeof a>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function hn(e,t){try{return a.fchmod(e,t),0}catch(n){if(typeof a>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function gn(e,t,n){try{return a.fchown(e,t,n),0}catch(r){if(typeof a>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function at(){var e=de[+ce.varargs>>2];return ce.varargs+=4,e}var Je=at;function qn(e,t,n){ce.varargs=n;try{var r=ce.getStreamFromFD(e);switch(t){case 0:{var s=at();if(s<0)return-28;for(;a.streams[s];)s++;var o;return o=a.dupStream(r,s),o.fd}case 1:case 2:return 0;case 3:return r.flags;case 4:{var s=at();return r.flags|=s,0}case 12:{var s=Je(),d=0;return et[s+d>>1]=2,0}case 13:case 14:return 0}return-28}catch(h){if(typeof a>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function bn(e,t){try{var n=ce.getStreamFromFD(e);return ce.doStat(a.stat,n.path,t)}catch(r){if(typeof a>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var yn=9007199254740992,wn=-9007199254740992,nt=e=>e<wn||e>yn?NaN:Number(e);function En(e,t){t=nt(t);try{return isNaN(t)?61:(a.ftruncate(e,t),0)}catch(n){if(typeof a>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var Xe=(e,t,n)=>gt(e,$e,t,n);function vn(e,t){try{if(t===0)return-28;var n=a.cwd(),r=lt(n)+1;return t<r?-68:(Xe(n,e,t),r)}catch(s){if(typeof a>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function xn(e,t,n){ce.varargs=n;try{var r=ce.getStreamFromFD(e);switch(t){case 21509:return r.tty?0:-59;case 21505:{if(!r.tty)return-59;if(r.tty.ops.ioctl_tcgets){var s=r.tty.ops.ioctl_tcgets(r),o=Je();de[o>>2]=s.c_iflag||0,de[o+4>>2]=s.c_oflag||0,de[o+8>>2]=s.c_cflag||0,de[o+12>>2]=s.c_lflag||0;for(var d=0;d<32;d++)Fe[o+d+17]=s.c_cc[d]||0;return 0}return 0}case 21510:case 21511:case 21512:return r.tty?0:-59;case 21506:case 21507:case 21508:{if(!r.tty)return-59;if(r.tty.ops.ioctl_tcsets){for(var o=Je(),h=de[o>>2],C=de[o+4>>2],N=de[o+8>>2],Q=de[o+12>>2],G=[],d=0;d<32;d++)G.push(Fe[o+d+17]);return r.tty.ops.ioctl_tcsets(r.tty,t,{c_iflag:h,c_oflag:C,c_cflag:N,c_lflag:Q,c_cc:G})}return 0}case 21519:{if(!r.tty)return-59;var o=Je();return de[o>>2]=0,0}case 21520:return r.tty?-28:-59;case 21531:{var o=Je();return a.ioctl(r,t,o)}case 21523:{if(!r.tty)return-59;if(r.tty.ops.ioctl_tiocgwinsz){var P=r.tty.ops.ioctl_tiocgwinsz(r.tty),o=Je();et[o>>1]=P[0],et[o+2>>1]=P[1]}return 0}case 21524:return r.tty?0:-59;case 21515:return r.tty?0:-59;default:return-28}}catch(A){if(typeof a>"u"||A.name!=="ErrnoError")throw A;return-A.errno}}function Sn(e,t){try{return e=ce.getStr(e),ce.doStat(a.lstat,e,t)}catch(n){if(typeof a>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function An(e,t,n){try{return t=ce.getStr(t),t=ce.calculateAt(e,t),t=me.normalize(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),a.mkdir(t,n,0),0}catch(r){if(typeof a>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function In(e,t,n,r){try{t=ce.getStr(t);var s=r&256,o=r&4096;return r=r&-6401,t=ce.calculateAt(e,t,o),ce.doStat(s?a.lstat:a.stat,t,n)}catch(d){if(typeof a>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function kn(e,t,n,r){ce.varargs=r;try{t=ce.getStr(t),t=ce.calculateAt(e,t);var s=r?at():0;return a.open(t,n,s).fd}catch(o){if(typeof a>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function Tn(e,t,n,r){try{if(t=ce.getStr(t),t=ce.calculateAt(e,t),r<=0)return-28;var s=a.readlink(t),o=Math.min(r,lt(s)),d=Fe[n+o];return Xe(s,n,r+1),Fe[n+o]=d,o}catch(h){if(typeof a>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Fn(e){try{return e=ce.getStr(e),a.rmdir(e),0}catch(t){if(typeof a>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function On(e,t){try{return e=ce.getStr(e),ce.doStat(a.stat,e,t)}catch(n){if(typeof a>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function Pn(e,t,n){try{return t=ce.getStr(t),t=ce.calculateAt(e,t),n===0?a.unlink(t):n===512?a.rmdir(t):dt("Invalid flags passed to unlinkat"),0}catch(r){if(typeof a>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var Nt=e=>Ie[e>>2]+de[e+4>>2]*4294967296;function Ln(e,t,n,r){try{t=ce.getStr(t),t=ce.calculateAt(e,t,!0);var s=Date.now(),o,d;if(!n)o=s,d=s;else{var h=Nt(n),C=de[n+8>>2];C==1073741823?o=s:C==1073741822?o=-1:o=h*1e3+C/1e6,n+=16,h=Nt(n),C=de[n+8>>2],C==1073741823?d=s:C==1073741822?d=-1:d=h*1e3+C/1e6}return(d!=-1||o!=-1)&&a.utime(t,o,d),0}catch(N){if(typeof a>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var Cn=1,Dn=()=>Cn,Nn=e=>e%4===0&&(e%100!==0||e%400===0),Rn=[0,31,60,91,121,152,182,213,244,274,305,335],Mn=[0,31,59,90,120,151,181,212,243,273,304,334],jn=e=>{var t=Nn(e.getFullYear()),n=t?Rn:Mn,r=n[e.getMonth()]+e.getDate()-1;return r};function Bn(e,t){e=nt(e);var n=new Date(e*1e3);de[t>>2]=n.getSeconds(),de[t+4>>2]=n.getMinutes(),de[t+8>>2]=n.getHours(),de[t+12>>2]=n.getDate(),de[t+16>>2]=n.getMonth(),de[t+20>>2]=n.getFullYear()-1900,de[t+24>>2]=n.getDay();var r=jn(n)|0;de[t+28>>2]=r,de[t+36>>2]=-(n.getTimezoneOffset()*60);var s=new Date(n.getFullYear(),0,1),o=new Date(n.getFullYear(),6,1).getTimezoneOffset(),d=s.getTimezoneOffset(),h=(o!=d&&n.getTimezoneOffset()==Math.min(d,o))|0;de[t+32>>2]=h}function Un(e,t,n,r,s,o,d){s=nt(s);try{if(isNaN(s))return 61;var h=ce.getStreamFromFD(r),C=a.mmap(h,e,s,t,n),N=C.ptr;return de[o>>2]=C.allocated,Ie[d>>2]=N,0}catch(Q){if(typeof a>"u"||Q.name!=="ErrnoError")throw Q;return-Q.errno}}function zn(e,t,n,r,s,o){o=nt(o);try{var d=ce.getStreamFromFD(s);n&2&&ce.doMsync(e,d,t,r,o)}catch(h){if(typeof a>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}var Wn=(e,t,n,r)=>{var s=new Date().getFullYear(),o=new Date(s,0,1),d=new Date(s,6,1),h=o.getTimezoneOffset(),C=d.getTimezoneOffset(),N=Math.max(h,C);Ie[e>>2]=N*60,de[t>>2]=+(h!=C);var Q=A=>{var R=A>=0?"-":"+",y=Math.abs(A),E=String(Math.floor(y/60)).padStart(2,"0"),T=String(y%60).padStart(2,"0");return`UTC${R}${E}${T}`},G=Q(h),P=Q(C);C<h?(Xe(G,n,17),Xe(P,r,17)):(Xe(G,r,17),Xe(P,n,17))},Qn=()=>Date.now(),Hn=()=>performance.now(),Vn=()=>2147483648,Gn=e=>{var t=Qe.buffer,n=(e-t.byteLength+65535)/65536|0;try{return Qe.grow(n),xt(),1}catch{}},$n=e=>{var t=$e.length;e>>>=0;var n=Vn();if(e>n)return!1;for(var r=1;r<=4;r*=2){var s=t*(1+.2/r);s=Math.min(s,e+100663296);var o=Math.min(n,Ct(Math.max(e,s),65536)),d=Gn(o);if(d)return!0}return!1},bt={},Kn=()=>ne||"./this.program",rt=()=>{if(!rt.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Kn()};for(var n in bt)bt[n]===void 0?delete t[n]:t[n]=bt[n];var r=[];for(var n in t)r.push(`${n}=${t[n]}`);rt.strings=r}return rt.strings},Jn=(e,t)=>{for(var n=0;n<e.length;++n)Fe[t++]=e.charCodeAt(n);Fe[t]=0},Xn=(e,t)=>{var n=0;return rt().forEach((r,s)=>{var o=t+n;Ie[e+s*4>>2]=o,Jn(r,o),n+=r.length+1}),0},Yn=(e,t)=>{var n=rt();Ie[e>>2]=n.length;var r=0;return n.forEach(s=>r+=s.length+1),Ie[t>>2]=r,0};function Zn(e){try{var t=ce.getStreamFromFD(e);return a.close(t),0}catch(n){if(typeof a>"u"||n.name!=="ErrnoError")throw n;return n.errno}}function er(e,t){try{var n=0,r=0,s=0,o=ce.getStreamFromFD(e),d=o.tty?2:a.isDir(o.mode)?3:a.isLink(o.mode)?7:4;return Fe[t]=d,et[t+2>>1]=s,je[t+8>>3]=BigInt(n),je[t+16>>3]=BigInt(r),0}catch(h){if(typeof a>"u"||h.name!=="ErrnoError")throw h;return h.errno}}var tr=(e,t,n,r)=>{for(var s=0,o=0;o<n;o++){var d=Ie[t>>2],h=Ie[t+4>>2];t+=8;var C=a.read(e,Fe,d,h,r);if(C<0)return-1;if(s+=C,C<h)break}return s};function nr(e,t,n,r){try{var s=ce.getStreamFromFD(e),o=tr(s,t,n);return Ie[r>>2]=o,0}catch(d){if(typeof a>"u"||d.name!=="ErrnoError")throw d;return d.errno}}function rr(e,t,n,r){t=nt(t);try{if(isNaN(t))return 61;var s=ce.getStreamFromFD(e);return a.llseek(s,t,n),je[r>>3]=BigInt(s.position),s.getdents&&t===0&&n===0&&(s.getdents=null),0}catch(o){if(typeof a>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function sr(e){var n;try{var t=ce.getStreamFromFD(e);return(n=t.stream_ops)!=null&&n.fsync?t.stream_ops.fsync(t):0}catch(r){if(typeof a>"u"||r.name!=="ErrnoError")throw r;return r.errno}}var ir=(e,t,n,r)=>{for(var s=0,o=0;o<n;o++){var d=Ie[t>>2],h=Ie[t+4>>2];t+=8;var C=a.write(e,Fe,d,h,r);if(C<0)return-1;if(s+=C,C<h)break}return s};function or(e,t,n,r){try{var s=ce.getStreamFromFD(e),o=ir(s,t,n);return Ie[r>>2]=o,0}catch(d){if(typeof a>"u"||d.name!=="ErrnoError")throw d;return d.errno}}a.createPreloadedFile=un,a.staticInit();var Rt={__syscall_chmod:pn,__syscall_faccessat:mn,__syscall_fchmod:hn,__syscall_fchown32:gn,__syscall_fcntl64:qn,__syscall_fstat64:bn,__syscall_ftruncate64:En,__syscall_getcwd:vn,__syscall_ioctl:xn,__syscall_lstat64:Sn,__syscall_mkdirat:An,__syscall_newfstatat:In,__syscall_openat:kn,__syscall_readlinkat:Tn,__syscall_rmdir:Fn,__syscall_stat64:On,__syscall_unlinkat:Pn,__syscall_utimensat:Ln,_emscripten_get_now_is_monotonic:Dn,_localtime_js:Bn,_mmap_js:Un,_munmap_js:zn,_tzset_js:Wn,emscripten_date_now:Qn,emscripten_get_now:Hn,emscripten_resize_heap:$n,environ_get:Xn,environ_sizes_get:Yn,fd_close:Zn,fd_fdstat_get:er,fd_read:nr,fd_seek:rr,fd_sync:sr,fd_write:or,memory:Qe},p=nn();i._sqlite3_status64=(e,t,n,r)=>(i._sqlite3_status64=p.sqlite3_status64)(e,t,n,r),i._sqlite3_status=(e,t,n,r)=>(i._sqlite3_status=p.sqlite3_status)(e,t,n,r),i._sqlite3_db_status=(e,t,n,r,s)=>(i._sqlite3_db_status=p.sqlite3_db_status)(e,t,n,r,s),i._sqlite3_msize=e=>(i._sqlite3_msize=p.sqlite3_msize)(e),i._sqlite3_vfs_find=e=>(i._sqlite3_vfs_find=p.sqlite3_vfs_find)(e),i._sqlite3_initialize=()=>(i._sqlite3_initialize=p.sqlite3_initialize)(),i._sqlite3_malloc=e=>(i._sqlite3_malloc=p.sqlite3_malloc)(e),i._sqlite3_free=e=>(i._sqlite3_free=p.sqlite3_free)(e),i._sqlite3_vfs_register=(e,t)=>(i._sqlite3_vfs_register=p.sqlite3_vfs_register)(e,t),i._sqlite3_vfs_unregister=e=>(i._sqlite3_vfs_unregister=p.sqlite3_vfs_unregister)(e),i._sqlite3_malloc64=e=>(i._sqlite3_malloc64=p.sqlite3_malloc64)(e),i._sqlite3_realloc=(e,t)=>(i._sqlite3_realloc=p.sqlite3_realloc)(e,t),i._sqlite3_realloc64=(e,t)=>(i._sqlite3_realloc64=p.sqlite3_realloc64)(e,t),i._sqlite3_value_text=e=>(i._sqlite3_value_text=p.sqlite3_value_text)(e),i._sqlite3_randomness=(e,t)=>(i._sqlite3_randomness=p.sqlite3_randomness)(e,t),i._sqlite3_stricmp=(e,t)=>(i._sqlite3_stricmp=p.sqlite3_stricmp)(e,t),i._sqlite3_strnicmp=(e,t,n)=>(i._sqlite3_strnicmp=p.sqlite3_strnicmp)(e,t,n),i._sqlite3_uri_parameter=(e,t)=>(i._sqlite3_uri_parameter=p.sqlite3_uri_parameter)(e,t),i._sqlite3_uri_boolean=(e,t,n)=>(i._sqlite3_uri_boolean=p.sqlite3_uri_boolean)(e,t,n),i._sqlite3_serialize=(e,t,n,r)=>(i._sqlite3_serialize=p.sqlite3_serialize)(e,t,n,r),i._sqlite3_prepare_v2=(e,t,n,r,s)=>(i._sqlite3_prepare_v2=p.sqlite3_prepare_v2)(e,t,n,r,s),i._sqlite3_step=e=>(i._sqlite3_step=p.sqlite3_step)(e),i._sqlite3_column_int64=(e,t)=>(i._sqlite3_column_int64=p.sqlite3_column_int64)(e,t),i._sqlite3_reset=e=>(i._sqlite3_reset=p.sqlite3_reset)(e),i._sqlite3_exec=(e,t,n,r,s)=>(i._sqlite3_exec=p.sqlite3_exec)(e,t,n,r,s),i._sqlite3_column_int=(e,t)=>(i._sqlite3_column_int=p.sqlite3_column_int)(e,t),i._sqlite3_finalize=e=>(i._sqlite3_finalize=p.sqlite3_finalize)(e),i._sqlite3_file_control=(e,t,n,r)=>(i._sqlite3_file_control=p.sqlite3_file_control)(e,t,n,r),i._sqlite3_column_name=(e,t)=>(i._sqlite3_column_name=p.sqlite3_column_name)(e,t),i._sqlite3_column_text=(e,t)=>(i._sqlite3_column_text=p.sqlite3_column_text)(e,t),i._sqlite3_column_type=(e,t)=>(i._sqlite3_column_type=p.sqlite3_column_type)(e,t),i._sqlite3_errmsg=e=>(i._sqlite3_errmsg=p.sqlite3_errmsg)(e),i._sqlite3_deserialize=(e,t,n,r,s,o)=>(i._sqlite3_deserialize=p.sqlite3_deserialize)(e,t,n,r,s,o),i._sqlite3_clear_bindings=e=>(i._sqlite3_clear_bindings=p.sqlite3_clear_bindings)(e),i._sqlite3_value_blob=e=>(i._sqlite3_value_blob=p.sqlite3_value_blob)(e),i._sqlite3_value_bytes=e=>(i._sqlite3_value_bytes=p.sqlite3_value_bytes)(e),i._sqlite3_value_double=e=>(i._sqlite3_value_double=p.sqlite3_value_double)(e),i._sqlite3_value_int=e=>(i._sqlite3_value_int=p.sqlite3_value_int)(e),i._sqlite3_value_int64=e=>(i._sqlite3_value_int64=p.sqlite3_value_int64)(e),i._sqlite3_value_subtype=e=>(i._sqlite3_value_subtype=p.sqlite3_value_subtype)(e),i._sqlite3_value_pointer=(e,t)=>(i._sqlite3_value_pointer=p.sqlite3_value_pointer)(e,t),i._sqlite3_value_type=e=>(i._sqlite3_value_type=p.sqlite3_value_type)(e),i._sqlite3_value_nochange=e=>(i._sqlite3_value_nochange=p.sqlite3_value_nochange)(e),i._sqlite3_value_frombind=e=>(i._sqlite3_value_frombind=p.sqlite3_value_frombind)(e),i._sqlite3_value_dup=e=>(i._sqlite3_value_dup=p.sqlite3_value_dup)(e),i._sqlite3_value_free=e=>(i._sqlite3_value_free=p.sqlite3_value_free)(e),i._sqlite3_result_blob=(e,t,n,r)=>(i._sqlite3_result_blob=p.sqlite3_result_blob)(e,t,n,r),i._sqlite3_result_error_toobig=e=>(i._sqlite3_result_error_toobig=p.sqlite3_result_error_toobig)(e),i._sqlite3_result_error_nomem=e=>(i._sqlite3_result_error_nomem=p.sqlite3_result_error_nomem)(e),i._sqlite3_result_double=(e,t)=>(i._sqlite3_result_double=p.sqlite3_result_double)(e,t),i._sqlite3_result_error=(e,t,n)=>(i._sqlite3_result_error=p.sqlite3_result_error)(e,t,n),i._sqlite3_result_int=(e,t)=>(i._sqlite3_result_int=p.sqlite3_result_int)(e,t),i._sqlite3_result_int64=(e,t)=>(i._sqlite3_result_int64=p.sqlite3_result_int64)(e,t),i._sqlite3_result_null=e=>(i._sqlite3_result_null=p.sqlite3_result_null)(e),i._sqlite3_result_pointer=(e,t,n,r)=>(i._sqlite3_result_pointer=p.sqlite3_result_pointer)(e,t,n,r),i._sqlite3_result_subtype=(e,t)=>(i._sqlite3_result_subtype=p.sqlite3_result_subtype)(e,t),i._sqlite3_result_text=(e,t,n,r)=>(i._sqlite3_result_text=p.sqlite3_result_text)(e,t,n,r),i._sqlite3_result_zeroblob=(e,t)=>(i._sqlite3_result_zeroblob=p.sqlite3_result_zeroblob)(e,t),i._sqlite3_result_zeroblob64=(e,t)=>(i._sqlite3_result_zeroblob64=p.sqlite3_result_zeroblob64)(e,t),i._sqlite3_result_error_code=(e,t)=>(i._sqlite3_result_error_code=p.sqlite3_result_error_code)(e,t),i._sqlite3_user_data=e=>(i._sqlite3_user_data=p.sqlite3_user_data)(e),i._sqlite3_context_db_handle=e=>(i._sqlite3_context_db_handle=p.sqlite3_context_db_handle)(e),i._sqlite3_vtab_nochange=e=>(i._sqlite3_vtab_nochange=p.sqlite3_vtab_nochange)(e),i._sqlite3_vtab_in_first=(e,t)=>(i._sqlite3_vtab_in_first=p.sqlite3_vtab_in_first)(e,t),i._sqlite3_vtab_in_next=(e,t)=>(i._sqlite3_vtab_in_next=p.sqlite3_vtab_in_next)(e,t),i._sqlite3_aggregate_context=(e,t)=>(i._sqlite3_aggregate_context=p.sqlite3_aggregate_context)(e,t),i._sqlite3_get_auxdata=(e,t)=>(i._sqlite3_get_auxdata=p.sqlite3_get_auxdata)(e,t),i._sqlite3_set_auxdata=(e,t,n,r)=>(i._sqlite3_set_auxdata=p.sqlite3_set_auxdata)(e,t,n,r),i._sqlite3_column_count=e=>(i._sqlite3_column_count=p.sqlite3_column_count)(e),i._sqlite3_data_count=e=>(i._sqlite3_data_count=p.sqlite3_data_count)(e),i._sqlite3_column_blob=(e,t)=>(i._sqlite3_column_blob=p.sqlite3_column_blob)(e,t),i._sqlite3_column_bytes=(e,t)=>(i._sqlite3_column_bytes=p.sqlite3_column_bytes)(e,t),i._sqlite3_column_double=(e,t)=>(i._sqlite3_column_double=p.sqlite3_column_double)(e,t),i._sqlite3_column_value=(e,t)=>(i._sqlite3_column_value=p.sqlite3_column_value)(e,t),i._sqlite3_column_decltype=(e,t)=>(i._sqlite3_column_decltype=p.sqlite3_column_decltype)(e,t),i._sqlite3_bind_blob=(e,t,n,r,s)=>(i._sqlite3_bind_blob=p.sqlite3_bind_blob)(e,t,n,r,s),i._sqlite3_bind_double=(e,t,n)=>(i._sqlite3_bind_double=p.sqlite3_bind_double)(e,t,n),i._sqlite3_bind_int=(e,t,n)=>(i._sqlite3_bind_int=p.sqlite3_bind_int)(e,t,n),i._sqlite3_bind_int64=(e,t,n)=>(i._sqlite3_bind_int64=p.sqlite3_bind_int64)(e,t,n),i._sqlite3_bind_null=(e,t)=>(i._sqlite3_bind_null=p.sqlite3_bind_null)(e,t),i._sqlite3_bind_pointer=(e,t,n,r,s)=>(i._sqlite3_bind_pointer=p.sqlite3_bind_pointer)(e,t,n,r,s),i._sqlite3_bind_text=(e,t,n,r,s)=>(i._sqlite3_bind_text=p.sqlite3_bind_text)(e,t,n,r,s),i._sqlite3_bind_parameter_count=e=>(i._sqlite3_bind_parameter_count=p.sqlite3_bind_parameter_count)(e),i._sqlite3_bind_parameter_name=(e,t)=>(i._sqlite3_bind_parameter_name=p.sqlite3_bind_parameter_name)(e,t),i._sqlite3_bind_parameter_index=(e,t)=>(i._sqlite3_bind_parameter_index=p.sqlite3_bind_parameter_index)(e,t),i._sqlite3_db_handle=e=>(i._sqlite3_db_handle=p.sqlite3_db_handle)(e),i._sqlite3_stmt_readonly=e=>(i._sqlite3_stmt_readonly=p.sqlite3_stmt_readonly)(e),i._sqlite3_stmt_isexplain=e=>(i._sqlite3_stmt_isexplain=p.sqlite3_stmt_isexplain)(e),i._sqlite3_stmt_explain=(e,t)=>(i._sqlite3_stmt_explain=p.sqlite3_stmt_explain)(e,t),i._sqlite3_stmt_busy=e=>(i._sqlite3_stmt_busy=p.sqlite3_stmt_busy)(e),i._sqlite3_stmt_status=(e,t,n)=>(i._sqlite3_stmt_status=p.sqlite3_stmt_status)(e,t,n),i._sqlite3_sql=e=>(i._sqlite3_sql=p.sqlite3_sql)(e),i._sqlite3_expanded_sql=e=>(i._sqlite3_expanded_sql=p.sqlite3_expanded_sql)(e),i._sqlite3_preupdate_old=(e,t,n)=>(i._sqlite3_preupdate_old=p.sqlite3_preupdate_old)(e,t,n),i._sqlite3_preupdate_count=e=>(i._sqlite3_preupdate_count=p.sqlite3_preupdate_count)(e),i._sqlite3_preupdate_depth=e=>(i._sqlite3_preupdate_depth=p.sqlite3_preupdate_depth)(e),i._sqlite3_preupdate_blobwrite=e=>(i._sqlite3_preupdate_blobwrite=p.sqlite3_preupdate_blobwrite)(e),i._sqlite3_preupdate_new=(e,t,n)=>(i._sqlite3_preupdate_new=p.sqlite3_preupdate_new)(e,t,n),i._sqlite3_value_numeric_type=e=>(i._sqlite3_value_numeric_type=p.sqlite3_value_numeric_type)(e),i._sqlite3_set_authorizer=(e,t,n)=>(i._sqlite3_set_authorizer=p.sqlite3_set_authorizer)(e,t,n),i._sqlite3_strglob=(e,t)=>(i._sqlite3_strglob=p.sqlite3_strglob)(e,t),i._sqlite3_strlike=(e,t,n)=>(i._sqlite3_strlike=p.sqlite3_strlike)(e,t,n),i._sqlite3_auto_extension=e=>(i._sqlite3_auto_extension=p.sqlite3_auto_extension)(e),i._sqlite3_cancel_auto_extension=e=>(i._sqlite3_cancel_auto_extension=p.sqlite3_cancel_auto_extension)(e),i._sqlite3_reset_auto_extension=()=>(i._sqlite3_reset_auto_extension=p.sqlite3_reset_auto_extension)(),i._sqlite3_prepare_v3=(e,t,n,r,s,o)=>(i._sqlite3_prepare_v3=p.sqlite3_prepare_v3)(e,t,n,r,s,o),i._sqlite3_create_module=(e,t,n,r)=>(i._sqlite3_create_module=p.sqlite3_create_module)(e,t,n,r),i._sqlite3_create_module_v2=(e,t,n,r,s)=>(i._sqlite3_create_module_v2=p.sqlite3_create_module_v2)(e,t,n,r,s),i._sqlite3_drop_modules=(e,t)=>(i._sqlite3_drop_modules=p.sqlite3_drop_modules)(e,t),i._sqlite3_declare_vtab=(e,t)=>(i._sqlite3_declare_vtab=p.sqlite3_declare_vtab)(e,t),i._sqlite3_vtab_on_conflict=e=>(i._sqlite3_vtab_on_conflict=p.sqlite3_vtab_on_conflict)(e),i._sqlite3_vtab_collation=(e,t)=>(i._sqlite3_vtab_collation=p.sqlite3_vtab_collation)(e,t),i._sqlite3_vtab_in=(e,t,n)=>(i._sqlite3_vtab_in=p.sqlite3_vtab_in)(e,t,n),i._sqlite3_vtab_rhs_value=(e,t,n)=>(i._sqlite3_vtab_rhs_value=p.sqlite3_vtab_rhs_value)(e,t,n),i._sqlite3_vtab_distinct=e=>(i._sqlite3_vtab_distinct=p.sqlite3_vtab_distinct)(e),i._sqlite3_keyword_name=(e,t,n)=>(i._sqlite3_keyword_name=p.sqlite3_keyword_name)(e,t,n),i._sqlite3_keyword_count=()=>(i._sqlite3_keyword_count=p.sqlite3_keyword_count)(),i._sqlite3_keyword_check=(e,t)=>(i._sqlite3_keyword_check=p.sqlite3_keyword_check)(e,t),i._sqlite3_complete=e=>(i._sqlite3_complete=p.sqlite3_complete)(e),i._sqlite3_libversion=()=>(i._sqlite3_libversion=p.sqlite3_libversion)(),i._sqlite3_libversion_number=()=>(i._sqlite3_libversion_number=p.sqlite3_libversion_number)(),i._sqlite3_shutdown=()=>(i._sqlite3_shutdown=p.sqlite3_shutdown)(),i._sqlite3_last_insert_rowid=e=>(i._sqlite3_last_insert_rowid=p.sqlite3_last_insert_rowid)(e),i._sqlite3_set_last_insert_rowid=(e,t)=>(i._sqlite3_set_last_insert_rowid=p.sqlite3_set_last_insert_rowid)(e,t),i._sqlite3_changes64=e=>(i._sqlite3_changes64=p.sqlite3_changes64)(e),i._sqlite3_changes=e=>(i._sqlite3_changes=p.sqlite3_changes)(e),i._sqlite3_total_changes64=e=>(i._sqlite3_total_changes64=p.sqlite3_total_changes64)(e),i._sqlite3_total_changes=e=>(i._sqlite3_total_changes=p.sqlite3_total_changes)(e),i._sqlite3_txn_state=(e,t)=>(i._sqlite3_txn_state=p.sqlite3_txn_state)(e,t),i._sqlite3_close_v2=e=>(i._sqlite3_close_v2=p.sqlite3_close_v2)(e),i._sqlite3_busy_handler=(e,t,n)=>(i._sqlite3_busy_handler=p.sqlite3_busy_handler)(e,t,n),i._sqlite3_progress_handler=(e,t,n,r)=>(i._sqlite3_progress_handler=p.sqlite3_progress_handler)(e,t,n,r),i._sqlite3_busy_timeout=(e,t)=>(i._sqlite3_busy_timeout=p.sqlite3_busy_timeout)(e,t),i._sqlite3_interrupt=e=>(i._sqlite3_interrupt=p.sqlite3_interrupt)(e),i._sqlite3_is_interrupted=e=>(i._sqlite3_is_interrupted=p.sqlite3_is_interrupted)(e),i._sqlite3_create_function=(e,t,n,r,s,o,d,h)=>(i._sqlite3_create_function=p.sqlite3_create_function)(e,t,n,r,s,o,d,h),i._sqlite3_create_function_v2=(e,t,n,r,s,o,d,h,C)=>(i._sqlite3_create_function_v2=p.sqlite3_create_function_v2)(e,t,n,r,s,o,d,h,C),i._sqlite3_create_window_function=(e,t,n,r,s,o,d,h,C,N)=>(i._sqlite3_create_window_function=p.sqlite3_create_window_function)(e,t,n,r,s,o,d,h,C,N),i._sqlite3_overload_function=(e,t,n)=>(i._sqlite3_overload_function=p.sqlite3_overload_function)(e,t,n),i._sqlite3_trace_v2=(e,t,n,r)=>(i._sqlite3_trace_v2=p.sqlite3_trace_v2)(e,t,n,r),i._sqlite3_commit_hook=(e,t,n)=>(i._sqlite3_commit_hook=p.sqlite3_commit_hook)(e,t,n),i._sqlite3_update_hook=(e,t,n)=>(i._sqlite3_update_hook=p.sqlite3_update_hook)(e,t,n),i._sqlite3_rollback_hook=(e,t,n)=>(i._sqlite3_rollback_hook=p.sqlite3_rollback_hook)(e,t,n),i._sqlite3_preupdate_hook=(e,t,n)=>(i._sqlite3_preupdate_hook=p.sqlite3_preupdate_hook)(e,t,n),i._sqlite3_error_offset=e=>(i._sqlite3_error_offset=p.sqlite3_error_offset)(e),i._sqlite3_errcode=e=>(i._sqlite3_errcode=p.sqlite3_errcode)(e),i._sqlite3_extended_errcode=e=>(i._sqlite3_extended_errcode=p.sqlite3_extended_errcode)(e),i._sqlite3_errstr=e=>(i._sqlite3_errstr=p.sqlite3_errstr)(e),i._sqlite3_limit=(e,t,n)=>(i._sqlite3_limit=p.sqlite3_limit)(e,t,n),i._sqlite3_open=(e,t)=>(i._sqlite3_open=p.sqlite3_open)(e,t),i._sqlite3_open_v2=(e,t,n,r)=>(i._sqlite3_open_v2=p.sqlite3_open_v2)(e,t,n,r),i._sqlite3_create_collation=(e,t,n,r,s)=>(i._sqlite3_create_collation=p.sqlite3_create_collation)(e,t,n,r,s),i._sqlite3_create_collation_v2=(e,t,n,r,s,o)=>(i._sqlite3_create_collation_v2=p.sqlite3_create_collation_v2)(e,t,n,r,s,o),i._sqlite3_collation_needed=(e,t,n)=>(i._sqlite3_collation_needed=p.sqlite3_collation_needed)(e,t,n),i._sqlite3_get_autocommit=e=>(i._sqlite3_get_autocommit=p.sqlite3_get_autocommit)(e),i._sqlite3_table_column_metadata=(e,t,n,r,s,o,d,h,C)=>(i._sqlite3_table_column_metadata=p.sqlite3_table_column_metadata)(e,t,n,r,s,o,d,h,C),i._sqlite3_extended_result_codes=(e,t)=>(i._sqlite3_extended_result_codes=p.sqlite3_extended_result_codes)(e,t),i._sqlite3_uri_key=(e,t)=>(i._sqlite3_uri_key=p.sqlite3_uri_key)(e,t),i._sqlite3_uri_int64=(e,t,n)=>(i._sqlite3_uri_int64=p.sqlite3_uri_int64)(e,t,n),i._sqlite3_db_name=(e,t)=>(i._sqlite3_db_name=p.sqlite3_db_name)(e,t),i._sqlite3_db_filename=(e,t)=>(i._sqlite3_db_filename=p.sqlite3_db_filename)(e,t),i._sqlite3_db_readonly=(e,t)=>(i._sqlite3_db_readonly=p.sqlite3_db_readonly)(e,t),i._sqlite3_compileoption_used=e=>(i._sqlite3_compileoption_used=p.sqlite3_compileoption_used)(e),i._sqlite3_compileoption_get=e=>(i._sqlite3_compileoption_get=p.sqlite3_compileoption_get)(e),i._sqlite3session_diff=(e,t,n,r)=>(i._sqlite3session_diff=p.sqlite3session_diff)(e,t,n,r),i._sqlite3session_attach=(e,t)=>(i._sqlite3session_attach=p.sqlite3session_attach)(e,t),i._sqlite3session_create=(e,t,n)=>(i._sqlite3session_create=p.sqlite3session_create)(e,t,n),i._sqlite3session_delete=e=>(i._sqlite3session_delete=p.sqlite3session_delete)(e),i._sqlite3session_table_filter=(e,t,n)=>(i._sqlite3session_table_filter=p.sqlite3session_table_filter)(e,t,n),i._sqlite3session_changeset=(e,t,n)=>(i._sqlite3session_changeset=p.sqlite3session_changeset)(e,t,n),i._sqlite3session_changeset_strm=(e,t,n)=>(i._sqlite3session_changeset_strm=p.sqlite3session_changeset_strm)(e,t,n),i._sqlite3session_patchset_strm=(e,t,n)=>(i._sqlite3session_patchset_strm=p.sqlite3session_patchset_strm)(e,t,n),i._sqlite3session_patchset=(e,t,n)=>(i._sqlite3session_patchset=p.sqlite3session_patchset)(e,t,n),i._sqlite3session_enable=(e,t)=>(i._sqlite3session_enable=p.sqlite3session_enable)(e,t),i._sqlite3session_indirect=(e,t)=>(i._sqlite3session_indirect=p.sqlite3session_indirect)(e,t),i._sqlite3session_isempty=e=>(i._sqlite3session_isempty=p.sqlite3session_isempty)(e),i._sqlite3session_memory_used=e=>(i._sqlite3session_memory_used=p.sqlite3session_memory_used)(e),i._sqlite3session_object_config=(e,t,n)=>(i._sqlite3session_object_config=p.sqlite3session_object_config)(e,t,n),i._sqlite3session_changeset_size=e=>(i._sqlite3session_changeset_size=p.sqlite3session_changeset_size)(e),i._sqlite3changeset_start=(e,t,n)=>(i._sqlite3changeset_start=p.sqlite3changeset_start)(e,t,n),i._sqlite3changeset_start_v2=(e,t,n,r)=>(i._sqlite3changeset_start_v2=p.sqlite3changeset_start_v2)(e,t,n,r),i._sqlite3changeset_start_strm=(e,t,n)=>(i._sqlite3changeset_start_strm=p.sqlite3changeset_start_strm)(e,t,n),i._sqlite3changeset_start_v2_strm=(e,t,n,r)=>(i._sqlite3changeset_start_v2_strm=p.sqlite3changeset_start_v2_strm)(e,t,n,r),i._sqlite3changeset_next=e=>(i._sqlite3changeset_next=p.sqlite3changeset_next)(e),i._sqlite3changeset_op=(e,t,n,r,s)=>(i._sqlite3changeset_op=p.sqlite3changeset_op)(e,t,n,r,s),i._sqlite3changeset_pk=(e,t,n)=>(i._sqlite3changeset_pk=p.sqlite3changeset_pk)(e,t,n),i._sqlite3changeset_old=(e,t,n)=>(i._sqlite3changeset_old=p.sqlite3changeset_old)(e,t,n),i._sqlite3changeset_new=(e,t,n)=>(i._sqlite3changeset_new=p.sqlite3changeset_new)(e,t,n),i._sqlite3changeset_conflict=(e,t,n)=>(i._sqlite3changeset_conflict=p.sqlite3changeset_conflict)(e,t,n),i._sqlite3changeset_fk_conflicts=(e,t)=>(i._sqlite3changeset_fk_conflicts=p.sqlite3changeset_fk_conflicts)(e,t),i._sqlite3changeset_finalize=e=>(i._sqlite3changeset_finalize=p.sqlite3changeset_finalize)(e),i._sqlite3changeset_invert=(e,t,n,r)=>(i._sqlite3changeset_invert=p.sqlite3changeset_invert)(e,t,n,r),i._sqlite3changeset_invert_strm=(e,t,n,r)=>(i._sqlite3changeset_invert_strm=p.sqlite3changeset_invert_strm)(e,t,n,r),i._sqlite3changeset_apply_v2=(e,t,n,r,s,o,d,h,C)=>(i._sqlite3changeset_apply_v2=p.sqlite3changeset_apply_v2)(e,t,n,r,s,o,d,h,C),i._sqlite3changeset_apply=(e,t,n,r,s,o)=>(i._sqlite3changeset_apply=p.sqlite3changeset_apply)(e,t,n,r,s,o),i._sqlite3changeset_apply_v2_strm=(e,t,n,r,s,o,d,h,C)=>(i._sqlite3changeset_apply_v2_strm=p.sqlite3changeset_apply_v2_strm)(e,t,n,r,s,o,d,h,C),i._sqlite3changeset_apply_strm=(e,t,n,r,s,o)=>(i._sqlite3changeset_apply_strm=p.sqlite3changeset_apply_strm)(e,t,n,r,s,o),i._sqlite3changegroup_new=e=>(i._sqlite3changegroup_new=p.sqlite3changegroup_new)(e),i._sqlite3changegroup_add=(e,t,n)=>(i._sqlite3changegroup_add=p.sqlite3changegroup_add)(e,t,n),i._sqlite3changegroup_output=(e,t,n)=>(i._sqlite3changegroup_output=p.sqlite3changegroup_output)(e,t,n),i._sqlite3changegroup_add_strm=(e,t,n)=>(i._sqlite3changegroup_add_strm=p.sqlite3changegroup_add_strm)(e,t,n),i._sqlite3changegroup_output_strm=(e,t,n)=>(i._sqlite3changegroup_output_strm=p.sqlite3changegroup_output_strm)(e,t,n),i._sqlite3changegroup_delete=e=>(i._sqlite3changegroup_delete=p.sqlite3changegroup_delete)(e),i._sqlite3changeset_concat=(e,t,n,r,s,o)=>(i._sqlite3changeset_concat=p.sqlite3changeset_concat)(e,t,n,r,s,o),i._sqlite3changeset_concat_strm=(e,t,n,r,s,o)=>(i._sqlite3changeset_concat_strm=p.sqlite3changeset_concat_strm)(e,t,n,r,s,o),i._sqlite3session_config=(e,t)=>(i._sqlite3session_config=p.sqlite3session_config)(e,t),i._sqlite3_sourceid=()=>(i._sqlite3_sourceid=p.sqlite3_sourceid)(),i._sqlite3__wasm_pstack_ptr=()=>(i._sqlite3__wasm_pstack_ptr=p.sqlite3__wasm_pstack_ptr)(),i._sqlite3__wasm_pstack_restore=e=>(i._sqlite3__wasm_pstack_restore=p.sqlite3__wasm_pstack_restore)(e),i._sqlite3__wasm_pstack_alloc=e=>(i._sqlite3__wasm_pstack_alloc=p.sqlite3__wasm_pstack_alloc)(e),i._sqlite3__wasm_pstack_remaining=()=>(i._sqlite3__wasm_pstack_remaining=p.sqlite3__wasm_pstack_remaining)(),i._sqlite3__wasm_pstack_quota=()=>(i._sqlite3__wasm_pstack_quota=p.sqlite3__wasm_pstack_quota)(),i._sqlite3__wasm_db_error=(e,t,n)=>(i._sqlite3__wasm_db_error=p.sqlite3__wasm_db_error)(e,t,n),i._sqlite3__wasm_test_struct=e=>(i._sqlite3__wasm_test_struct=p.sqlite3__wasm_test_struct)(e),i._sqlite3__wasm_enum_json=()=>(i._sqlite3__wasm_enum_json=p.sqlite3__wasm_enum_json)(),i._sqlite3__wasm_vfs_unlink=(e,t)=>(i._sqlite3__wasm_vfs_unlink=p.sqlite3__wasm_vfs_unlink)(e,t),i._sqlite3__wasm_db_vfs=(e,t)=>(i._sqlite3__wasm_db_vfs=p.sqlite3__wasm_db_vfs)(e,t),i._sqlite3__wasm_db_reset=e=>(i._sqlite3__wasm_db_reset=p.sqlite3__wasm_db_reset)(e),i._sqlite3__wasm_db_export_chunked=(e,t)=>(i._sqlite3__wasm_db_export_chunked=p.sqlite3__wasm_db_export_chunked)(e,t),i._sqlite3__wasm_db_serialize=(e,t,n,r,s)=>(i._sqlite3__wasm_db_serialize=p.sqlite3__wasm_db_serialize)(e,t,n,r,s),i._sqlite3__wasm_vfs_create_file=(e,t,n,r)=>(i._sqlite3__wasm_vfs_create_file=p.sqlite3__wasm_vfs_create_file)(e,t,n,r),i._sqlite3__wasm_posix_create_file=(e,t,n)=>(i._sqlite3__wasm_posix_create_file=p.sqlite3__wasm_posix_create_file)(e,t,n),i._sqlite3__wasm_kvvfsMakeKeyOnPstack=(e,t)=>(i._sqlite3__wasm_kvvfsMakeKeyOnPstack=p.sqlite3__wasm_kvvfsMakeKeyOnPstack)(e,t),i._sqlite3__wasm_kvvfs_methods=()=>(i._sqlite3__wasm_kvvfs_methods=p.sqlite3__wasm_kvvfs_methods)(),i._sqlite3__wasm_vtab_config=(e,t,n)=>(i._sqlite3__wasm_vtab_config=p.sqlite3__wasm_vtab_config)(e,t,n),i._sqlite3__wasm_db_config_ip=(e,t,n,r)=>(i._sqlite3__wasm_db_config_ip=p.sqlite3__wasm_db_config_ip)(e,t,n,r),i._sqlite3__wasm_db_config_pii=(e,t,n,r,s)=>(i._sqlite3__wasm_db_config_pii=p.sqlite3__wasm_db_config_pii)(e,t,n,r,s),i._sqlite3__wasm_db_config_s=(e,t,n)=>(i._sqlite3__wasm_db_config_s=p.sqlite3__wasm_db_config_s)(e,t,n),i._sqlite3__wasm_config_i=(e,t)=>(i._sqlite3__wasm_config_i=p.sqlite3__wasm_config_i)(e,t),i._sqlite3__wasm_config_ii=(e,t,n)=>(i._sqlite3__wasm_config_ii=p.sqlite3__wasm_config_ii)(e,t,n),i._sqlite3__wasm_config_j=(e,t)=>(i._sqlite3__wasm_config_j=p.sqlite3__wasm_config_j)(e,t),i._sqlite3__wasm_qfmt_token=(e,t)=>(i._sqlite3__wasm_qfmt_token=p.sqlite3__wasm_qfmt_token)(e,t),i._sqlite3__wasm_init_wasmfs=e=>(i._sqlite3__wasm_init_wasmfs=p.sqlite3__wasm_init_wasmfs)(e),i._sqlite3__wasm_test_intptr=e=>(i._sqlite3__wasm_test_intptr=p.sqlite3__wasm_test_intptr)(e),i._sqlite3__wasm_test_voidptr=e=>(i._sqlite3__wasm_test_voidptr=p.sqlite3__wasm_test_voidptr)(e),i._sqlite3__wasm_test_int64_max=()=>(i._sqlite3__wasm_test_int64_max=p.sqlite3__wasm_test_int64_max)(),i._sqlite3__wasm_test_int64_min=()=>(i._sqlite3__wasm_test_int64_min=p.sqlite3__wasm_test_int64_min)(),i._sqlite3__wasm_test_int64_times2=e=>(i._sqlite3__wasm_test_int64_times2=p.sqlite3__wasm_test_int64_times2)(e),i._sqlite3__wasm_test_int64_minmax=(e,t)=>(i._sqlite3__wasm_test_int64_minmax=p.sqlite3__wasm_test_int64_minmax)(e,t),i._sqlite3__wasm_test_int64ptr=e=>(i._sqlite3__wasm_test_int64ptr=p.sqlite3__wasm_test_int64ptr)(e),i._sqlite3__wasm_test_stack_overflow=e=>(i._sqlite3__wasm_test_stack_overflow=p.sqlite3__wasm_test_stack_overflow)(e),i._sqlite3__wasm_test_str_hello=e=>(i._sqlite3__wasm_test_str_hello=p.sqlite3__wasm_test_str_hello)(e),i._sqlite3__wasm_SQLTester_strglob=(e,t)=>(i._sqlite3__wasm_SQLTester_strglob=p.sqlite3__wasm_SQLTester_strglob)(e,t),i._malloc=e=>(i._malloc=p.malloc)(e),i._free=e=>(i._free=p.free)(e),i._realloc=(e,t)=>(i._realloc=p.realloc)(e,t);var Mt=(e,t)=>(Mt=p.emscripten_builtin_memalign)(e,t);i.wasmMemory=Qe;var ct,jt;tt=function e(){ct||Bt(),ct||(tt=e)};function Bt(){if(He>0||!jt&&(jt=1,Ht(),He>0))return;function e(){var t;ct||(ct=1,i.calledRun=1,!vt&&(Vt(),qe(i),(t=i.onRuntimeInitialized)==null||t.call(i),Gt()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),e()},1)):e()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Bt(),i.runSQLite3PostLoadInit=function(e){if(globalThis.sqlite3ApiBootstrap=function t(n=globalThis.sqlite3ApiConfig||t.defaultConfig){if(t.sqlite3)return(t.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),t.sqlite3;const r=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof i<"u"&&i.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},n||{});Object.assign(r,{allocExportName:r.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:r.useStdAlloc?"free":"sqlite3_free",reallocExportName:r.useStdAlloc?"realloc":"sqlite3_realloc"},r),["exports","memory","wasmfsOpfsDir"].forEach(l=>{typeof r[l]=="function"&&(r[l]=r[l]())}),delete globalThis.sqlite3ApiConfig,delete t.defaultConfig;const s=Object.create(null),o=Object.create(null),d=l=>s.sqlite3_js_rc_str&&s.sqlite3_js_rc_str(l)||"Unknown result code #"+l,h=l=>typeof l=="number"&&l===(l|0);class C extends Error{constructor(..._){let q;if(_.length)if(h(_[0]))if(q=_[0],_.length===1)super(d(_[0]));else{const b=d(q);typeof _[1]=="object"?super(b,_[1]):(_[0]=b+":",super(_.join(" ")))}else _.length===2&&typeof _[1]=="object"?super(..._):super(_.join(" "));this.resultCode=q||s.SQLITE_ERROR,this.name="SQLite3Error"}}C.toss=(...l)=>{throw new C(...l)};const N=C.toss;r.wasmfsOpfsDir&&!/^\/[^/]+$/.test(r.wasmfsOpfsDir)&&N("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Q=l=>typeof l!="bigint"&&l===(l|0)&&l<=2147483647&&l>=-2147483648,G=function l(_){return l._max||(l._max=BigInt("0x7fffffffffffffff"),l._min=~l._max),_>=l._min&&_<=l._max},P=l=>l>=-0x7fffffffn-1n&&l<=0x7fffffffn,A=function l(_){return l._min||(l._min=Number.MIN_SAFE_INTEGER,l._max=Number.MAX_SAFE_INTEGER),_>=l._min&&_<=l._max},R=l=>l&&l.constructor&&Q(l.constructor.BYTES_PER_ELEMENT)?l:!1,y=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,E=l=>l.buffer instanceof y,T=(l,_,q)=>E(l)?l.slice(_,q):l.subarray(_,q),O=l=>l&&(l instanceof Uint8Array||l instanceof Int8Array||l instanceof ArrayBuffer),D=l=>l&&(l instanceof Uint8Array||l instanceof Int8Array||l instanceof ArrayBuffer),S=l=>O(l)||N("Value is not of a supported TypedArray type."),M=new TextDecoder("utf-8"),W=function(l,_,q){return M.decode(T(l,_,q))},c=function(l){return D(l)?W(l instanceof ArrayBuffer?new Uint8Array(l):l):Array.isArray(l)?l.join(""):(o.isPtr(l)&&(l=o.cstrToJs(l)),l)};class m extends Error{constructor(..._){_.length===2&&typeof _[1]=="object"?super(..._):_.length?super(_.join(" ")):super("Allocation failed."),this.resultCode=s.SQLITE_NOMEM,this.name="WasmAllocError"}}m.toss=(...l)=>{throw new m(...l)},Object.assign(s,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(l,_,q,b,j,J,Z,oe,se)=>{},sqlite3_create_function:(l,_,q,b,j,J,Z,oe)=>{},sqlite3_create_window_function:(l,_,q,b,j,J,Z,oe,se,re)=>{},sqlite3_prepare_v3:(l,_,q,b,j,J)=>{},sqlite3_prepare_v2:(l,_,q,b,j)=>{},sqlite3_exec:(l,_,q,b,j)=>{},sqlite3_randomness:(l,_)=>{}});const w={affirmBindableTypedArray:S,flexibleString:c,bigIntFits32:P,bigIntFits64:G,bigIntFitsDouble:A,isBindableTypedArray:O,isInt32:Q,isSQLableTypedArray:D,isTypedArray:R,typedArrayToString:W,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:E,toss:function(...l){throw new Error(l.join(" "))},toss3:N,typedArrayPart:T,affirmDbHeader:function(l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));const _="SQLite format 3";_.length>l.byteLength&&N("Input does not contain an SQLite3 database header.");for(let q=0;q<_.length;++q)_.charCodeAt(q)!==l[q]&&N("Input does not contain an SQLite3 database header.")},affirmIsDb:function(l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));const _=l.byteLength;(_<512||_%512!==0)&&N("Byte array size",_,"is invalid for an SQLite3 db."),w.affirmDbHeader(l)}};Object.assign(o,{ptrSizeof:r.wasmPtrSizeof||4,ptrIR:r.wasmPtrIR||"i32",bigIntEnabled:!!r.bigIntEnabled,exports:r.exports||N("Missing API config.exports (WASM module exports)."),memory:r.memory||r.exports.memory||N("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),o.allocFromTypedArray=function(l){l instanceof ArrayBuffer&&(l=new Uint8Array(l)),S(l);const _=o.alloc(l.byteLength||1);return o.heapForSize(l.constructor).set(l.byteLength?l:[0],_),_};{const l=r.allocExportName,_=r.deallocExportName,q=r.reallocExportName;for(const b of[l,_,q])o.exports[b]instanceof Function||N("Missing required exports[",b,"] function.");o.alloc=function b(j){return b.impl(j)||m.toss("Failed to allocate",j," bytes.")},o.alloc.impl=o.exports[l],o.realloc=function b(j,J){const Z=b.impl(j,J);return J?Z||m.toss("Failed to reallocate",J," bytes."):0},o.realloc.impl=o.exports[q],o.dealloc=o.exports[_]}o.compileOptionUsed=function l(_){if(arguments.length){if(Array.isArray(_)){const q={};return _.forEach(b=>{q[b]=s.sqlite3_compileoption_used(b)}),q}else if(typeof _=="object")return Object.keys(_).forEach(q=>{_[q]=s.sqlite3_compileoption_used(q)}),_}else{if(l._result)return l._result;l._opt||(l._rx=/^([^=]+)=(.+)/,l._rxInt=/^-?\d+$/,l._opt=function(Z,oe){const se=l._rx.exec(Z);oe[0]=se?se[1]:Z,oe[1]=se?l._rxInt.test(se[2])?+se[2]:se[2]:!0});const q={},b=[0,0];let j=0,J;for(;J=s.sqlite3_compileoption_get(j++);)l._opt(J,b),q[b[0]]=b[1];return l._result=q}return typeof _=="string"?!!s.sqlite3_compileoption_used(_):!1},o.pstack=Object.assign(Object.create(null),{restore:o.exports.sqlite3__wasm_pstack_restore,alloc:function(l){return typeof l=="string"&&!(l=o.sizeofIR(l))&&m.toss("Invalid value for pstack.alloc(",arguments[0],")"),o.exports.sqlite3__wasm_pstack_alloc(l)||m.toss("Could not allocate",l,"bytes from the pstack.")},allocChunks:function(l,_){typeof _=="string"&&!(_=o.sizeofIR(_))&&m.toss("Invalid size value for allocChunks(",arguments[1],")");const q=o.pstack.alloc(l*_),b=[];let j=0,J=0;for(;j<l;++j,J+=_)b.push(q+J);return b},allocPtr:(l=1,_=!0)=>l===1?o.pstack.alloc(_?8:o.ptrSizeof):o.pstack.allocChunks(l,_?8:o.ptrSizeof),call:function(l){const _=o.pstack.pointer;try{return l(g)}finally{o.pstack.restore(_)}}}),Object.defineProperties(o.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3__wasm_pstack_remaining}}),s.sqlite3_randomness=(...l)=>{if(l.length===1&&w.isTypedArray(l[0])&&l[0].BYTES_PER_ELEMENT===1){const _=l[0];if(_.byteLength===0)return o.exports.sqlite3_randomness(0,0),_;const q=o.pstack.pointer;try{let b=_.byteLength,j=0;const J=o.exports.sqlite3_randomness,Z=o.heap8u(),oe=b<512?b:512,se=o.pstack.alloc(oe);do{const re=b>oe?oe:b;J(re,se),_.set(T(Z,se,se+re),j),b-=re,j+=re}while(b>0)}catch(b){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",b)}finally{o.pstack.restore(q)}return _}o.exports.sqlite3_randomness(...l)};let z;if(s.sqlite3_wasmfs_opfs_dir=function(){if(z!==void 0)return z;const l=r.wasmfsOpfsDir;if(!l||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return z="";try{return l&&o.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],l)===0?z=l:z=""}catch{return z=""}},s.sqlite3_wasmfs_filename_is_persistent=function(l){const _=s.sqlite3_wasmfs_opfs_dir();return _&&l?l.startsWith(_+"/"):!1},s.sqlite3_js_db_uses_vfs=function(l,_,q=0){try{const b=s.sqlite3_vfs_find(_);return b?l?b===s.sqlite3_js_db_vfs(l,q)?b:!1:b===s.sqlite3_vfs_find(0)?b:!1:!1}catch{return!1}},s.sqlite3_js_vfs_list=function(){const l=[];let _=s.sqlite3_vfs_find(0);for(;_;){const q=new s.sqlite3_vfs(_);l.push(o.cstrToJs(q.$zName)),_=q.$pNext,q.dispose()}return l},s.sqlite3_js_db_export=function(l,_=0){l=o.xWrap.testConvertArg("sqlite3*",l),l||N("Invalid sqlite3* argument."),o.bigIntEnabled||N("BigInt64 support is not enabled.");const q=o.scopedAllocPush();let b;try{const j=o.scopedAlloc(8+o.ptrSizeof),J=j+8,Z=_?o.isPtr(_)?_:o.scopedAllocCString(""+_):0;let oe=o.exports.sqlite3__wasm_db_serialize(l,Z,J,j,0);oe&&N("Database serialization failed with code",g.capi.sqlite3_js_rc_str(oe)),b=o.peekPtr(J);const se=o.peek(j,"i64");return oe=se?o.heap8u().slice(b,b+Number(se)):new Uint8Array,oe}finally{b&&o.exports.sqlite3_free(b),o.scopedAllocPop(q)}},s.sqlite3_js_db_vfs=(l,_=0)=>w.sqlite3__wasm_db_vfs(l,_),s.sqlite3_js_aggregate_context=(l,_)=>s.sqlite3_aggregate_context(l,_)||(_?m.toss("Cannot allocate",_,"bytes for sqlite3_aggregate_context()"):0),s.sqlite3_js_posix_create_file=function(l,_,q){let b;_&&o.isPtr(_)?b=_:_ instanceof ArrayBuffer||_ instanceof Uint8Array?(b=o.allocFromTypedArray(_),(arguments.length<3||!w.isInt32(q)||q<0)&&(q=_.byteLength)):C.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!w.isInt32(q)||q<0)&&C.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const j=w.sqlite3__wasm_posix_create_file(l,b,q);j&&C.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(j))}finally{o.dealloc(b)}},s.sqlite3_js_vfs_create_file=function(l,_,q,b){r.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let j;q?(o.isPtr(q)?j=q:q instanceof ArrayBuffer&&(q=new Uint8Array(q)),q instanceof Uint8Array?(j=o.allocFromTypedArray(q),(arguments.length<4||!w.isInt32(b)||b<0)&&(b=q.byteLength)):C.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):j=0,(!w.isInt32(b)||b<0)&&(o.dealloc(j),C.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const J=w.sqlite3__wasm_vfs_create_file(l,_,j,b);J&&C.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(J))}finally{o.dealloc(j)}},s.sqlite3_js_sql_to_string=l=>{if(typeof l=="string")return l;const _=c(v);return _===v?void 0:_},w.isUIThread()){const l=function(_){const q=Object.create(null);return q.prefix="kvvfs-"+_,q.stores=[],(_==="session"||_==="")&&q.stores.push(globalThis.sessionStorage),(_==="local"||_==="")&&q.stores.push(globalThis.localStorage),q};s.sqlite3_js_kvvfs_clear=function(_=""){let q=0;const b=l(_);return b.stores.forEach(j=>{const J=[];let Z;for(Z=0;Z<j.length;++Z){const oe=j.key(Z);oe.startsWith(b.prefix)&&J.push(oe)}J.forEach(oe=>j.removeItem(oe)),q+=J.length}),q},s.sqlite3_js_kvvfs_size=function(_=""){let q=0;const b=l(_);return b.stores.forEach(j=>{let J;for(J=0;J<j.length;++J){const Z=j.key(J);Z.startsWith(b.prefix)&&(q+=Z.length,q+=j.getItem(Z).length)}}),q*2}}s.sqlite3_db_config=(function(l,_,...q){switch(_){case s.SQLITE_DBCONFIG_ENABLE_FKEY:case s.SQLITE_DBCONFIG_ENABLE_TRIGGER:case s.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case s.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case s.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case s.SQLITE_DBCONFIG_ENABLE_QPSG:case s.SQLITE_DBCONFIG_TRIGGER_EQP:case s.SQLITE_DBCONFIG_RESET_DATABASE:case s.SQLITE_DBCONFIG_DEFENSIVE:case s.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case s.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case s.SQLITE_DBCONFIG_DQS_DML:case s.SQLITE_DBCONFIG_DQS_DDL:case s.SQLITE_DBCONFIG_ENABLE_VIEW:case s.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case s.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case s.SQLITE_DBCONFIG_STMT_SCANSTATUS:case s.SQLITE_DBCONFIG_REVERSE_SCANORDER:case s.SQLITE_DBCONFIG_ENABLE_ATTACH_CREATE:case s.SQLITE_DBCONFIG_ENABLE_ATTACH_WRITE:case s.SQLITE_DBCONFIG_ENABLE_COMMENTS:return this.ip||(this.ip=o.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),this.ip(l,_,q[0],q[1]||0);case s.SQLITE_DBCONFIG_LOOKASIDE:return this.pii||(this.pii=o.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"])),this.pii(l,_,q[0],q[1],q[2]);case s.SQLITE_DBCONFIG_MAINDBNAME:return this.s||(this.s=o.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"])),this.s(l,_,q[0]);default:return s.SQLITE_MISUSE}}).bind(Object.create(null)),s.sqlite3_value_to_js=function(l,_=!0){let q;const b=s.sqlite3_value_type(l);switch(b){case s.SQLITE_INTEGER:o.bigIntEnabled?(q=s.sqlite3_value_int64(l),w.bigIntFitsDouble(q)&&(q=Number(q))):q=s.sqlite3_value_double(l);break;case s.SQLITE_FLOAT:q=s.sqlite3_value_double(l);break;case s.SQLITE_TEXT:q=s.sqlite3_value_text(l);break;case s.SQLITE_BLOB:{const j=s.sqlite3_value_bytes(l),J=s.sqlite3_value_blob(l);j&&!J&&g.WasmAllocError.toss("Cannot allocate memory for blob argument of",j,"byte(s)"),q=j?o.heap8u().slice(J,J+Number(j)):null;break}case s.SQLITE_NULL:q=null;break;default:_&&N(s.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",b),q=void 0}return q},s.sqlite3_values_to_js=function(l,_,q=!0){let b;const j=[];for(b=0;b<l;++b)j.push(s.sqlite3_value_to_js(o.peekPtr(_+o.ptrSizeof*b),q));return j},s.sqlite3_result_error_js=function(l,_){_ instanceof m?s.sqlite3_result_error_nomem(l):s.sqlite3_result_error(l,""+_,-1)},s.sqlite3_result_js=function(l,_){if(_ instanceof Error){s.sqlite3_result_error_js(l,_);return}try{switch(typeof _){case"undefined":break;case"boolean":s.sqlite3_result_int(l,_?1:0);break;case"bigint":w.bigIntFits32(_)?s.sqlite3_result_int(l,Number(_)):w.bigIntFitsDouble(_)?s.sqlite3_result_double(l,Number(_)):o.bigIntEnabled?w.bigIntFits64(_)?s.sqlite3_result_int64(l,_):N("BigInt value",_.toString(),"is too BigInt for int64."):N("BigInt value",_.toString(),"is too BigInt.");break;case"number":{let q;w.isInt32(_)?q=s.sqlite3_result_int:o.bigIntEnabled&&Number.isInteger(_)&&w.bigIntFits64(BigInt(_))?q=s.sqlite3_result_int64:q=s.sqlite3_result_double,q(l,_);break}case"string":{const[q,b]=o.allocCString(_,!0);s.sqlite3_result_text(l,q,b,s.SQLITE_WASM_DEALLOC);break}case"object":if(_===null){s.sqlite3_result_null(l);break}else if(w.isBindableTypedArray(_)){const q=o.allocFromTypedArray(_);s.sqlite3_result_blob(l,q,_.byteLength,s.SQLITE_WASM_DEALLOC);break}default:N("Don't not how to handle this UDF result value:",typeof _,_)}}catch(q){s.sqlite3_result_error_js(l,q)}},s.sqlite3_column_js=function(l,_,q=!0){const b=s.sqlite3_column_value(l,_);return b===0?void 0:s.sqlite3_value_to_js(b,q)};const f=(function(l,_,q){q=s[q],this.ptr?o.pokePtr(this.ptr,0):this.ptr=o.allocPtr();const b=q(l,_,this.ptr);if(b)return C.toss(b,arguments[2]+"() failed with code "+b);const j=o.peekPtr(this.ptr);return j?s.sqlite3_value_to_js(j,!0):void 0}).bind(Object.create(null));s.sqlite3_preupdate_new_js=(l,_)=>f(l,_,"sqlite3_preupdate_new"),s.sqlite3_preupdate_old_js=(l,_)=>f(l,_,"sqlite3_preupdate_old"),s.sqlite3changeset_new_js=(l,_)=>f(l,_,"sqlite3changeset_new"),s.sqlite3changeset_old_js=(l,_)=>f(l,_,"sqlite3changeset_old");const g={WasmAllocError:m,SQLite3Error:C,capi:s,util:w,wasm:o,config:r,version:Object.create(null),client:void 0,asyncPostInit:async function l(){if(l.isReady instanceof Promise)return l.isReady;let _=t.initializersAsync;delete t.initializersAsync;const q=async()=>(g.__isUnderTest||(delete g.util,delete g.StructBinder),g),b=J=>{throw r.error("an async sqlite3 initializer failed:",J),J};if(!_||!_.length)return l.isReady=q().catch(b);_=_.map(J=>J instanceof Function?async Z=>J(g):J),_.push(q);let j=Promise.resolve(g);for(;_.length;)j=j.then(_.shift());return l.isReady=j.catch(b)},scriptInfo:void 0};try{t.initializers.forEach(l=>{l(g)})}catch(l){throw console.error("sqlite3 bootstrap initializer threw:",l),l}return delete t.initializers,t.sqlite3=g,g},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(t){t.bigIntEnabled===void 0&&(t.bigIntEnabled=!!globalThis.BigInt64Array);const n=(...c)=>{throw new Error(c.join(" "))};t.exports||Object.defineProperty(t,"exports",{enumerable:!0,configurable:!0,get:()=>t.instance&&t.instance.exports});const r=t.pointerIR||"i32",s=t.ptrSizeof=r==="i32"?4:r==="i64"?8:n("Unhandled ptrSizeof:",r),o=Object.create(null);o.heapSize=0,o.memory=null,o.freeFuncIndexes=[],o.scopedAlloc=[],o.utf8Decoder=new TextDecoder,o.utf8Encoder=new TextEncoder("utf-8"),t.sizeofIR=c=>{switch(c){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return s;default:return(""+c).endsWith("*")?s:void 0}};const d=function(){if(!o.memory)o.memory=t.memory instanceof WebAssembly.Memory?t.memory:t.exports.memory;else if(o.heapSize===o.memory.buffer.byteLength)return o;const c=o.memory.buffer;return o.HEAP8=new Int8Array(c),o.HEAP8U=new Uint8Array(c),o.HEAP16=new Int16Array(c),o.HEAP16U=new Uint16Array(c),o.HEAP32=new Int32Array(c),o.HEAP32U=new Uint32Array(c),t.bigIntEnabled&&(o.HEAP64=new BigInt64Array(c),o.HEAP64U=new BigUint64Array(c)),o.HEAP32F=new Float32Array(c),o.HEAP64F=new Float64Array(c),o.heapSize=c.byteLength,o};t.heap8=()=>d().HEAP8,t.heap8u=()=>d().HEAP8U,t.heap16=()=>d().HEAP16,t.heap16u=()=>d().HEAP16U,t.heap32=()=>d().HEAP32,t.heap32u=()=>d().HEAP32U,t.heapForSize=function(c,m=!0){const w=o.memory&&o.heapSize===o.memory.buffer.byteLength?o:d();switch(c){case Int8Array:return w.HEAP8;case Uint8Array:return w.HEAP8U;case Int16Array:return w.HEAP16;case Uint16Array:return w.HEAP16U;case Int32Array:return w.HEAP32;case Uint32Array:return w.HEAP32U;case 8:return m?w.HEAP8U:w.HEAP8;case 16:return m?w.HEAP16U:w.HEAP16;case 32:return m?w.HEAP32U:w.HEAP32;case 64:if(w.HEAP64)return m?w.HEAP64U:w.HEAP64;break;default:if(t.bigIntEnabled){if(c===globalThis.BigUint64Array)return w.HEAP64U;if(c===globalThis.BigInt64Array)return w.HEAP64;break}}n("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},t.functionTable=function(){return t.exports.__indirect_function_table},t.functionEntry=function(c){const m=t.functionTable();return c<m.length?m.get(c):void 0},t.jsFuncToWasm=function c(m,w){if(c._||(c._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(g,l,_){_<128?g[l](_):g[l](_%128|128,_>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(g){const l=c._.rxJSig.exec(g);return l?l[2]:g.substr(1)},letterType:g=>c._.sigTypes[g]||n("Invalid signature letter:",g),pushSigType:(g,l)=>g.push(c._.typeCodes[c._.letterType(l)])}),typeof m=="string"){const g=w;w=m,m=g}const z=c._.sigParams(w),f=[1,96];c._.uleb128Encode(f,"push",z.length);for(const g of z)c._.pushSigType(f,g);return w[0]==="v"?f.push(0):(f.push(1),c._.pushSigType(f,w[0])),c._.uleb128Encode(f,"unshift",f.length),f.unshift(0,97,115,109,1,0,0,0,1),f.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(f)),{e:{f:m}}).exports.f};const h=function(m,w,z){if(z&&!o.scopedAlloc.length&&n("No scopedAllocPush() scope is active."),typeof m=="string"){const _=w;w=m,m=_}(typeof w!="string"||!(m instanceof Function))&&n("Invalid arguments: expecting (function,signature) or (signature,function).");const f=t.functionTable(),g=f.length;let l;for(;o.freeFuncIndexes.length&&(l=o.freeFuncIndexes.pop(),f.get(l));){l=null;continue}l||(l=g,f.grow(1));try{return f.set(l,m),z&&o.scopedAlloc[o.scopedAlloc.length-1].push(l),l}catch(_){if(!(_ instanceof TypeError))throw l===g&&o.freeFuncIndexes.push(g),_}try{const _=t.jsFuncToWasm(m,w);f.set(l,_),z&&o.scopedAlloc[o.scopedAlloc.length-1].push(l)}catch(_){throw l===g&&o.freeFuncIndexes.push(g),_}return l};t.installFunction=(c,m)=>h(c,m,!1),t.scopedInstallFunction=(c,m)=>h(c,m,!0),t.uninstallFunction=function(c){if(!c&&c!==0)return;const m=o.freeFuncIndexes,w=t.functionTable();m.push(c);const z=w.get(c);return w.set(c,null),z},t.peek=function(m,w="i8"){w.endsWith("*")&&(w=r);const z=o.memory&&o.heapSize===o.memory.buffer.byteLength?o:d(),f=Array.isArray(m)?[]:void 0;let g;do{switch(f&&(m=arguments[0].shift()),w){case"i1":case"i8":g=z.HEAP8[m>>0];break;case"i16":g=z.HEAP16[m>>1];break;case"i32":g=z.HEAP32[m>>2];break;case"float":case"f32":g=z.HEAP32F[m>>2];break;case"double":case"f64":g=Number(z.HEAP64F[m>>3]);break;case"i64":if(t.bigIntEnabled){g=BigInt(z.HEAP64[m>>3]);break}default:n("Invalid type for peek():",w)}f&&f.push(g)}while(f&&arguments[0].length);return f||g},t.poke=function(c,m,w="i8"){w.endsWith("*")&&(w=r);const z=o.memory&&o.heapSize===o.memory.buffer.byteLength?o:d();for(const f of Array.isArray(c)?c:[c])switch(w){case"i1":case"i8":z.HEAP8[f>>0]=m;continue;case"i16":z.HEAP16[f>>1]=m;continue;case"i32":z.HEAP32[f>>2]=m;continue;case"float":case"f32":z.HEAP32F[f>>2]=m;continue;case"double":case"f64":z.HEAP64F[f>>3]=m;continue;case"i64":if(z.HEAP64){z.HEAP64[f>>3]=BigInt(m);continue}default:n("Invalid type for poke(): "+w)}return this},t.peekPtr=(...c)=>t.peek(c.length===1?c[0]:c,r),t.pokePtr=(c,m=0)=>t.poke(c,m,r),t.peek8=(...c)=>t.peek(c.length===1?c[0]:c,"i8"),t.poke8=(c,m)=>t.poke(c,m,"i8"),t.peek16=(...c)=>t.peek(c.length===1?c[0]:c,"i16"),t.poke16=(c,m)=>t.poke(c,m,"i16"),t.peek32=(...c)=>t.peek(c.length===1?c[0]:c,"i32"),t.poke32=(c,m)=>t.poke(c,m,"i32"),t.peek64=(...c)=>t.peek(c.length===1?c[0]:c,"i64"),t.poke64=(c,m)=>t.poke(c,m,"i64"),t.peek32f=(...c)=>t.peek(c.length===1?c[0]:c,"f32"),t.poke32f=(c,m)=>t.poke(c,m,"f32"),t.peek64f=(...c)=>t.peek(c.length===1?c[0]:c,"f64"),t.poke64f=(c,m)=>t.poke(c,m,"f64"),t.getMemValue=t.peek,t.getPtrValue=t.peekPtr,t.setMemValue=t.poke,t.setPtrValue=t.pokePtr,t.isPtr32=c=>typeof c=="number"&&c===(c|0)&&c>=0,t.isPtr=t.isPtr32,t.cstrlen=function(c){if(!c||!t.isPtr(c))return null;const m=d().HEAP8U;let w=c;for(;m[w]!==0;++w);return w-c};const C=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,N=function(c,m,w){return o.utf8Decoder.decode(c.buffer instanceof C?c.slice(m,w):c.subarray(m,w))};t.cstrToJs=function(c){const m=t.cstrlen(c);return m?N(d().HEAP8U,c,c+m):m===null?m:""},t.jstrlen=function(c){if(typeof c!="string")return null;const m=c.length;let w=0;for(let z=0;z<m;++z){let f=c.charCodeAt(z);f>=55296&&f<=57343&&(f=65536+((f&1023)<<10)|c.charCodeAt(++z)&1023),f<=127?++w:f<=2047?w+=2:f<=65535?w+=3:w+=4}return w},t.jstrcpy=function(c,m,w=0,z=-1,f=!0){if((!m||!(m instanceof Int8Array)&&!(m instanceof Uint8Array))&&n("jstrcpy() target must be an Int8Array or Uint8Array."),z<0&&(z=m.length-w),!(z>0)||!(w>=0))return 0;let g=0,l=c.length;const _=w,q=w+z-(f?1:0);for(;g<l&&w<q;++g){let b=c.charCodeAt(g);if(b>=55296&&b<=57343&&(b=65536+((b&1023)<<10)|c.charCodeAt(++g)&1023),b<=127){if(w>=q)break;m[w++]=b}else if(b<=2047){if(w+1>=q)break;m[w++]=192|b>>6,m[w++]=128|b&63}else if(b<=65535){if(w+2>=q)break;m[w++]=224|b>>12,m[w++]=128|b>>6&63,m[w++]=128|b&63}else{if(w+3>=q)break;m[w++]=240|b>>18,m[w++]=128|b>>12&63,m[w++]=128|b>>6&63,m[w++]=128|b&63}}return f&&(m[w++]=0),w-_},t.cstrncpy=function(c,m,w){if((!c||!m)&&n("cstrncpy() does not accept NULL strings."),w<0)w=t.cstrlen(strPtr)+1;else if(!(w>0))return 0;const z=t.heap8u();let f=0,g;for(;f<w&&(g=z[m+f]);++f)z[c+f]=g;return f<w&&(z[c+f++]=0),f},t.jstrToUintArray=(c,m=!1)=>o.utf8Encoder.encode(m?c+"\0":c);const Q=(c,m)=>{(!(c.alloc instanceof Function)||!(c.dealloc instanceof Function))&&n("Object is missing alloc() and/or dealloc() function(s)","required by",m+"().")},G=function(c,m,w,z){if(Q(t,z),typeof c!="string")return null;{const f=o.utf8Encoder.encode(c),g=w(f.length+1),l=d().HEAP8U;return l.set(f,g),l[g+f.length]=0,m?[g,f.length]:g}};t.allocCString=(c,m=!1)=>G(c,m,t.alloc,"allocCString()"),t.scopedAllocPush=function(){Q(t,"scopedAllocPush");const c=[];return o.scopedAlloc.push(c),c},t.scopedAllocPop=function(c){Q(t,"scopedAllocPop");const m=arguments.length?o.scopedAlloc.indexOf(c):o.scopedAlloc.length-1;m<0&&n("Invalid state object for scopedAllocPop()."),arguments.length===0&&(c=o.scopedAlloc[m]),o.scopedAlloc.splice(m,1);for(let w;w=c.pop();)t.functionEntry(w)?t.uninstallFunction(w):t.dealloc(w)},t.scopedAlloc=function(c){o.scopedAlloc.length||n("No scopedAllocPush() scope is active.");const m=t.alloc(c);return o.scopedAlloc[o.scopedAlloc.length-1].push(m),m},Object.defineProperty(t.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>o.scopedAlloc.length,set:()=>n("The 'active' property is read-only.")}),t.scopedAllocCString=(c,m=!1)=>G(c,m,t.scopedAlloc,"scopedAllocCString()");const P=function(c,m){const w=t[c?"scopedAlloc":"alloc"]((m.length+1)*t.ptrSizeof);let z=0;return m.forEach(f=>{t.pokePtr(w+t.ptrSizeof*z++,t[c?"scopedAllocCString":"allocCString"](""+f))}),t.pokePtr(w+t.ptrSizeof*z,0),w};t.scopedAllocMainArgv=c=>P(!0,c),t.allocMainArgv=c=>P(!1,c),t.cArgvToJs=(c,m)=>{const w=[];for(let z=0;z<c;++z){const f=t.peekPtr(m+t.ptrSizeof*z);w.push(f?t.cstrToJs(f):null)}return w},t.scopedAllocCall=function(c){t.scopedAllocPush();try{return c()}finally{t.scopedAllocPop()}};const A=function(c,m,w){Q(t,w);const z=m?"i64":r;let f=t[w](c*(m?8:s));if(t.poke(f,0,z),c===1)return f;const g=[f];for(let l=1;l<c;++l)f+=m?8:s,g[l]=f,t.poke(f,0,z);return g};t.allocPtr=(c=1,m=!0)=>A(c,m,"alloc"),t.scopedAllocPtr=(c=1,m=!0)=>A(c,m,"scopedAlloc"),t.xGet=function(c){return t.exports[c]||n("Cannot find exported symbol:",c)};const R=(c,m)=>n(c+"() requires",m,"argument(s).");t.xCall=function(c,...m){const w=c instanceof Function?c:t.xGet(c);return w instanceof Function||n("Exported symbol",c,"is not a function."),w.length!==m.length&&R(w===c?w.name:c,w.length),arguments.length===2&&Array.isArray(arguments[1])?w.apply(null,arguments[1]):w.apply(null,m)},o.xWrap=Object.create(null),o.xWrap.convert=Object.create(null),o.xWrap.convert.arg=new Map,o.xWrap.convert.result=new Map;const y=o.xWrap.convert.arg,E=o.xWrap.convert.result;t.bigIntEnabled&&y.set("i64",c=>BigInt(c));const T=r==="i32"?c=>c|0:c=>BigInt(c)|BigInt(0);y.set("i32",T).set("i16",c=>(c|0)&65535).set("i8",c=>(c|0)&255).set("f32",c=>Number(c).valueOf()).set("float",y.get("f32")).set("f64",y.get("f32")).set("double",y.get("f64")).set("int",y.get("i32")).set("null",c=>c).set(null,y.get("null")).set("**",T).set("*",T),E.set("*",T).set("pointer",T).set("number",c=>Number(c)).set("void",c=>{}).set("null",c=>c).set(null,E.get("null"));{const c=["i8","i16","i32","int","f32","float","f64","double"];t.bigIntEnabled&&c.push("i64");const m=y.get(r);for(const w of c)y.set(w+"*",m),E.set(w+"*",m),E.set(w,y.get(w)||n("Missing arg converter:",w))}const O=function(c){return typeof c=="string"?t.scopedAllocCString(c):c?T(c):null};y.set("string",O).set("utf8",O).set("pointer",O),E.set("string",c=>t.cstrToJs(c)).set("utf8",E.get("string")).set("string:dealloc",c=>{try{return c?t.cstrToJs(c):null}finally{t.dealloc(c)}}).set("utf8:dealloc",E.get("string:dealloc")).set("json",c=>JSON.parse(t.cstrToJs(c))).set("json:dealloc",c=>{try{return c?JSON.parse(t.cstrToJs(c)):null}finally{t.dealloc(c)}});const D=class{constructor(c){this.name=c.name||"unnamed adapter"}convertArg(c,m,w){n("AbstractArgAdapter must be subclassed.")}};y.FuncPtrAdapter=class Ue extends D{constructor(m){super(m),y.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",m),this.name=m.name||"unnamed",this.signature=m.signature,m.contextKey instanceof Function&&(this.contextKey=m.contextKey,m.bindScope||(m.bindScope="context")),this.bindScope=m.bindScope||n("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Ue.bindScopes.indexOf(m.bindScope)<0&&n("Invalid options.bindScope ("+m.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Ue.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=m.callProxy instanceof Function?m.callProxy:void 0}contextKey(m,w){return this}contextMap(m){const w=this.__cmap||(this.__cmap=new Map);let z=w.get(m);return z===void 0&&w.set(m,z=[]),z}convertArg(m,w,z){let f=this.singleton;if(!f&&this.isContext&&(f=this.contextMap(this.contextKey(w,z))),f&&f[0]===m)return f[1];if(m instanceof Function){this.callProxy&&(m=this.callProxy(m));const g=h(m,this.signature,this.isTransient);if(Ue.debugFuncInstall&&Ue.debugOut("FuncPtrAdapter installed",this,this.contextKey(w,z),"@"+g,m),f){if(f[1]){Ue.debugFuncInstall&&Ue.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(w,z),"@"+f[1],m);try{o.scopedAlloc[o.scopedAlloc.length-1].push(f[1])}catch{}}f[0]=m,f[1]=g}return g}else if(t.isPtr(m)||m===null||m===void 0){if(f&&f[1]&&f[1]!==m){Ue.debugFuncInstall&&Ue.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(w,z),"@"+f[1],m);try{o.scopedAlloc[o.scopedAlloc.length-1].push(f[1])}catch{}f[0]=f[1]=m|0}return m||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},y.FuncPtrAdapter.warnOnUse=!1,y.FuncPtrAdapter.debugFuncInstall=!1,y.FuncPtrAdapter.debugOut=console.debug.bind(console),y.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const S=c=>y.get(c)||n("Argument adapter not found:",c),M=c=>E.get(c)||n("Result adapter not found:",c);o.xWrap.convertArg=(c,...m)=>S(c)(...m),o.xWrap.convertArgNoCheck=(c,...m)=>y.get(c)(...m),o.xWrap.convertResult=(c,m)=>c===null?m:c?M(c)(m):void 0,o.xWrap.convertResultNoCheck=(c,m)=>c===null?m:c?E.get(c)(m):void 0,t.xWrap=function(c,m,...w){arguments.length===3&&Array.isArray(arguments[2])&&(w=arguments[2]),t.isPtr(c)&&(c=t.functionEntry(c)||n("Function pointer not found in WASM function table."));const z=c instanceof Function,f=z?c:t.xGet(c);if(z&&(c=f.name||"unnamed function"),w.length!==f.length&&R(c,f.length),m===null&&f.length===0)return f;m!=null&&M(m);for(const l of w)l instanceof D?y.set(l,(..._)=>l.convertArg(..._)):S(l);const g=o.xWrap;return f.length===0?(...l)=>l.length?R(c,f.length):g.convertResult(m,f.call(null)):function(...l){l.length!==f.length&&R(c,f.length);const _=t.scopedAllocPush();try{let q=0;for(;q<l.length;++q)l[q]=g.convertArgNoCheck(w[q],l[q],l,q);return g.convertResultNoCheck(m,f.apply(null,l))}finally{t.scopedAllocPop(_)}}};const W=function(c,m,w,z,f,g){if(typeof w=="string"){if(m===1)return g.get(w);if(m===2){if(z)z instanceof Function||n(f,"requires a function argument.");else return g.delete(w),c;return g.set(w,z),c}}n("Invalid arguments to",f)};return t.xWrap.resultAdapter=function c(m,w){return W(c,arguments.length,m,w,"resultAdapter()",E)},t.xWrap.argAdapter=function c(m,w){return W(c,arguments.length,m,w,"argAdapter()",y)},t.xWrap.FuncPtrAdapter=y.FuncPtrAdapter,t.xCallWrapped=function(c,m,w,...z){return Array.isArray(arguments[3])&&(z=arguments[3]),t.xWrap(c,m,w||[]).apply(null,z||[])},t.xWrap.testConvertArg=o.xWrap.convertArg,t.xWrap.testConvertResult=o.xWrap.convertResult,t},globalThis.WhWasmUtilInstaller.yawl=(function(t){const n=()=>fetch(t.uri,{credentials:"same-origin"}),r=this,s=function(d){if(t.wasmUtilTarget){const h=(...N)=>{throw new Error(N.join(" "))},C=t.wasmUtilTarget;if(C.module=d.module,C.instance=d.instance,C.instance.exports.memory||(C.memory=t.imports&&t.imports.env&&t.imports.env.memory||h("Missing 'memory' object!")),!C.alloc&&d.instance.exports.malloc){const N=d.instance.exports;C.alloc=function(Q){return N.malloc(Q)||h("Allocation of",Q,"bytes failed.")},C.dealloc=function(Q){N.free(Q)}}r(C)}return t.onload&&t.onload(d,t),d};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(n(),t.imports||{}).then(s)}:function(){return n().then(h=>h.arrayBuffer()).then(h=>WebAssembly.instantiate(h,t.imports||{})).then(s)}}).bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function t(n){const r=(...u)=>{throw new Error(u.join(" "))};!(n.heap instanceof WebAssembly.Memory)&&!(n.heap instanceof Function)&&r("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(u){n[u]instanceof Function||r("Config option '"+u+"' must be a function.")});const s=t,o=n.heap instanceof Function?n.heap:()=>new Uint8Array(n.heap.buffer),d=n.alloc,h=n.dealloc,C=n.log||console.log.bind(console),N=n.memberPrefix||"",Q=n.memberSuffix||"",G=n.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!n.bigIntEnabled,P=globalThis.BigInt,A=globalThis.BigInt64Array,R=n.ptrSizeof||4,y=n.ptrIR||"i32";s.debugFlags||(s.__makeDebugFlags=function(u=null){u&&u.__flags&&(u=u.__flags);const x=function I(F){return arguments.length===0?I.__flags:(F<0?(delete I.__flags.getter,delete I.__flags.setter,delete I.__flags.alloc,delete I.__flags.dealloc):(I.__flags.getter=(1&F)!==0,I.__flags.setter=(2&F)!==0,I.__flags.alloc=(4&F)!==0,I.__flags.dealloc=(8&F)!==0),I._flags)};return Object.defineProperty(x,"__flags",{iterable:!1,writable:!1,value:Object.create(u)}),u||x(0),x},s.debugFlags=s.__makeDebugFlags());const E=(function(){const u=new ArrayBuffer(2);return new DataView(u).setInt16(0,256,!0),new Int16Array(u)[0]===256})(),T=u=>u[1]==="(",O=u=>u==="P",D=u=>T(u)?"p":u[0],S=function(u){switch(D(u)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return y;case"j":return"i64";case"f":return"float";case"d":return"double"}r("Unhandled signature IR:",u)},M=A?()=>!0:()=>r("BigInt64Array is not available."),W=function(u){switch(D(u)){case"p":case"P":case"s":{switch(R){case 4:return"getInt32";case 8:return M()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return M()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}r("Unhandled DataView getter for signature:",u)},c=function(u){switch(D(u)){case"p":case"P":case"s":{switch(R){case 4:return"setInt32";case 8:return M()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return M()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}r("Unhandled DataView setter for signature:",u)},m=function(u){switch(D(u)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return M()&&P;case"p":case"P":case"s":switch(R){case 4:return Number;case 8:return M()&&P}break}r("Unhandled DataView set wrapper for signature:",u)},w=(u,x)=>u+"::"+x,z=function(u,x){return()=>r(w(u,x),"is read-only.")},f=new WeakMap,g="(pointer-is-external)",l=function(u,x,I){if(I||(I=f.get(x)),I){if(f.delete(x),Array.isArray(x.ondispose)){let F;for(;F=x.ondispose.shift();)try{F instanceof Function?F.call(x):F instanceof V?F.dispose():typeof F=="number"&&h(F)}catch(H){console.warn("ondispose() for",u.structName,"@",I,"threw. NOT propagating it.",H)}}else if(x.ondispose instanceof Function)try{x.ondispose()}catch(F){console.warn("ondispose() for",u.structName,"@",I,"threw. NOT propagating it.",F)}delete x.ondispose,u.debugFlags.__flags.dealloc&&C("debug.dealloc:",x[g]?"EXTERNAL":"",u.structName,"instance:",u.structInfo.sizeof,"bytes @"+I),x[g]||h(I)}},_=u=>({configurable:!1,writable:!1,iterable:!1,value:u}),q=function(u,x,I){let F=!I;I?Object.defineProperty(x,g,_(I)):(I=d(u.structInfo.sizeof),I||r("Allocation of",u.structName,"structure failed."));try{u.debugFlags.__flags.alloc&&C("debug.alloc:",F?"":"EXTERNAL",u.structName,"instance:",u.structInfo.sizeof,"bytes @"+I),F&&o().fill(0,I,I+u.structInfo.sizeof),f.set(x,I)}catch(H){throw l(u,x,I),H}},b=function(){const u=this.pointer;return u?new Uint8Array(o().slice(u,u+this.structInfo.sizeof)):null},J=_(u=>N+u+Q),Z=function(u,x,I=!0){let F=u.members[x];if(!F&&(N||Q)){for(const H of Object.values(u.members))if(H.key===x){F=H;break}!F&&I&&r(w(u.name,x),"is not a mapped struct member.")}return F},oe=function u(x,I,F=!1){u._||(u._=X=>X.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const H=Z(x.structInfo,I,!0);return F?u._(H.signature):H.signature},se={configurable:!1,enumerable:!1,get:function(){return f.get(this)},set:()=>r("Cannot assign the 'pointer' property of a struct.")},re=_(function(){const u=[];for(const x of Object.keys(this.structInfo.members))u.push(this.memberKey(x));return u}),le=new TextDecoder("utf-8"),pe=new TextEncoder,he=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,fe=function(u,x,I){return le.decode(u.buffer instanceof he?u.slice(x,I):u.subarray(x,I))},Ee=function(u,x,I=!1){const F=Z(u.structInfo,x,I);return F&&F.signature.length===1&&F.signature[0]==="s"?F:!1},ke=function(u){u.signature!=="s"&&r("Invalid member type signature for C-string value:",JSON.stringify(u))},k=function(x,I){const F=Z(x.structInfo,I,!0);ke(F);const H=x[F.key];if(!H)return null;let X=H;const te=o();for(;te[X]!==0;++X);return H===X?"":fe(te,H,X)},U=function(u,...x){u.ondispose?Array.isArray(u.ondispose)||(u.ondispose=[u.ondispose]):u.ondispose=[],u.ondispose.push(...x)},B=function(u){const x=pe.encode(u),I=d(x.length+1);I||r("Allocation error while duplicating string:",u);const F=o();return F.set(x,I),F[I+x.length]=0,I},K=function(u,x,I){const F=Z(u.structInfo,x,!0);ke(F);const H=B(I);return u[F.key]=H,U(u,H),u},V=function(x,I){arguments[2]!==_&&r("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:_(x),structInfo:_(I)})};V.prototype=Object.create(null,{dispose:_(function(){l(this.constructor,this)}),lookupMember:_(function(u,x=!0){return Z(this.structInfo,u,x)}),memberToJsString:_(function(u){return k(this,u)}),memberIsString:_(function(u,x=!0){return Ee(this,u,x)}),memberKey:J,memberKeys:re,memberSignature:_(function(u,x=!1){return oe(this,u,x)}),memoryDump:_(b),pointer:se,setMemberCString:_(function(u,x){return K(this,u,x)})}),Object.assign(V.prototype,{addOnDispose:function(...u){return U(this,...u),this}}),Object.defineProperties(V,{allocCString:_(B),isA:_(u=>u instanceof V),hasExternalPointer:_(u=>u instanceof V&&!!u[g]),memberKey:J});const ee=u=>Number.isFinite(u)||u instanceof(P||Number),Y=function u(x,I,F){if(!u._){u._={getters:{},setters:{},sw:{}};const Ae=["i","c","C","p","P","s","f","d","v()"];G&&Ae.push("j"),Ae.forEach(function(De){u._.getters[De]=W(De),u._.setters[De]=c(De),u._.sw[De]=m(De)});const lr=/^[ipPsjfdcC]$/,ar=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;u.sigCheck=function(De,cr,Ut,yt){Object.prototype.hasOwnProperty.call(De,Ut)&&r(De.structName,"already has a property named",Ut+"."),lr.test(yt)||ar.test(yt)||r("Malformed signature for",w(De.structName,cr)+":",yt)}}const H=x.memberKey(I);u.sigCheck(x.prototype,I,H,F.signature),F.key=H,F.name=I;const X=D(F.signature),te=w(x.prototype.structName,H),_e=x.prototype.debugFlags.__flags,Te=Object.create(null);Te.configurable=!1,Te.enumerable=!1,Te.get=function(){_e.getter&&C("debug.getter:",u._.getters[X],"for",S(X),te,"@",this.pointer,"+",F.offset,"sz",F.sizeof);let Ae=new DataView(o().buffer,this.pointer+F.offset,F.sizeof)[u._.getters[X]](0,E);return _e.getter&&C("debug.getter:",te,"result =",Ae),Ae},F.readOnly?Te.set=z(x.prototype.structName,H):Te.set=function(Ae){if(_e.setter&&C("debug.setter:",u._.setters[X],"for",S(X),te,"@",this.pointer,"+",F.offset,"sz",F.sizeof,Ae),this.pointer||r("Cannot set struct property on disposed instance."),Ae===null)Ae=0;else for(;!ee(Ae);){if(O(F.signature)&&Ae instanceof V){Ae=Ae.pointer||0,_e.setter&&C("debug.setter:",te,"resolved to",Ae);break}r("Invalid value for pointer-type",te+".")}new DataView(o().buffer,this.pointer+F.offset,F.sizeof)[u._.setters[X]](0,u._.sw[X](Ae),E)},Object.defineProperty(x.prototype,H,Te)},L=function u(x,I){arguments.length===1?(I=x,x=I.name):I.name||(I.name=x),x||r("Struct name is required.");let F=!1;Object.keys(I.members).forEach(te=>{const _e=I.members[te];_e.sizeof?_e.sizeof===1?_e.signature==="c"||_e.signature==="C"||r("Unexpected sizeof==1 member",w(I.name,te),"with signature",_e.signature):(_e.sizeof%4!==0&&(console.warn("Invalid struct member description =",_e,"from",I),r(x,"member",te,"sizeof is not aligned. sizeof="+_e.sizeof)),_e.offset%4!==0&&(console.warn("Invalid struct member description =",_e,"from",I),r(x,"member",te,"offset is not aligned. offset="+_e.offset))):r(x,"member",te,"is missing sizeof."),(!F||F.offset<_e.offset)&&(F=_e)}),F?I.sizeof<F.offset+F.sizeof&&r("Invalid struct config:",x,"max member offset ("+F.offset+") ","extends past end of struct (sizeof="+I.sizeof+")."):r("No member property descriptions found.");const H=_(s.__makeDebugFlags(u.debugFlags)),X=function te(_e){this instanceof te?arguments.length?((_e!==(_e|0)||_e<=0)&&r("Invalid pointer value for",x,"constructor."),q(te,this,_e)):q(te,this):r("The",x,"constructor may only be called via 'new'.")};return Object.defineProperties(X,{debugFlags:H,isA:_(te=>te instanceof X),memberKey:J,memberKeys:re,methodInfoForKey:_(function(te){}),structInfo:_(I),structName:_(x)}),X.prototype=new V(x,I,_),Object.defineProperties(X.prototype,{debugFlags:H,constructor:_(X)}),Object.keys(I.members).forEach(te=>Y(X,te,I.members[te])),X};return L.StructType=V,L.config=n,L.allocCString=B,L.debugFlags||(L.debugFlags=s.__makeDebugFlags(s.debugFlags)),L},globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=(...y)=>{throw new Error(y.join(" "))};t.SQLite3Error.toss;const r=t.capi,s=t.wasm,o=t.util;if(globalThis.WhWasmUtilInstaller(s),delete globalThis.WhWasmUtilInstaller,s.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(y,E)=>y[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:y=>y[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new s.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:y=>{let E;return(T,O,D,S)=>{try{const M=s.cArgvToJs(O,D);return E||(E=s.cArgvToJs(O,S)),y(M,E)|0}catch(M){return M.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:y=>y[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*","*"]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(y,E)=>y[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],s.exports.sqlite3_progress_handler&&s.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(y,E)=>y[0]}),"*"]]),s.exports.sqlite3_stmt_explain&&s.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),s.exports.sqlite3_set_authorizer&&s.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(y,E)=>y[0],callProxy:y=>(E,T,O,D,S,M)=>{try{return O=O&&s.cstrToJs(O),D=D&&s.cstrToJs(D),S=S&&s.cstrToJs(S),M=M&&s.cstrToJs(M),y(E,T,O,D,S,M)||0}catch(W){return W.resultCode||r.SQLITE_ERROR}}}),"*"]]),s.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:y=>y[0],callProxy:y=>(E,T,O,D,S)=>{y(E,T,s.cstrToJs(O),s.cstrToJs(D),S)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],s.bigIntEnabled&&s.exports.sqlite3_declare_vtab&&s.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),s.bigIntEnabled&&s.exports.sqlite3_preupdate_hook&&s.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:y=>y[0],callProxy:y=>(E,T,O,D,S,M,W)=>{y(E,T,O,s.cstrToJs(D),s.cstrToJs(S),M,W)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),s.bigIntEnabled&&s.exports.sqlite3changegroup_add&&s.exports.sqlite3session_create&&s.exports.sqlite3_preupdate_hook){const y={signature:"i(ps)",callProxy:E=>(T,O)=>{try{return E(T,s.cstrToJs(O))|0}catch(D){return D.resultCode||r.SQLITE_ERROR}}};s.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...y}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...y}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...y}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...y}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xFilter",...y,contextKey:(E,T)=>E[0]}),"*"]])}s.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],t.StructBinder=globalThis.Jaccwabyt({heap:s.heap8u,alloc:s.alloc,dealloc:s.dealloc,bigIntEnabled:s.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const y=s.xWrap.argAdapter("string");s.xWrap.argAdapter("string:flexible",S=>y(o.flexibleString(S))),s.xWrap.argAdapter("string:static",(function(S){return s.isPtr(S)?S:(S=""+S,this[S]||(this[S]=s.allocCString(S)))}).bind(Object.create(null)));const E=s.xWrap.argAdapter("*"),T=function(){};s.xWrap.argAdapter("sqlite3_filename",E)("sqlite3_context*",E)("sqlite3_value*",E)("void*",E)("sqlite3_changegroup*",E)("sqlite3_changeset_iter*",E)("sqlite3_session*",E)("sqlite3_stmt*",S=>{var M;return E(S instanceof(((M=t==null?void 0:t.oo1)==null?void 0:M.Stmt)||T)?S.pointer:S)})("sqlite3*",S=>{var M;return E(S instanceof(((M=t==null?void 0:t.oo1)==null?void 0:M.DB)||T)?S.pointer:S)})("sqlite3_vfs*",S=>typeof S=="string"?r.sqlite3_vfs_find(S)||t.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",S):E(S instanceof(r.sqlite3_vfs||T)?S.pointer:S)),s.exports.sqlite3_declare_vtab&&s.xWrap.argAdapter("sqlite3_index_info*",S=>E(S instanceof(r.sqlite3_index_info||T)?S.pointer:S))("sqlite3_module*",S=>E(S instanceof(r.sqlite3_module||T)?S.pointer:S));const O=s.xWrap.resultAdapter("*");s.xWrap.resultAdapter("sqlite3*",O)("sqlite3_context*",O)("sqlite3_stmt*",O)("sqlite3_value*",O)("sqlite3_vfs*",O)("void*",O),s.exports.sqlite3_step.length===0&&(s.xWrap.doArgcCheck=!1,t.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const S of s.bindingSignatures)r[S[0]]=s.xWrap.apply(null,S);for(const S of s.bindingSignatures.wasmInternal)o[S[0]]=s.xWrap.apply(null,S);const D=function(S){return()=>n(S+"() is unavailable due to lack","of BigInt support in this build.")};for(const S of s.bindingSignatures.int64)r[S[0]]=s.bigIntEnabled?s.xWrap.apply(null,S):D(S[0]);if(delete s.bindingSignatures,s.exports.sqlite3__wasm_db_error){const S=s.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");o.sqlite3__wasm_db_error=function(M,W,c){return W instanceof t.WasmAllocError?(W=r.SQLITE_NOMEM,c=0):W instanceof Error&&(c=c||""+W,W=W.resultCode||r.SQLITE_ERROR),M?S(M,W,c):W}}else o.sqlite3__wasm_db_error=function(S,M,W){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),M}}{const y=s.xCall("sqlite3__wasm_enum_json");y||n("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),s.ctype=JSON.parse(s.cstrToJs(y));const E=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];s.bigIntEnabled&&E.push("serialize","session","vtab");for(const D of E)for(const S of Object.entries(s.ctype[D]))r[S[0]]=S[1];s.functionEntry(r.SQLITE_WASM_DEALLOC)||n("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");const T=Object.create(null);for(const D of["resultCodes"])for(const S of Object.entries(s.ctype[D]))T[S[1]]=S[0];r.sqlite3_js_rc_str=D=>T[D];const O=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!o.isUIThread(),sqlite3_index_info:!s.bigIntEnabled,sqlite3_index_constraint:!s.bigIntEnabled,sqlite3_index_orderby:!s.bigIntEnabled,sqlite3_index_constraint_usage:!s.bigIntEnabled});for(const D of s.ctype.structs)O[D.name]||(r[D.name]=t.StructBinder(D));if(r.sqlite3_index_info){for(const D of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[D]=r[D],delete r[D];r.sqlite3_vtab_config=s.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const d=(y,E,T)=>o.sqlite3__wasm_db_error(y,r.SQLITE_MISUSE,E+"() requires "+T+" argument"+(T===1?"":"s")+"."),h=y=>o.sqlite3__wasm_db_error(y,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),C=y=>s.xWrap.argAdapter("sqlite3*")(y),N=y=>s.isPtr(y)?s.cstrToJs(y):y,Q=(function(y,E){y=C(y);let T=this.dbMap.get(y);if(E)!T&&E>0&&this.dbMap.set(y,T=Object.create(null));else return this.dbMap.delete(y),T;return T}).bind(Object.assign(Object.create(null),{dbMap:new Map}));Q.addCollation=function(y,E){const T=Q(y,1);T.collation||(T.collation=new Set),T.collation.add(N(E).toLowerCase())},Q._addUDF=function(y,E,T,O){E=N(E).toLowerCase();let D=O.get(E);D||O.set(E,D=new Set),D.add(T<0?-1:T)},Q.addFunction=function(y,E,T){const O=Q(y,1);O.udf||(O.udf=new Map),this._addUDF(y,E,T,O.udf)},s.exports.sqlite3_create_window_function&&(Q.addWindowFunc=function(y,E,T){const O=Q(y,1);O.wudf||(O.wudf=new Map),this._addUDF(y,E,T,O.wudf)}),Q.cleanup=function(y){y=C(y);const E=[y];for(const D of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const S=s.exports[D];if(S){E.length=S.length;try{r[D](...E)}catch(M){t.config.warn("close-time call of",D+"(",E,") threw:",M)}}}const T=Q(y,0);if(!T)return;if(T.collation){for(const D of T.collation)try{r.sqlite3_create_collation_v2(y,D,r.SQLITE_UTF8,0,0,0)}catch{}delete T.collation}let O;for(O=0;O<2;++O){const D=O?T.wudf:T.udf;if(!D)continue;const S=O?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(const M of D){const W=M[0],c=M[1],m=[y,W,0,r.SQLITE_UTF8,0,0,0,0,0];O&&m.push(0);for(const w of c)try{m[2]=w,S.apply(null,m)}catch{}c.clear()}D.clear()}delete T.udf,delete T.wudf};{const y=s.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(E){if(arguments.length!==1)return d(E,"sqlite3_close_v2",1);if(E)try{Q.cleanup(E)}catch{}return y(E)}}if(r.sqlite3session_create){const y=s.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(E){if(arguments.length!==1)return d(pDb,"sqlite3session_delete",1);E&&r.sqlite3session_table_filter(E,0,0),y(E)}}{const y=(T,O)=>"argv["+O+"]:"+T[0]+":"+s.cstrToJs(T[1]).toLowerCase(),E=s.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new s.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:y}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:y})]);r.sqlite3_create_collation_v2=function(T,O,D,S,M,W){if(arguments.length!==6)return d(T,"sqlite3_create_collation_v2",6);if((D&15)===0)D|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(D&15))return h(T);try{const c=E(T,O,D,S,M,W);return c===0&&M instanceof Function&&Q.addCollation(T,O),c}catch(c){return o.sqlite3__wasm_db_error(T,c)}},r.sqlite3_create_collation=(T,O,D,S,M)=>arguments.length===5?r.sqlite3_create_collation_v2(T,O,D,S,M,0):d(T,"sqlite3_create_collation",5)}{const y=function(D,S){return D[0]+":"+(D[2]<0?-1:D[2])+":"+S+":"+s.cstrToJs(D[1]).toLowerCase()},E=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:y,callProxy:D=>(S,M,W)=>{try{D(S,...r.sqlite3_values_to_js(M,W))}catch(c){r.sqlite3_result_error_js(S,c)}}},xFinalAndValue:{signature:"v(p)",contextKey:y,callProxy:D=>S=>{try{r.sqlite3_result_js(S,D(S))}catch(M){r.sqlite3_result_error_js(S,M)}}},xFunc:{signature:"v(pip)",contextKey:y,callProxy:D=>(S,M,W)=>{try{r.sqlite3_result_js(S,D(S,...r.sqlite3_values_to_js(M,W)))}catch(c){r.sqlite3_result_error_js(S,c)}}},xDestroy:{signature:"v(p)",contextKey:y,callProxy:D=>S=>{try{D(S)}catch(M){console.error("UDF xDestroy method threw:",M)}}}}),T=s.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xFunc",...E.xFunc}),new s.xWrap.FuncPtrAdapter({name:"xStep",...E.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...E.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...E.xDestroy})]),O=s.exports.sqlite3_create_window_function?s.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xStep",...E.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...E.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xValue",...E.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xInverse",...E.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...E.xDestroy})]):void 0;r.sqlite3_create_function_v2=function D(S,M,W,c,m,w,z,f,g){if(D.length!==arguments.length)return d(S,"sqlite3_create_function_v2",D.length);if((c&15)===0)c|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(c&15))return h(S);try{const l=T(S,M,W,c,m,w,z,f,g);return l===0&&(w instanceof Function||z instanceof Function||f instanceof Function||g instanceof Function)&&Q.addFunction(S,M,W),l}catch(l){return console.error("sqlite3_create_function_v2() setup threw:",l),o.sqlite3__wasm_db_error(S,l,"Creation of UDF threw: "+l)}},r.sqlite3_create_function=function D(S,M,W,c,m,w,z,f){return D.length===arguments.length?r.sqlite3_create_function_v2(S,M,W,c,m,w,z,f,0):d(S,"sqlite3_create_function",D.length)},O?r.sqlite3_create_window_function=function D(S,M,W,c,m,w,z,f,g,l){if(D.length!==arguments.length)return d(S,"sqlite3_create_window_function",D.length);if((c&15)===0)c|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(c&15))return h(S);try{const _=O(S,M,W,c,m,w,z,f,g,l);return _===0&&(w instanceof Function||z instanceof Function||f instanceof Function||g instanceof Function||l instanceof Function)&&Q.addWindowFunc(S,M,W),_}catch(_){return console.error("sqlite3_create_window_function() setup threw:",_),o.sqlite3__wasm_db_error(S,_,"Creation of UDF threw: "+_)}}:delete r.sqlite3_create_window_function,r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js),r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js),r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_result_error_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js)}{const y=(T,O)=>(typeof T=="string"?O=-1:o.isSQLableTypedArray(T)?(O=T.byteLength,T=o.typedArrayToString(T instanceof ArrayBuffer?new Uint8Array(T):T)):Array.isArray(T)&&(T=T.join(""),O=-1),[T,O]),E={basic:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function T(O,D,S,M,W,c){if(T.length!==arguments.length)return d(O,"sqlite3_prepare_v3",T.length);const[m,w]=y(D,S);switch(typeof m){case"string":return E.basic(O,m,w,M,W,null);case"number":return E.full(O,m,w,M,W,c);default:return o.sqlite3__wasm_db_error(O,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function T(O,D,S,M,W){return T.length===arguments.length?r.sqlite3_prepare_v3(O,D,S,0,M,W):d(O,"sqlite3_prepare_v2",T.length)}}{const y=s.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),E=s.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function T(O,D,S,M,W){if(T.length!==arguments.length)return d(r.sqlite3_db_handle(O),"sqlite3_bind_text",T.length);if(s.isPtr(S)||S===null)return y(O,D,S,M,W);S instanceof ArrayBuffer?S=new Uint8Array(S):Array.isArray(pMem)&&(S=pMem.join(""));let c,m;try{if(o.isSQLableTypedArray(S))c=s.allocFromTypedArray(S),m=S.byteLength;else if(typeof S=="string")[c,m]=s.allocCString(S);else return o.sqlite3__wasm_db_error(r.sqlite3_db_handle(O),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return y(O,D,c,m,r.SQLITE_WASM_DEALLOC)}catch(w){return s.dealloc(c),o.sqlite3__wasm_db_error(r.sqlite3_db_handle(O),w)}},r.sqlite3_bind_blob=function T(O,D,S,M,W){if(T.length!==arguments.length)return d(r.sqlite3_db_handle(O),"sqlite3_bind_blob",T.length);if(s.isPtr(S)||S===null)return E(O,D,S,M,W);S instanceof ArrayBuffer?S=new Uint8Array(S):Array.isArray(S)&&(S=S.join(""));let c,m;try{if(o.isBindableTypedArray(S))c=s.allocFromTypedArray(S),m=M>=0?M:S.byteLength;else if(typeof S=="string")[c,m]=s.allocCString(S);else return o.sqlite3__wasm_db_error(r.sqlite3_db_handle(O),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return E(O,D,c,m,r.SQLITE_WASM_DEALLOC)}catch(w){return s.dealloc(c),o.sqlite3__wasm_db_error(r.sqlite3_db_handle(O),w)}}}r.sqlite3_config=function(y,...E){if(arguments.length<2)return r.SQLITE_MISUSE;switch(y){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return s.exports.sqlite3__wasm_config_i(y,E[0]);case r.SQLITE_CONFIG_LOOKASIDE:return s.exports.sqlite3__wasm_config_ii(y,E[0],E[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return s.exports.sqlite3__wasm_config_j(y,E[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{const y=new Set;r.sqlite3_auto_extension=function(E){if(E instanceof Function)E=s.installFunction("i(ppp)",E);else if(arguments.length!==1||!s.isPtr(E))return r.SQLITE_MISUSE;const T=s.exports.sqlite3_auto_extension(E);return E!==arguments[0]&&(T===0?y.add(E):s.uninstallFunction(E)),T},r.sqlite3_cancel_auto_extension=function(E){return!E||arguments.length!==1||!s.isPtr(E)?0:s.exports.sqlite3_cancel_auto_extension(E)},r.sqlite3_reset_auto_extension=function(){s.exports.sqlite3_reset_auto_extension();for(const E of y)s.uninstallFunction(E);y.clear()}}const G=r.sqlite3_vfs_find("kvvfs");if(G)if(o.isUIThread()){const y=new r.sqlite3_kvvfs_methods(s.exports.sqlite3__wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;const E=s.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,T=s.pstack,O=S=>s.peek(S)===115?sessionStorage:localStorage,D={xRead:(S,M,W,c)=>{const m=T.pointer,w=s.scopedAllocPush();try{const z=E(S,M);if(!z)return-3;const f=s.cstrToJs(z),g=O(S).getItem(f);if(!g)return-1;const l=g.length;if(c<=0)return l;if(c===1)return s.poke(W,0),l;const _=s.scopedAllocCString(g);return c>l+1&&(c=l+1),s.heap8u().copyWithin(W,_,_+c-1),s.poke(W+c-1,0),c-1}catch(z){return console.error("kvstorageRead()",z),-2}finally{T.restore(m),s.scopedAllocPop(w)}},xWrite:(S,M,W)=>{const c=T.pointer;try{const m=E(S,M);if(!m)return 1;const w=s.cstrToJs(m);return O(S).setItem(w,s.cstrToJs(W)),0}catch(m){return console.error("kvstorageWrite()",m),r.SQLITE_IOERR}finally{T.restore(c)}},xDelete:(S,M)=>{const W=T.pointer;try{const c=E(S,M);return c?(O(S).removeItem(s.cstrToJs(c)),0):1}catch(c){return console.error("kvstorageDelete()",c),r.SQLITE_IOERR}finally{T.restore(W)}}};for(const S of Object.keys(D))y[y.memberKey(S)]=s.installFunction(y.memberSignature(S),D[S])}else r.sqlite3_vfs_unregister(G);s.xWrap.FuncPtrAdapter.warnOnUse=!0;const P=t.StructBinder,A=function y(E,T,O,D=y.installMethodArgcCheck){if(E instanceof P.StructType?!(O instanceof Function)&&!s.isPtr(O)&&n("Usage error: expecting a Function or WASM pointer to one."):n("Usage error: target object is-not-a StructType."),arguments.length===1)return(c,m)=>y(E,c,m,D);y.argcProxy||(y.argcProxy=function(c,m,w,z){return function(...f){return w.length!==arguments.length&&n("Argument mismatch for",c.structInfo.name+"::"+m+": Native signature is:",z),w.apply(this,f)}},y.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((c,m)=>{if(typeof c=="number")try{s.uninstallFunction(c)}catch{}}),delete this.ondispose.__removeFuncList)});const S=E.memberSignature(T);S.length<2&&n("Member",T,"does not have a function pointer signature:",S);const M=E.memberKey(T),W=D&&!s.isPtr(O)?y.argcProxy(E,M,O,S):O;if(s.isPtr(W))W&&!s.functionEntry(W)&&n("Pointer",W,"is not a WASM function table entry."),E[M]=W;else{const c=s.installFunction(W,E.memberSignature(T,!0));E[M]=c,(!E.ondispose||!E.ondispose.__removeFuncList)&&(E.addOnDispose("ondispose.__removeFuncList handler",y.removeFuncList),E.ondispose.__removeFuncList=[]),E.ondispose.__removeFuncList.push(M,c)}return(c,m)=>y(E,c,m,D)};A.installMethodArgcCheck=!1;const R=function(y,E,T=A.installMethodArgcCheck){const O=new Map;for(const D of Object.keys(E)){const S=E[D],M=O.get(S);if(M){const W=y.memberKey(D);y[W]=y[y.memberKey(M)]}else A(y,D,S,T),O.set(S,D)}return y};P.StructType.prototype.installMethod=function(E,T,O=A.installMethodArgcCheck){return arguments.length<3&&E&&typeof E=="object"?R(this,...arguments):A(this,...arguments)},P.StructType.prototype.installMethods=function(y,E=A.installMethodArgcCheck){return R(this,y,E)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){t.version={libVersion:"3.50.4",libVersionNumber:3050004,sourceId:"2025-07-30 19:33:53 4d8adfb30e03f9cf27f800a2c1ba3c48fb4ca1b08b0f5ed59a4d5ecbf45e20a3",downloadVersion:3500400}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=(...f)=>{throw new t.SQLite3Error(...f)},r=t.capi,s=t.wasm,o=t.util,d=new WeakMap,h=new WeakMap,C=(f,g,l)=>{const _=Object.getOwnPropertyDescriptor(f,g);return _?_.value:l},N=function(f,g){return g&&(f instanceof A&&(f=f.pointer),n(g,"sqlite3 result code",g+":",f?r.sqlite3_errmsg(f):r.sqlite3_errstr(g))),arguments[0]},Q=s.installFunction("i(ippp)",(function(f,g,l,_){r.SQLITE_TRACE_STMT===f&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+g+":",s.cstrToJs(_))}).bind({counter:0})),G=Object.create(null),P=function f(...g){if(!f._name2vfs){f._name2vfs=Object.create(null);const re=typeof importScripts=="function"?le=>n("The VFS for",le,"is only available in the main window thread."):!1;f._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:re||(()=>"local")},f._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:re||(()=>"session")}}const l=f.normalizeArgs(...g);let _=l.filename,q=l.vfs,b=l.flags;(typeof _!="string"&&typeof _!="number"||typeof b!="string"||q&&typeof q!="string"&&typeof q!="number")&&(t.config.error("Invalid DB ctor args",l,arguments),n("Invalid arguments for DB constructor."));let j=typeof _=="number"?s.cstrToJs(_):_;const J=f._name2vfs[j];J&&(q=J.vfs,_=j=J.filename(j));let Z,oe=0;b.indexOf("c")>=0&&(oe|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),b.indexOf("w")>=0&&(oe|=r.SQLITE_OPEN_READWRITE),oe===0&&(oe|=r.SQLITE_OPEN_READONLY),oe|=r.SQLITE_OPEN_EXRESCODE;const se=s.pstack.pointer;try{const re=s.pstack.allocPtr();let le=r.sqlite3_open_v2(_,re,oe,q||0);Z=s.peekPtr(re),N(Z,le),r.sqlite3_extended_result_codes(Z,1),b.indexOf("t")>=0&&r.sqlite3_trace_v2(Z,r.SQLITE_TRACE_STMT,Q,Z)}catch(re){throw Z&&r.sqlite3_close_v2(Z),re}finally{s.pstack.restore(se)}this.filename=j,d.set(this,Z),h.set(this,Object.create(null));try{const re=r.sqlite3_js_db_vfs(Z)||n("Internal error: cannot get VFS for new db handle."),le=G[re];le&&(le instanceof Function?le(this,t):N(Z,r.sqlite3_exec(Z,le,0,0,0)))}catch(re){throw this.close(),re}};P.setVfsPostOpenCallback=function(f,g){g instanceof Function||n("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),G[f]=g},P.normalizeArgs=function(f=":memory:",g="c",l=null){const _={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(_,arguments[0]),_.flags===void 0&&(_.flags="c"),_.vfs===void 0&&(_.vfs=null),_.filename===void 0&&(_.filename=":memory:")):(_.filename=f,_.flags=g,_.vfs=l),_};const A=function(...f){P.apply(this,f)};A.dbCtorHelper=P;const R={null:1,number:2,string:3,boolean:4,blob:5};R.undefined==R.null,s.bigIntEnabled&&(R.bigint=R.number);const y=function(){R!==arguments[2]&&n(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],d.set(this,arguments[1]),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},E=function(f){return f.pointer||n("DB has been closed."),f},T=function(f,g){return(g!==(g|0)||g<0||g>=f.columnCount)&&n("Column index",g,"is out of range."),f},O=function(f,g){const l=Object.create(null);switch(l.opt=Object.create(null),g.length){case 1:typeof g[0]=="string"||o.isSQLableTypedArray(g[0])||Array.isArray(g[0])?l.sql=g[0]:g[0]&&typeof g[0]=="object"&&(l.opt=g[0],l.sql=l.opt.sql);break;case 2:l.sql=g[0],l.opt=g[1];break;default:n("Invalid argument count for exec().")}l.sql=o.flexibleString(l.sql),typeof l.sql!="string"&&n("Missing SQL argument or unsupported SQL value type.");const _=l.opt;switch(_.returnValue){case"resultRows":_.resultRows||(_.resultRows=[]),l.returnVal=()=>_.resultRows;break;case"saveSql":_.saveSql||(_.saveSql=[]),l.returnVal=()=>_.saveSql;break;case void 0:case"this":l.returnVal=()=>f;break;default:n("Invalid returnValue value:",_.returnValue)}if(!_.callback&&!_.returnValue&&_.rowMode!==void 0&&(_.resultRows||(_.resultRows=[]),l.returnVal=()=>_.resultRows),_.callback||_.resultRows)switch(_.rowMode===void 0?"array":_.rowMode){case"object":l.cbArg=(q,b)=>{b.columnNames||(b.columnNames=q.getColumnNames([]));const j=q.get([]),J=Object.create(null);for(const Z in b.columnNames)J[b.columnNames[Z]]=j[Z];return J};break;case"array":l.cbArg=q=>q.get([]);break;case"stmt":Array.isArray(_.resultRows)&&n("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),l.cbArg=q=>q;break;default:if(o.isInt32(_.rowMode)){l.cbArg=q=>q.get(_.rowMode);break}else if(typeof _.rowMode=="string"&&_.rowMode.length>1&&_.rowMode[0]==="$"){const q=_.rowMode.substr(1);l.cbArg=b=>{const j=b.get(Object.create(null))[q];return j===void 0?n(r.SQLITE_NOTFOUND,"exec(): unknown result column:",q):j};break}n("Invalid rowMode:",_.rowMode)}return l},D=(f,g,l,..._)=>{const q=f.prepare(g);try{const b=q.bind(l).step()?q.get(..._):void 0;return q.reset(),b}finally{q.finalize()}},S=(f,g,l,_)=>f.exec({sql:g,bind:l,rowMode:_,returnValue:"resultRows"});A.checkRc=(f,g)=>N(f,g),A.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return E(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const f=this.pointer;if(Object.keys(h.get(this)).forEach((g,l)=>{if(l&&l.pointer)try{l.finalize()}catch{}}),d.delete(this),h.delete(this),r.sqlite3_close_v2(f),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(f=!1,g=!1){const l=E(this).pointer;return f?g?r.sqlite3_total_changes64(l):r.sqlite3_total_changes(l):g?r.sqlite3_changes64(l):r.sqlite3_changes(l)},dbFilename:function(f="main"){return r.sqlite3_db_filename(E(this).pointer,f)},dbName:function(f=0){return r.sqlite3_db_name(E(this).pointer,f)},dbVfsName:function(f=0){let g;const l=r.sqlite3_js_db_vfs(E(this).pointer,f);if(l){const _=new r.sqlite3_vfs(l);try{g=s.cstrToJs(_.$zName)}finally{_.dispose()}}return g},prepare:function(f){E(this);const g=s.pstack.pointer;let l,_;try{l=s.pstack.alloc(8),A.checkRc(this,r.sqlite3_prepare_v2(this.pointer,f,-1,l,null)),_=s.peekPtr(l)}finally{s.pstack.restore(g)}_||n("Cannot prepare empty SQL.");const q=new y(this,_,R);return h.get(this)[_]=q,q},exec:function(){E(this);const f=O(this,arguments);if(!f.sql)return n("exec() requires an SQL string.");const g=f.opt,l=g.callback,_=Array.isArray(g.resultRows)?g.resultRows:void 0;let q,b=g.bind,j=!!(f.cbArg||g.columnNames||_);const J=s.scopedAllocPush(),Z=Array.isArray(g.saveSql)?g.saveSql:void 0;try{const oe=o.isSQLableTypedArray(f.sql);let se=oe?f.sql.byteLength:s.jstrlen(f.sql);const re=s.scopedAlloc(2*s.ptrSizeof+(se+1)),le=re+s.ptrSizeof;let pe=le+s.ptrSizeof;const he=pe+se;for(oe?s.heap8().set(f.sql,pe):s.jstrcpy(f.sql,s.heap8(),pe,se,!1),s.poke(pe+se,0);pe&&s.peek(pe,"i8");){s.pokePtr([re,le],0),A.checkRc(this,r.sqlite3_prepare_v3(this.pointer,pe,se,0,re,le));const fe=s.peekPtr(re);if(pe=s.peekPtr(le),se=he-pe,!!fe){if(Z&&Z.push(r.sqlite3_sql(fe).trim()),q=new y(this,fe,R),b&&q.parameterCount&&(q.bind(b),b=null),j&&q.columnCount){let Ee=Array.isArray(g.columnNames)?0:1;if(j=!1,f.cbArg||_){const ke=Object.create(null);for(;q.step();q._lockedByExec=!1){Ee++===0&&q.getColumnNames(ke.columnNames=g.columnNames||[]),q._lockedByExec=!0;const k=f.cbArg(q,ke);if(_&&_.push(k),l&&l.call(g,k,q)===!1)break}q._lockedByExec=!1}Ee===0&&q.getColumnNames(g.columnNames)}else q.step();q.reset().finalize(),q=null}}}finally{s.scopedAllocPop(J),q&&(delete q._lockedByExec,q.finalize())}return f.returnVal()},createFunction:function(g,l,_){const q=ke=>ke instanceof Function;switch(arguments.length){case 1:_=g,g=_.name,l=_.xFunc||0;break;case 2:q(l)||(_=l,l=_.xFunc||0);break}_||(_={}),typeof g!="string"&&n("Invalid arguments: missing function name.");let b=_.xStep||0,j=_.xFinal||0;const J=_.xValue||0,Z=_.xInverse||0;let oe;q(l)?(oe=!1,(q(b)||q(j))&&n("Ambiguous arguments: scalar or aggregate?"),b=j=null):q(b)?(q(j)||n("Missing xFinal() callback for aggregate or window UDF."),l=null):q(j)?n("Missing xStep() callback for aggregate or window UDF."):n("Missing function-type properties."),oe===!1?(q(J)||q(Z))&&n("xValue and xInverse are not permitted for non-window UDFs."):q(J)?(q(Z)||n("xInverse must be provided if xValue is."),oe=!0):q(Z)&&n("xValue must be provided if xInverse is.");const se=_.pApp;se!=null&&(typeof se!="number"||!o.isInt32(se))&&n("Invalid value for pApp property. Must be a legal WASM pointer value.");const re=_.xDestroy||0;re&&!q(re)&&n("xDestroy property must be a function.");let le=0;C(_,"deterministic")&&(le|=r.SQLITE_DETERMINISTIC),C(_,"directOnly")&&(le|=r.SQLITE_DIRECTONLY),C(_,"innocuous")&&(le|=r.SQLITE_INNOCUOUS),g=g.toLowerCase();const pe=l||b,he=C(_,"arity"),fe=typeof he=="number"?he:pe.length?pe.length-1:0;let Ee;return oe?Ee=r.sqlite3_create_window_function(this.pointer,g,fe,r.SQLITE_UTF8|le,se||0,b,j,J,Z,re):Ee=r.sqlite3_create_function_v2(this.pointer,g,fe,r.SQLITE_UTF8|le,se||0,l,b,j,re),A.checkRc(this,Ee),this},selectValue:function(f,g,l){return D(this,f,g,0,l)},selectValues:function(f,g,l){const _=this.prepare(f),q=[];try{for(_.bind(g);_.step();)q.push(_.get(0,l));_.reset()}finally{_.finalize()}return q},selectArray:function(f,g){return D(this,f,g,[])},selectObject:function(f,g){return D(this,f,g,{})},selectArrays:function(f,g){return S(this,f,g,"array")},selectObjects:function(f,g){return S(this,f,g,"object")},openStatementCount:function(){return this.pointer?Object.keys(h.get(this)).length:0},transaction:function(f){let g="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&n(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),g+=" "+arguments[0],f=arguments[1]),E(this).exec(g);try{const l=f(this);return this.exec("COMMIT"),l}catch(l){throw this.exec("ROLLBACK"),l}},savepoint:function(f){E(this).exec("SAVEPOINT oo1");try{const g=f(this);return this.exec("RELEASE oo1"),g}catch(g){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),g}},checkRc:function(f){return N(this,f)}};const M=function(f){return f.pointer||n("Stmt has been closed."),f},W=function(f){let g=R[f==null?"null":typeof f];switch(g){case R.boolean:case R.null:case R.number:case R.string:return g;case R.bigint:if(s.bigIntEnabled)return g;default:return o.isBindableTypedArray(f)?R.blob:void 0}},c=function(f){return W(f)||n("Unsupported bind() argument type:",typeof f)},m=function(f,g){const l=typeof g=="number"?g:r.sqlite3_bind_parameter_index(f.pointer,g);return l===0||!o.isInt32(l)?n("Invalid bind() parameter name: "+g):(l<1||l>f.parameterCount)&&n("Bind index",g,"is out of range."),l},w=function(f,g){return f._lockedByExec&&n("Operation is illegal when statement is locked:",g),f},z=function f(g,l,_,q){w(M(g),"bind()"),f._||(f._tooBigInt=j=>n("BigInt value is too big to store without precision loss:",j),f._={string:function(j,J,Z,oe){const[se,re]=s.allocCString(Z,!0);return(oe?r.sqlite3_bind_blob:r.sqlite3_bind_text)(j.pointer,J,se,re,r.SQLITE_WASM_DEALLOC)}}),c(q),l=m(g,l);let b=0;switch(q==null?R.null:_){case R.null:b=r.sqlite3_bind_null(g.pointer,l);break;case R.string:b=f._.string(g,l,q,!1);break;case R.number:{let j;o.isInt32(q)?j=r.sqlite3_bind_int:typeof q=="bigint"?o.bigIntFits64(q)?s.bigIntEnabled?j=r.sqlite3_bind_int64:o.bigIntFitsDouble(q)?(q=Number(q),j=r.sqlite3_bind_double):f._tooBigInt(q):f._tooBigInt(q):(q=Number(q),s.bigIntEnabled&&Number.isInteger(q)?j=r.sqlite3_bind_int64:j=r.sqlite3_bind_double),b=j(g.pointer,l,q);break}case R.boolean:b=r.sqlite3_bind_int(g.pointer,l,q?1:0);break;case R.blob:{if(typeof q=="string"){b=f._.string(g,l,q,!0);break}else q instanceof ArrayBuffer?q=new Uint8Array(q):o.isBindableTypedArray(q)||n("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const j=s.alloc(q.byteLength||1);s.heap8().set(q.byteLength?q:[0],j),b=r.sqlite3_bind_blob(g.pointer,l,j,q.byteLength,r.SQLITE_WASM_DEALLOC);break}default:t.config.warn("Unsupported bind() argument type:",q),n("Unsupported bind() argument type: "+typeof q)}return b&&A.checkRc(g.db.pointer,b),g._mayGet=!1,g};y.prototype={finalize:function(){if(this.pointer){w(this,"finalize()");const f=r.sqlite3_finalize(this.pointer);return delete h.get(this.db)[this.pointer],d.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,f}},clearBindings:function(){return w(M(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(f){w(this,"reset()"),f&&this.clearBindings();const g=r.sqlite3_reset(M(this).pointer);return this._mayGet=!1,N(this.db,g),this},bind:function(){M(this);let f,g;switch(arguments.length){case 1:f=1,g=arguments[0];break;case 2:f=arguments[0],g=arguments[1];break;default:n("Invalid bind() arguments.")}return g===void 0?this:(this.parameterCount||n("This statement has no bindable parameters."),this._mayGet=!1,g===null?z(this,f,R.null,g):Array.isArray(g)?(arguments.length!==1&&n("When binding an array, an index argument is not permitted."),g.forEach((l,_)=>z(this,_+1,c(l),l)),this):(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),typeof g=="object"&&!o.isBindableTypedArray(g)?(arguments.length!==1&&n("When binding an object, an index argument is not permitted."),Object.keys(g).forEach(l=>z(this,l,c(g[l]),g[l])),this):z(this,f,c(g),g)))},bindAsBlob:function(f,g){M(this),arguments.length===1&&(g=f,f=1);const l=c(g);return R.string!==l&&R.blob!==l&&R.null!==l&&n("Invalid value type for bindAsBlob()"),z(this,f,R.blob,g)},step:function(){w(this,"step()");const f=r.sqlite3_step(M(this).pointer);switch(f){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,t.config.warn("sqlite3_step() rc=",f,r.sqlite3_js_rc_str(f),"SQL =",r.sqlite3_sql(this.pointer)),A.checkRc(this.db.pointer,f)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const f=this.step();return this.reset(),f}finally{try{this.finalize()}catch{}}},get:function(f,g){if(M(this)._mayGet||n("Stmt.step() has not (recently) returned true."),Array.isArray(f)){let l=0;const _=this.columnCount;for(;l<_;)f[l]=this.get(l++);return f}else if(f&&typeof f=="object"){let l=0;const _=this.columnCount;for(;l<_;)f[r.sqlite3_column_name(this.pointer,l)]=this.get(l++);return f}switch(T(this,f),g===void 0?r.sqlite3_column_type(this.pointer,f):g){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(s.bigIntEnabled){const l=r.sqlite3_column_int64(this.pointer,f);return l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l).valueOf():l}else{const l=r.sqlite3_column_double(this.pointer,f);return(l>Number.MAX_SAFE_INTEGER||l<Number.MIN_SAFE_INTEGER)&&n("Integer is out of range for JS integer range: "+l),o.isInt32(l)?l|0:l}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,f);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,f);case r.SQLITE_BLOB:{const l=r.sqlite3_column_bytes(this.pointer,f),_=r.sqlite3_column_blob(this.pointer,f),q=new Uint8Array(l);return l&&q.set(s.heap8u().slice(_,_+l),0),l&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(q.buffer),q}default:n("Don't know how to translate","type of result column #"+f+".")}n("Not reached.")},getInt:function(f){return this.get(f,r.SQLITE_INTEGER)},getFloat:function(f){return this.get(f,r.SQLITE_FLOAT)},getString:function(f){return this.get(f,r.SQLITE_TEXT)},getBlob:function(f){return this.get(f,r.SQLITE_BLOB)},getJSON:function(f){const g=this.get(f,r.SQLITE_STRING);return g===null?g:JSON.parse(g)},getColumnName:function(f){return r.sqlite3_column_name(T(M(this),f).pointer,f)},getColumnNames:function(f=[]){T(M(this),0);const g=this.columnCount;for(let l=0;l<g;++l)f.push(r.sqlite3_column_name(this.pointer,l));return f},getParamIndex:function(f){return M(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,f):void 0},getParamName:function(f){return M(this).parameterCount?r.sqlite3_bind_parameter_name(this.pointer,f):void 0},isBusy:function(){return r.sqlite3_stmt_busy(M(this))!==0},isReadOnly:function(){return r.sqlite3_stmt_readonly(M(this))!==0}};{const f={enumerable:!0,get:function(){return d.get(this)},set:()=>n("The pointer property is read-only.")};Object.defineProperty(y.prototype,"pointer",f),Object.defineProperty(A.prototype,"pointer",f)}if(Object.defineProperty(y.prototype,"columnCount",{enumerable:!1,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>n("The columnCount property is read-only.")}),t.oo1={DB:A,Stmt:y},o.isUIThread()){t.oo1.JsStorageDb=function(g="session"){const l=P.normalizeArgs(...arguments);g=l.filename,g!=="session"&&g!=="local"&&n("JsStorageDb db name must be one of 'session' or 'local'."),l.vfs="kvvfs",P.call(this,l)};const f=t.oo1.JsStorageDb;f.prototype=Object.create(A.prototype),f.clearStorage=r.sqlite3_js_kvvfs_clear,f.prototype.clearStorage=function(){return f.clearStorage(E(this).filename)},f.storageSize=r.sqlite3_js_kvvfs_size,f.prototype.storageSize=function(){return f.storageSize(E(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=t.util;t.initWorker1API=(function(){const r=(...P)=>{throw new Error(P.join(" "))};globalThis.WorkerGlobalScope instanceof Function||r("initWorker1API() must be run from a Worker thread.");const s=this.sqlite3||r("Missing this.sqlite3 object."),o=s.oo1.DB,d=function(P){let A=h.idMap.get(P);return A||(A="db#"+ ++h.idSeq+"@"+P.pointer,h.idMap.set(P,A),A)},h={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(P){const A=new o(P);return this.dbs[d(A)]=A,this.dbList.indexOf(A)<0&&this.dbList.push(A),A},close:function(P,A){if(P){delete this.dbs[d(P)];const R=P.filename,y=n.sqlite3__wasm_db_vfs(P.pointer,0);P.close();const E=this.dbList.indexOf(P);E>=0&&this.dbList.splice(E,1),A&&R&&y&&n.sqlite3__wasm_vfs_unlink(y,R)}},post:function(P,A){A&&A.length?(globalThis.postMessage(P,Array.from(A)),A.length=0):globalThis.postMessage(P)},dbs:Object.create(null),getDb:function(P,A=!0){return this.dbs[P]||(A?r("Unknown (or closed) DB ID:",P):void 0)}},C=function(P=h.dbList[0]){return P&&P.pointer?P:r("DB is not opened.")},N=function(P,A=!0){const R=h.getDb(P.dbId,!1)||h.dbList[0];return A?C(R):R},Q=function(){return h.dbList[0]&&d(h.dbList[0])},G={open:function(P){const A=Object.create(null),R=P.args||Object.create(null);R.simulateError&&r("Throwing because of simulateError flag.");const y=Object.create(null);A.vfs=R.vfs,A.filename=R.filename||"";const E=h.open(A);return y.filename=E.filename,y.persistent=!!s.capi.sqlite3_js_db_uses_vfs(E.pointer,"opfs"),y.dbId=d(E),y.vfs=E.dbVfsName(),y},close:function(P){const A=N(P,!1),R={filename:A&&A.filename};if(A){const y=P.args&&typeof P.args=="object"?!!P.args.unlink:!1;h.close(A,y)}return R},exec:function(P){const A=typeof P.args=="string"?{sql:P.args}:P.args||Object.create(null);A.rowMode==="stmt"?r("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):A.sql||r("'exec' requires input SQL.");const R=N(P);(A.callback||Array.isArray(A.resultRows))&&(R._blobXfer=h.xfer);const y=A.callback;let E=0;const T=!!A.columnNames;typeof y=="string"&&(T||(A.columnNames=[]),A.callback=function(O,D){h.post({type:y,columnNames:A.columnNames,rowNumber:++E,row:O},h.xfer)});try{const O=A.countChanges?R.changes(!0,A.countChanges===64):void 0;R.exec(A),O!==void 0&&(A.changeCount=R.changes(!0,A.countChanges===64)-O);const D=A.lastInsertRowId?s.capi.sqlite3_last_insert_rowid(R):void 0;D!==void 0&&(A.lastInsertRowId=D),A.callback instanceof Function&&(A.callback=y,h.post({type:y,columnNames:A.columnNames,rowNumber:null,row:void 0}))}finally{delete R._blobXfer,A.callback&&(A.callback=y)}return A},"config-get":function(){const P=Object.create(null),A=s.config;return["bigIntEnabled"].forEach(function(R){Object.getOwnPropertyDescriptor(A,R)&&(P[R]=A[R])}),P.version=s.version,P.vfsList=s.capi.sqlite3_js_vfs_list(),P},export:function(P){const A=N(P),R={byteArray:s.capi.sqlite3_js_db_export(A.pointer),filename:A.filename,mimetype:"application/x-sqlite3"};return h.xfer.push(R.byteArray.buffer),R},toss:function(P){r("Testing worker exception")}};globalThis.onmessage=async function(P){P=P.data;let A,R=P.dbId,y=P.type;const E=performance.now();try{G.hasOwnProperty(y)&&G[y]instanceof Function?A=await G[y](P):r("Unknown db worker message type:",P.type)}catch(T){y="error",A={operation:P.type,message:T.message,errorClass:T.name,input:P},T.stack&&(A.stack=typeof T.stack=="string"?T.stack.split(/\n\s*/):T.stack)}R||(R=A.dbId||Q()),h.post({type:y,dbId:R,messageId:P.messageId,workerReceivedTime:E,workerRespondTime:performance.now(),departureTime:P.departureTime,result:A},h.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}).bind({sqlite3:t})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=t.wasm,r=t.capi,s=t.util.toss3,o=Object.create(null);t.vfs=o,r.sqlite3_vfs.prototype.registerVfs=function(d=!1){this instanceof t.capi.sqlite3_vfs||s("Expecting a sqlite3_vfs-type argument.");const h=r.sqlite3_vfs_register(this,d?1:0);return h&&s("sqlite3_vfs_register(",this,") failed with rc",h),this.pointer!==r.sqlite3_vfs_find(this.$zName)&&s("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},o.installVfs=function(d){let h=0;const C=["io","vfs"];for(const N of C){const Q=d[N];Q&&(++h,Q.struct.installMethods(Q.methods,!!Q.applyArgcCheck),N==="vfs"&&(!Q.struct.$zName&&typeof Q.name=="string"&&Q.struct.addOnDispose(Q.struct.$zName=n.allocCString(Q.name)),Q.struct.registerVfs(!!Q.asDefault)))}return h||s("Misuse: installVfs() options object requires at least","one of:",C),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){if(!t.wasm.exports.sqlite3_declare_vtab)return;const n=t.wasm,r=t.capi,s=t.util.toss3,o=Object.create(null);t.vtab=o;const d=r.sqlite3_index_info;d.prototype.nthConstraint=function(N,Q=!1){if(N<0||N>=this.$nConstraint)return!1;const G=this.$aConstraint+d.sqlite3_index_constraint.structInfo.sizeof*N;return Q?G:new d.sqlite3_index_constraint(G)},d.prototype.nthConstraintUsage=function(N,Q=!1){if(N<0||N>=this.$nConstraint)return!1;const G=this.$aConstraintUsage+d.sqlite3_index_constraint_usage.structInfo.sizeof*N;return Q?G:new d.sqlite3_index_constraint_usage(G)},d.prototype.nthOrderBy=function(N,Q=!1){if(N<0||N>=this.$nOrderBy)return!1;const G=this.$aOrderBy+d.sqlite3_index_orderby.structInfo.sizeof*N;return Q?G:new d.sqlite3_index_orderby(G)};const h=function(N,Q){return(function(G,P=!1){if(arguments.length===0&&(G=new Q),G instanceof Q)return this.set(G.pointer,G),G;n.isPtr(G)||t.SQLite3Error.toss("Invalid argument to",N+"()");let A=this.get(G);return P&&this.delete(G),A}).bind(new Map)},C=function(N,Q){const G=h(N,Q);return Object.assign(Object.create(null),{StructType:Q,create:P=>{const A=G();return n.pokePtr(P,A.pointer),A},get:P=>G(P),unget:P=>G(P,!0),dispose:P=>{const A=G(P,!0);A&&A.dispose()}})};o.xVtab=C("xVtab",r.sqlite3_vtab),o.xCursor=C("xCursor",r.sqlite3_vtab_cursor),o.xIndexInfo=N=>new r.sqlite3_index_info(N),o.xError=function N(Q,G,P){if(N.errorReporter instanceof Function)try{N.errorReporter("sqlite3_module::"+Q+"(): "+G.message)}catch{}let A;return G instanceof t.WasmAllocError?A=r.SQLITE_NOMEM:arguments.length>2?A=P:G instanceof t.SQLite3Error&&(A=G.resultCode),A||r.SQLITE_ERROR},o.xError.errorReporter=console.error.bind(console),o.xRowid=(N,Q)=>n.poke(N,Q,"i64"),o.setupModule=function(N){let Q=!1;const G=this instanceof r.sqlite3_module?this:N.struct||(Q=new r.sqlite3_module);try{const P=N.methods||s("Missing 'methods' object.");for(const A of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const R=A[0],y=A[1];P[R]===!0?P[R]=P[y]:P[y]===!0&&(P[y]=P[R])}if(N.catchExceptions){const A=function(E,T){return["xConnect","xCreate"].indexOf(E)>=0?function(O,D,S,M,W,c){try{return T(...arguments)||0}catch(m){return m instanceof t.WasmAllocError||(n.dealloc(n.peekPtr(c)),n.pokePtr(c,n.allocCString(m.message))),o.xError(E,m)}}:function(...O){try{return T(...O)||0}catch(D){return o.xError(E,D)}}},R=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],y=Object.create(null);for(const E of R){const T=P[E];if(T instanceof Function)E==="xConnect"&&P.xCreate===T?y[E]=P.xCreate:E==="xCreate"&&P.xConnect===T?y[E]=P.xConnect:y[E]=A(E,T);else continue}G.installMethods(y,!1)}else G.installMethods(P,!!N.applyArgcCheck);if(G.$iVersion===0){let A;typeof N.iVersion=="number"?A=N.iVersion:G.$xShadowName?A=3:G.$xSavePoint||G.$xRelease||G.$xRollbackTo?A=2:A=1,G.$iVersion=A}}catch(P){throw Q&&Q.dispose(),P}return G},r.sqlite3_module.prototype.setupModule=function(N){return o.setupModule.call(this,N)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=function r(s){var h;if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!((h=navigator==null?void 0:navigator.storage)!=null&&h.getDirectory))return Promise.reject(new Error("Missing required OPFS APIs."));(!s||typeof s!="object")&&(s=Object.create(null));const o=new URL(globalThis.location.href).searchParams;return o.has("opfs-disable")?Promise.resolve(t):(s.verbose===void 0&&(s.verbose=o.has("opfs-verbose")?+o.get("opfs-verbose")||2:1),s.sanityChecks===void 0&&(s.sanityChecks=o.has("opfs-sanity-check")),s.proxyUri===void 0&&(s.proxyUri=r.defaultProxyUri),typeof s.proxyUri=="function"&&(s.proxyUri=s.proxyUri()),new Promise(function(C,N){const Q=[t.config.error,t.config.warn,t.config.log],G=(k,...U)=>{s.verbose>k&&Q[k]("OPFS syncer:",...U)},P=(...k)=>G(2,...k),A=(...k)=>G(1,...k),R=(...k)=>G(0,...k),y=t.util.toss,E=t.capi,T=t.util,O=t.wasm,D=E.sqlite3_vfs,S=E.sqlite3_file,M=E.sqlite3_io_methods,W=Object.create(null),c=()=>{var k;return globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&((k=navigator==null?void 0:navigator.storage)==null?void 0:k.getDirectory)};W.metrics={dump:function(){let k,U=0,B=0,K=0;for(k in b.opIds){const V=j[k];U+=V.count,B+=V.time,K+=V.wait,V.avgTime=V.count&&V.time?V.time/V.count:0,V.avgWait=V.count&&V.wait?V.wait/V.count:0}t.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",j,`
Total of`,U,"op(s) for",B,"ms (incl. "+K+" ms of waiting on the async side)"),t.config.log("Serialization metrics:",j.s11n),l.postMessage({type:"opfs-async-metrics"})},reset:function(){let k;const U=K=>K.count=K.time=K.wait=0;for(k in b.opIds)U(j[k]=Object.create(null));let B=j.s11n=Object.create(null);B=B.serialize=Object.create(null),B.count=B.time=0,B=j.s11n.deserialize=Object.create(null),B.count=B.time=0}};const m=new M,w=new D().addOnDispose(()=>m.dispose());let z;const f=k=>(z=!0,w.dispose(),N(k)),g=()=>(z=!1,C(t)),l=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-DZdsd1Kz.js",self.location.href));setTimeout(()=>{z===void 0&&f(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),l._originalOnError=l.onerror,l.onerror=function(k){R("Error initializing OPFS asyncer:",k),f(new Error("Loading OPFS async Worker failed for unknown reasons."))};const _=E.sqlite3_vfs_find(null),q=_?new D(_):null;m.$iVersion=1,w.$iVersion=2,w.$szOsFile=E.sqlite3_file.structInfo.sizeof,w.$mxPathname=1024,w.$zName=O.allocCString("opfs"),w.$xDlOpen=w.$xDlError=w.$xDlSym=w.$xDlClose=null,w.addOnDispose("$zName",w.$zName,"cleanup default VFS wrapper",()=>q?q.dispose():null);const b=Object.create(null);b.verbose=s.verbose,b.littleEndian=(()=>{const k=new ArrayBuffer(2);return new DataView(k).setInt16(0,256,!0),new Int16Array(k)[0]===256})(),b.asyncIdleWaitTime=150,b.asyncS11nExceptions=1,b.fileBufferSize=1024*64,b.sabS11nOffset=b.fileBufferSize,b.sabS11nSize=w.$mxPathname*2,b.sabIO=new SharedArrayBuffer(b.fileBufferSize+b.sabS11nSize),b.opIds=Object.create(null);const j=Object.create(null);{let k=0;b.opIds.whichOp=k++,b.opIds.rc=k++,b.opIds.xAccess=k++,b.opIds.xClose=k++,b.opIds.xDelete=k++,b.opIds.xDeleteNoWait=k++,b.opIds.xFileSize=k++,b.opIds.xLock=k++,b.opIds.xOpen=k++,b.opIds.xRead=k++,b.opIds.xSleep=k++,b.opIds.xSync=k++,b.opIds.xTruncate=k++,b.opIds.xUnlock=k++,b.opIds.xWrite=k++,b.opIds.mkdir=k++,b.opIds["opfs-async-metrics"]=k++,b.opIds["opfs-async-shutdown"]=k++,b.opIds.retry=k++,b.sabOP=new SharedArrayBuffer(k*4),W.metrics.reset()}b.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(k=>{(b.sq3Codes[k]=E[k])===void 0&&y("Maintenance required: not found:",k)}),b.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const J=(k,...U)=>{const B=b.opIds[k]||y("Invalid op ID:",k);b.s11n.serialize(...U),Atomics.store(b.sabOPView,b.opIds.rc,-1),Atomics.store(b.sabOPView,b.opIds.whichOp,B),Atomics.notify(b.sabOPView,b.opIds.whichOp);const K=performance.now();for(;Atomics.wait(b.sabOPView,b.opIds.rc,-1)!=="not-equal";);const V=Atomics.load(b.sabOPView,b.opIds.rc);if(j[k].wait+=performance.now()-K,V&&b.asyncS11nExceptions){const ee=b.s11n.deserialize();ee&&R(k+"() async error:",...ee)}return V};W.debug={asyncShutdown:()=>{A("Shutting down OPFS async listener. The OPFS VFS will no longer work."),J("opfs-async-shutdown")},asyncRestart:()=>{A("Attempting to restart OPFS VFS async listener. Might work, might not."),l.postMessage({type:"opfs-async-restart"})}};const Z=()=>{if(b.s11n)return b.s11n;const k=new TextDecoder,U=new TextEncoder("utf-8"),B=new Uint8Array(b.sabIO,b.sabS11nOffset,b.sabS11nSize),K=new DataView(b.sabIO,b.sabS11nOffset,b.sabS11nSize);b.s11n=Object.create(null);const V=Object.create(null);V.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},V.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},V.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},V.string={id:4};const ee=L=>V[typeof L]||y("Maintenance required: this value type cannot be serialized.",L),Y=L=>{switch(L){case V.number.id:return V.number;case V.bigint.id:return V.bigint;case V.boolean.id:return V.boolean;case V.string.id:return V.string;default:y("Invalid type ID:",L)}};return b.s11n.deserialize=function(L=!1){++j.s11n.deserialize.count;const u=performance.now(),x=B[0],I=x?[]:null;if(x){const F=[];let H=1,X,te,_e;for(X=0;X<x;++X,++H)F.push(Y(B[H]));for(X=0;X<x;++X){const Te=F[X];Te.getter?(_e=K[Te.getter](H,b.littleEndian),H+=Te.size):(te=K.getInt32(H,b.littleEndian),H+=4,_e=k.decode(B.slice(H,H+te)),H+=te),I.push(_e)}}return L&&(B[0]=0),j.s11n.deserialize.time+=performance.now()-u,I},b.s11n.serialize=function(...L){const u=performance.now();if(++j.s11n.serialize.count,L.length){const x=[];let I=0,F=1;for(B[0]=L.length&255;I<L.length;++I,++F)x.push(ee(L[I])),B[F]=x[I].id;for(I=0;I<L.length;++I){const H=x[I];if(H.setter)K[H.setter](F,L[I],b.littleEndian),F+=H.size;else{const X=U.encode(L[I]);K.setInt32(F,X.byteLength,b.littleEndian),F+=4,B.set(X,F),F+=X.byteLength}}}else B[0]=0;j.s11n.serialize.time+=performance.now()-u},b.s11n},oe=function k(U=16){k._chars||(k._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",k._n=k._chars.length);const B=[];let K=0;for(;K<U;++K){const V=Math.random()*(k._n*64)%k._n|0;B[K]=k._chars[V]}return B.join("")},se=Object.create(null),re=Object.create(null);re.op=void 0,re.start=void 0;const le=k=>{re.start=performance.now(),re.op=k,++j[k].count},pe=()=>j[re.op].time+=performance.now()-re.start,he={xCheckReservedLock:function(k,U){return O.poke(U,0,"i32"),0},xClose:function(k){le("xClose");let U=0;const B=se[k];return B&&(delete se[k],U=J("xClose",k),B.sq3File&&B.sq3File.dispose()),pe(),U},xDeviceCharacteristics:function(k){return E.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(k,U,B){return E.SQLITE_NOTFOUND},xFileSize:function(k,U){le("xFileSize");let B=J("xFileSize",k);if(B==0)try{const K=b.s11n.deserialize()[0];O.poke(U,K,"i64")}catch(K){R("Unexpected error reading xFileSize() result:",K),B=b.sq3Codes.SQLITE_IOERR}return pe(),B},xLock:function(k,U){le("xLock");const B=se[k];let K=0;return B.lockType?B.lockType=U:(K=J("xLock",k,U),K===0&&(B.lockType=U)),pe(),K},xRead:function(k,U,B,K){le("xRead");const V=se[k];let ee;try{ee=J("xRead",k,B,Number(K)),(ee===0||E.SQLITE_IOERR_SHORT_READ===ee)&&O.heap8u().set(V.sabView.subarray(0,B),U)}catch(Y){R("xRead(",arguments,") failed:",Y,V),ee=E.SQLITE_IOERR_READ}return pe(),ee},xSync:function(k,U){le("xSync"),++j.xSync.count;const B=J("xSync",k,U);return pe(),B},xTruncate:function(k,U){le("xTruncate");const B=J("xTruncate",k,Number(U));return pe(),B},xUnlock:function(k,U){le("xUnlock");const B=se[k];let K=0;return E.SQLITE_LOCK_NONE===U&&B.lockType&&(K=J("xUnlock",k,U)),K===0&&(B.lockType=U),pe(),K},xWrite:function(k,U,B,K){le("xWrite");const V=se[k];let ee;try{V.sabView.set(O.heap8u().subarray(U,U+B)),ee=J("xWrite",k,B,Number(K))}catch(Y){R("xWrite(",arguments,") failed:",Y,V),ee=E.SQLITE_IOERR_WRITE}return pe(),ee}},fe={xAccess:function(k,U,B,K){le("xAccess");const V=J("xAccess",O.cstrToJs(U));return O.poke(K,V?0:1,"i32"),pe(),0},xCurrentTime:function(k,U){return O.poke(U,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(k,U){return O.poke(U,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(k,U,B){le("xDelete");const K=J("xDelete",O.cstrToJs(U),B,!1);return pe(),K},xFullPathname:function(k,U,B,K){return O.cstrncpy(K,U,B)<B?0:E.SQLITE_CANTOPEN},xGetLastError:function(k,U,B){return A("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(U,B,K,V,ee){le("xOpen");let Y=0;B===0?B=oe():O.isPtr(B)&&(E.sqlite3_uri_boolean(B,"opfs-unlock-asap",0)&&(Y|=b.opfsFlags.OPFS_UNLOCK_ASAP),E.sqlite3_uri_boolean(B,"delete-before-open",0)&&(Y|=b.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),B=O.cstrToJs(B));const L=Object.create(null);L.fid=K,L.filename=B,L.sab=new SharedArrayBuffer(b.fileBufferSize),L.flags=V,L.readOnly=!(t.SQLITE_OPEN_CREATE&V)&&!!(V&E.SQLITE_OPEN_READONLY);const u=J("xOpen",K,B,V,Y);return u||(L.readOnly&&O.poke(ee,E.SQLITE_OPEN_READONLY,"i32"),se[K]=L,L.sabView=b.sabFileBufView,L.sq3File=new S(K),L.sq3File.$pMethods=m.pointer,L.lockType=E.SQLITE_LOCK_NONE),pe(),u}};q&&(w.$xRandomness=q.$xRandomness,w.$xSleep=q.$xSleep),w.$xRandomness||(fe.xRandomness=function(k,U,B){const K=O.heap8u();let V=0;for(;V<U;++V)K[B+V]=Math.random()*255e3&255;return V}),w.$xSleep||(fe.xSleep=function(k,U){return Atomics.wait(b.sabOPView,b.opIds.xSleep,0,U),0}),W.getResolvedPath=function(k,U){const B=new URL(k,"file://irrelevant").pathname;return U?B.split("/").filter(K=>!!K):B},W.getDirForFilename=async function(U,B=!1){const K=W.getResolvedPath(U,!0),V=K.pop();let ee=W.rootDirectory;for(const Y of K)Y&&(ee=await ee.getDirectoryHandle(Y,{create:!!B}));return[ee,V]},W.mkdir=async function(k){try{return await W.getDirForFilename(k+"/filepart",!0),!0}catch{return!1}},W.entryExists=async function(k){try{const[U,B]=await W.getDirForFilename(k);return await U.getFileHandle(B),!0}catch{return!1}},W.randomFilename=oe,W.treeList=async function(){const k=async function B(K,V){V.name=K.name,V.dirs=[],V.files=[];for await(const ee of K.values())if(ee.kind==="directory"){const Y=Object.create(null);V.dirs.push(Y),await B(ee,Y)}else V.files.push(ee.name)},U=Object.create(null);return await k(W.rootDirectory,U),U},W.rmfr=async function(){const k=W.rootDirectory,U={recurse:!0};for await(const B of k.values())k.removeEntry(B.name,U)},W.unlink=async function(k,U=!1,B=!1){try{const[K,V]=await W.getDirForFilename(k,!1);return await K.removeEntry(V,{recursive:U}),!0}catch(K){if(B)throw new Error("unlink(",arguments[0],") failed: "+K.message,{cause:K});return!1}},W.traverse=async function(k){const U={recursive:!0,directory:W.rootDirectory};typeof k=="function"&&(k={callback:k}),k=Object.assign(U,k||{}),async function K(V,ee){for await(const Y of V.values()){if(k.callback(Y,V,ee)===!1)return!1;if(k.recursive&&Y.kind==="directory"&&await K(Y,ee+1)===!1)break}}(k.directory,0)};const Ee=async function(k,U){const[B,K]=await W.getDirForFilename(k,!0);let ee=await(await B.getFileHandle(K,{create:!0})).createSyncAccessHandle(),Y=0,L,u=!1;try{for(ee.truncate(0);(L=await U())!==void 0;)L instanceof ArrayBuffer&&(L=new Uint8Array(L)),Y===0&&L.byteLength>=15&&(T.affirmDbHeader(L),u=!0),ee.write(L,{at:Y}),Y+=L.byteLength;if((Y<512||Y%512!==0)&&y("Input size",Y,"is not correct for an SQLite database."),!u){const x=new Uint8Array(20);ee.read(x,{at:0}),T.affirmDbHeader(x)}return ee.write(new Uint8Array([1,1]),{at:18}),Y}catch(x){throw await ee.close(),ee=void 0,await B.removeEntry(K).catch(()=>{}),x}finally{ee&&await ee.close()}};if(W.importDb=async function(k,U){if(U instanceof Function)return Ee(k,U);U instanceof ArrayBuffer&&(U=new Uint8Array(U)),T.affirmIsDb(U);const B=U.byteLength,[K,V]=await W.getDirForFilename(k,!0);let ee,Y=0;try{return ee=await(await K.getFileHandle(V,{create:!0})).createSyncAccessHandle(),ee.truncate(0),Y=ee.write(U,{at:0}),Y!=B&&y("Expected to write "+B+" bytes but wrote "+Y+"."),ee.write(new Uint8Array([1,1]),{at:18}),Y}catch(L){throw ee&&(await ee.close(),ee=void 0),await K.removeEntry(V).catch(()=>{}),L}finally{ee&&await ee.close()}},t.oo1){const k=function(...U){const B=t.oo1.DB.dbCtorHelper.normalizeArgs(...U);B.vfs=w.$zName,t.oo1.DB.dbCtorHelper.call(this,B)};k.prototype=Object.create(t.oo1.DB.prototype),t.oo1.OpfsDb=k,k.importDb=W.importDb,t.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(w.pointer,function(U,B){B.capi.sqlite3_busy_timeout(U,1e4)})}const ke=function(){const k=O.scopedAllocPush(),U=new S;try{const B=U.pointer,K=E.SQLITE_OPEN_CREATE|E.SQLITE_OPEN_READWRITE|E.SQLITE_OPEN_MAIN_DB,V=O.scopedAlloc(8),ee="/sanity/check/file"+oe(8),Y=O.scopedAllocCString(ee);let L;if(b.s11n.serialize("This is  string."),L=b.s11n.deserialize(),P("deserialize() says:",L),L[0]!=="This is  string."&&y("String d13n error."),fe.xAccess(w.pointer,Y,0,V),L=O.peek(V,"i32"),P("xAccess(",ee,") exists ?=",L),L=fe.xOpen(w.pointer,Y,B,K,V),P("open rc =",L,"state.sabOPView[xOpen] =",b.sabOPView[b.opIds.xOpen]),L!==0){R("open failed with code",L);return}fe.xAccess(w.pointer,Y,0,V),L=O.peek(V,"i32"),L||y("xAccess() failed to detect file."),L=he.xSync(U.pointer,0),L&&y("sync failed w/ rc",L),L=he.xTruncate(U.pointer,1024),L&&y("truncate failed w/ rc",L),O.poke(V,0,"i64"),L=he.xFileSize(U.pointer,V),L&&y("xFileSize failed w/ rc",L),P("xFileSize says:",O.peek(V,"i64")),L=he.xWrite(U.pointer,Y,10,1),L&&y("xWrite() failed!");const u=O.scopedAlloc(16);L=he.xRead(U.pointer,u,6,2),O.poke(u+6,0);let x=O.cstrToJs(u);P("xRead() got:",x),x!=="sanity"&&y("Unexpected xRead() value."),fe.xSleep&&(P("xSleep()ing before close()ing..."),fe.xSleep(w.pointer,2e3),P("waking up from xSleep()")),L=he.xClose(B),P("xClose rc =",L,"sabOPView =",b.sabOPView),P("Deleting file:",ee),fe.xDelete(w.pointer,Y,4660),fe.xAccess(w.pointer,Y,0,V),L=O.peek(V,"i32"),L&&y("Expecting 0 from xAccess(",ee,") after xDelete()."),A("End of OPFS sanity checks.")}finally{U.dispose(),O.scopedAllocPop(k)}};l.onmessage=function({data:k}){switch(k.type){case"opfs-unavailable":f(new Error(k.payload.join(" ")));break;case"opfs-async-loaded":l.postMessage({type:"opfs-async-init",args:b});break;case"opfs-async-inited":{if(z===!0)break;try{t.vfs.installVfs({io:{struct:m,methods:he},vfs:{struct:w,methods:fe}}),b.sabOPView=new Int32Array(b.sabOP),b.sabFileBufView=new Uint8Array(b.sabIO,0,b.fileBufferSize),b.sabS11nView=new Uint8Array(b.sabIO,b.sabS11nOffset,b.sabS11nSize),Z(),s.sanityChecks&&(A("Running sanity checks because of opfs-sanity-check URL arg..."),ke()),c()?navigator.storage.getDirectory().then(U=>{l.onerror=l._originalOnError,delete l._originalOnError,t.opfs=W,W.rootDirectory=U,P("End of OPFS sqlite3_vfs setup.",w),g()}).catch(f):g()}catch(U){R(U),f(U)}break}default:{const U="Unexpected message from the OPFS async worker: "+JSON.stringify(k);R(U),f(new Error(U));break}}}}))};n.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async r=>{try{let s=n.defaultProxyUri;return r.scriptInfo.sqlite3Dir&&(n.defaultProxyUri=r.scriptInfo.sqlite3Dir+s),n().catch(o=>{r.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",o.message)})}catch(s){return r.config.error("installOpfsVfs() exception:",s),Promise.reject(s)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){var re,le,pe,he,fe,Ee,ke,k,U,B,K,V,ut,Y;const n=t.util.toss,r=t.util.toss3,s=Object.create(null),o=t.capi,d=t.util,h=t.wasm,C=4096,N=512,Q=4,G=8,P=N+Q,A=N,R=P,y=C,E=o.SQLITE_OPEN_MAIN_DB|o.SQLITE_OPEN_MAIN_JOURNAL|o.SQLITE_OPEN_SUPER_JOURNAL|o.SQLITE_OPEN_WAL,T=o.SQLITE_OPEN_MEMORY,O=".opaque",D=()=>Math.random().toString(36).slice(2),S=new TextDecoder,M=new TextEncoder,W=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),c=[t.config.error,t.config.warn,t.config.log];t.config.log;const m=t.config.warn;t.config.error;const w=new Map,z=L=>w.get(L),f=(L,u)=>{u?w.set(L,u):w.delete(L)},g=new Map,l=L=>g.get(L),_=(L,u)=>{u?g.set(L,u):g.delete(L)},q={xCheckReservedLock:function(L,u){const x=l(L);return x.log("xCheckReservedLock"),x.storeErr(),h.poke32(u,1),0},xClose:function(L){const u=l(L);u.storeErr();const x=u.getOFileForS3File(L);if(x)try{u.log(`xClose ${x.path}`),u.mapS3FileToOFile(L,!1),x.sah.flush(),x.flags&o.SQLITE_OPEN_DELETEONCLOSE&&u.deletePath(x.path)}catch(I){return u.storeErr(I,o.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(L){return o.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(L,u,x){return o.SQLITE_NOTFOUND},xFileSize:function(L,u){const x=l(L);x.log("xFileSize");const F=x.getOFileForS3File(L).sah.getSize()-y;return h.poke64(u,BigInt(F)),0},xLock:function(L,u){const x=l(L);x.log(`xLock ${u}`),x.storeErr();const I=x.getOFileForS3File(L);return I.lockType=u,0},xRead:function(L,u,x,I){const F=l(L);F.storeErr();const H=F.getOFileForS3File(L);F.log(`xRead ${H.path} ${x} @ ${I}`);try{const X=H.sah.read(h.heap8u().subarray(u,u+x),{at:y+Number(I)});return X<x?(h.heap8u().fill(0,u+X,u+x),o.SQLITE_IOERR_SHORT_READ):0}catch(X){return F.storeErr(X,o.SQLITE_IOERR)}},xSectorSize:function(L){return C},xSync:function(L,u){const x=l(L);x.log(`xSync ${u}`),x.storeErr();const I=x.getOFileForS3File(L);try{return I.sah.flush(),0}catch(F){return x.storeErr(F,o.SQLITE_IOERR)}},xTruncate:function(L,u){const x=l(L);x.log(`xTruncate ${u}`),x.storeErr();const I=x.getOFileForS3File(L);try{return I.sah.truncate(y+Number(u)),0}catch(F){return x.storeErr(F,o.SQLITE_IOERR)}},xUnlock:function(L,u){const x=l(L);x.log("xUnlock");const I=x.getOFileForS3File(L);return I.lockType=u,0},xWrite:function(L,u,x,I){const F=l(L);F.storeErr();const H=F.getOFileForS3File(L);F.log(`xWrite ${H.path} ${x} ${I}`);try{const X=H.sah.write(h.heap8u().subarray(u,u+x),{at:y+Number(I)});return x===X?0:n("Unknown write() failure.")}catch(X){return F.storeErr(X,o.SQLITE_IOERR)}}},b=new o.sqlite3_io_methods;b.$iVersion=1,t.vfs.installVfs({io:{struct:b,methods:q}});const j={xAccess:function(L,u,x,I){const F=z(L);F.storeErr();try{const H=F.getPath(u);h.poke32(I,F.hasFilename(H)?1:0)}catch{h.poke32(I,0)}return 0},xCurrentTime:function(L,u){return h.poke(u,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(L,u){return h.poke(u,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(L,u,x){const I=z(L);I.log(`xDelete ${h.cstrToJs(u)}`),I.storeErr();try{return I.deletePath(I.getPath(u)),0}catch(F){return I.storeErr(F),o.SQLITE_IOERR_DELETE}},xFullPathname:function(L,u,x,I){return h.cstrncpy(I,u,x)<x?0:o.SQLITE_CANTOPEN},xGetLastError:function(L,u,x){const I=z(L),F=I.popErr();if(I.log(`xGetLastError ${u} e =`,F),F){const H=h.scopedAllocPush();try{const[X,te]=h.scopedAllocCString(F.message,!0);h.cstrncpy(x,X,u),te>u&&h.poke8(x+u-1,0)}catch{return o.SQLITE_NOMEM}finally{h.scopedAllocPop(H)}}return F?F.sqlite3Rc||o.SQLITE_IOERR:0},xOpen:function(u,x,I,F,H){const X=z(u);try{F&=~T,X.log(`xOpen ${h.cstrToJs(x)} ${F}`);const te=x&&h.peek8(x)?X.getPath(x):D();let _e=X.getSAHForPath(te);!_e&&F&o.SQLITE_OPEN_CREATE&&(X.getFileCount()<X.getCapacity()?(_e=X.nextAvailableSAH(),X.setAssociatedPath(_e,te,F)):n("SAH pool is full. Cannot create file",te)),_e||n("file not found:",te);const Te={path:te,flags:F,sah:_e};X.mapS3FileToOFile(I,Te),Te.lockType=o.SQLITE_LOCK_NONE;const Ae=new o.sqlite3_file(I);return Ae.$pMethods=b.pointer,Ae.dispose(),h.poke32(H,F),0}catch(te){return X.storeErr(te),o.SQLITE_CANTOPEN}}},J=function(L){t.capi.sqlite3_vfs_find(L)&&r("VFS name is already registered:",L);const u=new o.sqlite3_vfs,x=o.sqlite3_vfs_find(null),I=x?new o.sqlite3_vfs(x):null;return u.$iVersion=2,u.$szOsFile=o.sqlite3_file.structInfo.sizeof,u.$mxPathname=N,u.addOnDispose(u.$zName=h.allocCString(L),()=>f(u.pointer,0)),I&&(u.$xRandomness=I.$xRandomness,u.$xSleep=I.$xSleep,I.dispose()),!u.$xRandomness&&!j.xRandomness&&(j.xRandomness=function(F,H,X){const te=h.heap8u();let _e=0;for(;_e<H;++_e)te[X+_e]=Math.random()*255e3&255;return _e}),!u.$xSleep&&!j.xSleep&&(j.xSleep=(F,H)=>0),t.vfs.installVfs({vfs:{struct:u,methods:j}}),u};class Z{constructor(u=Object.create(null)){Oe(this,V);Wt(this,"vfsDir");Oe(this,re);Oe(this,le);Oe(this,pe);Oe(this,he,new Map);Oe(this,fe,new Map);Oe(this,Ee,new Set);Oe(this,ke,new Map);Oe(this,k,new Uint8Array(P));Oe(this,U);Oe(this,B);Oe(this,K);Ce(this,K,u.verbosity??W.verbosity),this.vfsName=u.name||W.name,Ce(this,B,J(this.vfsName)),f($(this,B).pointer,this),this.vfsDir=u.directory||"."+this.vfsName,Ce(this,U,new DataView($(this,k).buffer,$(this,k).byteOffset)),this.isReady=this.reset(!!(u.clearOnInit??W.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(u.initialCapacity||W.initialCapacity)})}log(...u){_t(this,V,ut).call(this,2,...u)}warn(...u){_t(this,V,ut).call(this,1,...u)}error(...u){_t(this,V,ut).call(this,0,...u)}getVfs(){return $(this,B)}getCapacity(){return $(this,he).size}getFileCount(){return $(this,fe).size}getFileNames(){const u=[];for(const x of $(this,fe).keys())u.push(x);return u}async addCapacity(u){for(let x=0;x<u;++x){const I=D(),H=await(await $(this,le).getFileHandle(I,{create:!0})).createSyncAccessHandle();$(this,he).set(H,I),this.setAssociatedPath(H,"",0)}return this.getCapacity()}async reduceCapacity(u){let x=0;for(const I of Array.from($(this,Ee))){if(x===u||this.getFileCount()===this.getCapacity())break;const F=$(this,he).get(I);I.close(),await $(this,le).removeEntry(F),$(this,he).delete(I),$(this,Ee).delete(I),++x}return x}releaseAccessHandles(){for(const u of $(this,he).keys())u.close();$(this,he).clear(),$(this,fe).clear(),$(this,Ee).clear()}async acquireAccessHandles(u=!1){const x=[];for await(const[I,F]of $(this,le))F.kind==="file"&&x.push([I,F]);return Promise.all(x.map(async([I,F])=>{try{const H=await F.createSyncAccessHandle();if($(this,he).set(H,I),u)H.truncate(y),this.setAssociatedPath(H,"",0);else{const X=this.getAssociatedPath(H);X?$(this,fe).set(X,H):$(this,Ee).add(H)}}catch(H){throw this.storeErr(H),this.releaseAccessHandles(),H}}))}getAssociatedPath(u){u.read($(this,k),{at:0});const x=$(this,U).getUint32(A);if($(this,k)[0]&&(x&o.SQLITE_OPEN_DELETEONCLOSE||(x&E)===0))return m(`Removing file with unexpected flags ${x.toString(16)}`,$(this,k)),this.setAssociatedPath(u,"",0),"";const I=new Uint32Array(G/4);u.read(I,{at:R});const F=this.computeDigest($(this,k),x);if(I.every((H,X)=>H===F[X])){const H=$(this,k).findIndex(X=>X===0);return H===0&&u.truncate(y),H?S.decode($(this,k).subarray(0,H)):""}else return m("Disassociating file with bad digest."),this.setAssociatedPath(u,"",0),""}setAssociatedPath(u,x,I){const F=M.encodeInto(x,$(this,k));N<=F.written+1&&n("Path too long:",x),x&&I&&(I|=T),$(this,k).fill(0,F.written,N),$(this,U).setUint32(A,I);const H=this.computeDigest($(this,k),I);u.write($(this,k),{at:0}),u.write(H,{at:R}),u.flush(),x?($(this,fe).set(x,u),$(this,Ee).delete(u)):(u.truncate(y),$(this,Ee).add(u))}computeDigest(u,x){if(x&T){let I=3735928559,F=1103547991;for(const H of u)I=Math.imul(I^H,2654435761),F=Math.imul(F^H,104729);return new Uint32Array([I>>>0,F>>>0])}else return new Uint32Array([0,0])}async reset(u){await this.isReady;let x=await navigator.storage.getDirectory(),I;for(const F of this.vfsDir.split("/"))F&&(I=x,x=await x.getDirectoryHandle(F,{create:!0}));return Ce(this,re,x),Ce(this,pe,I),Ce(this,le,await $(this,re).getDirectoryHandle(O,{create:!0})),this.releaseAccessHandles(),this.acquireAccessHandles(u)}getPath(u){return h.isPtr(u)&&(u=h.cstrToJs(u)),(u instanceof URL?u:new URL(u,"file://localhost/")).pathname}deletePath(u){const x=$(this,fe).get(u);return x&&($(this,fe).delete(u),this.setAssociatedPath(x,"",0)),!!x}storeErr(u,x){return u&&(u.sqlite3Rc=x||o.SQLITE_IOERR,this.error(u)),this.$error=u,x}popErr(){const u=this.$error;return this.$error=void 0,u}nextAvailableSAH(){const[u]=$(this,Ee).keys();return u}getOFileForS3File(u){return $(this,ke).get(u)}mapS3FileToOFile(u,x){x?($(this,ke).set(u,x),_(u,this)):($(this,ke).delete(u),_(u,!1))}hasFilename(u){return $(this,fe).has(u)}getSAHForPath(u){return $(this,fe).get(u)}async removeVfs(){if(!$(this,B).pointer||!$(this,le))return!1;o.sqlite3_vfs_unregister($(this,B).pointer),$(this,B).dispose(),delete s[this.vfsName];try{this.releaseAccessHandles(),await $(this,re).removeEntry(O,{recursive:!0}),Ce(this,le,void 0),await $(this,pe).removeEntry($(this,re).name,{recursive:!0}),Ce(this,re,Ce(this,pe,void 0))}catch(u){t.config.error(this.vfsName,"removeVfs() failed with no recovery strategy:",u)}return!0}pauseVfs(){return $(this,ke).size>0&&t.SQLite3Error.toss(o.SQLITE_MISUSE,"Cannot pause VFS",this.vfsName,"because it has opened files."),$(this,he).size>0&&(o.sqlite3_vfs_unregister(this.vfsName),this.releaseAccessHandles()),this}isPaused(){return $(this,he).size===0}async unpauseVfs(){return $(this,he).size===0?this.acquireAccessHandles(!1).then(()=>o.sqlite3_vfs_register($(this,B),0),this):this}exportFile(u){const x=$(this,fe).get(u)||n("File not found:",u),I=x.getSize()-y,F=new Uint8Array(I>0?I:0);if(I>0){const H=x.read(F,{at:y});H!=I&&n("Expected to read "+I+" bytes but read "+H+".")}return F}async importDbChunked(u,x){const I=$(this,fe).get(u)||this.nextAvailableSAH()||n("No available handles to import to.");I.truncate(0);let F=0,H,X=!1;try{for(;(H=await x())!==void 0;)H instanceof ArrayBuffer&&(H=new Uint8Array(H)),F===0&&H.byteLength>=15&&(d.affirmDbHeader(H),X=!0),I.write(H,{at:y+F}),F+=H.byteLength;if((F<512||F%512!==0)&&n("Input size",F,"is not correct for an SQLite database."),!X){const te=new Uint8Array(20);I.read(te,{at:0}),d.affirmDbHeader(te)}I.write(new Uint8Array([1,1]),{at:y+18})}catch(te){throw this.setAssociatedPath(I,"",0),te}return this.setAssociatedPath(I,u,o.SQLITE_OPEN_MAIN_DB),F}importDb(u,x){if(x instanceof ArrayBuffer)x=new Uint8Array(x);else if(x instanceof Function)return this.importDbChunked(u,x);const I=$(this,fe).get(u)||this.nextAvailableSAH()||n("No available handles to import to."),F=x.byteLength;(F<512||F%512!=0)&&n("Byte array size is invalid for an SQLite db.");const H="SQLite format 3";for(let te=0;te<H.length;++te)H.charCodeAt(te)!==x[te]&&n("Input does not contain an SQLite database header.");const X=I.write(x,{at:y});return X!=F?(this.setAssociatedPath(I,"",0),n("Expected to write "+F+" bytes but wrote "+X+".")):(I.write(new Uint8Array([1,1]),{at:y+18}),this.setAssociatedPath(I,u,o.SQLITE_OPEN_MAIN_DB)),X}}re=new WeakMap,le=new WeakMap,pe=new WeakMap,he=new WeakMap,fe=new WeakMap,Ee=new WeakMap,ke=new WeakMap,k=new WeakMap,U=new WeakMap,B=new WeakMap,K=new WeakMap,V=new WeakSet,ut=function(u,...x){$(this,K)>u&&c[u](this.vfsName+":",...x)};class oe{constructor(u){Oe(this,Y);Ce(this,Y,u),this.vfsName=u.vfsName}async addCapacity(u){return $(this,Y).addCapacity(u)}async reduceCapacity(u){return $(this,Y).reduceCapacity(u)}getCapacity(){return $(this,Y).getCapacity($(this,Y))}getFileCount(){return $(this,Y).getFileCount()}getFileNames(){return $(this,Y).getFileNames()}async reserveMinimumCapacity(u){const x=$(this,Y).getCapacity();return x<u?$(this,Y).addCapacity(u-x):x}exportFile(u){return $(this,Y).exportFile(u)}importDb(u,x){return $(this,Y).importDb(u,x)}async wipeFiles(){return $(this,Y).reset(!0)}unlink(u){return $(this,Y).deletePath(u)}async removeVfs(){return $(this,Y).removeVfs()}pauseVfs(){return $(this,Y).pauseVfs(),this}async unpauseVfs(){return $(this,Y).unpauseVfs().then(()=>this)}isPaused(){return $(this,Y).isPaused()}}Y=new WeakMap;const se=async()=>{const L=await navigator.storage.getDirectory(),u=".opfs-sahpool-sync-check-"+D(),F=(await(await L.getFileHandle(u,{create:!0})).createSyncAccessHandle()).close();return await F,await L.removeEntry(u),F!=null&&F.then&&n("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};t.installOpfsSAHPoolVfs=async function(L=Object.create(null)){var x;L=Object.assign(Object.create(null),W,L||{});const u=L.name;if(L.$testThrowPhase1)throw L.$testThrowPhase1;if(s[u])try{return await s[u]}catch(I){if(L.forceReinitIfPreviouslyFailed)delete s[u];else throw I}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!((x=navigator==null?void 0:navigator.storage)!=null&&x.getDirectory)?s[u]=Promise.reject(new Error("Missing required OPFS APIs.")):s[u]=se().then(async function(){if(L.$testThrowPhase2)throw L.$testThrowPhase2;const I=new Z(L);return I.isReady.then(async()=>{const F=new oe(I);if(t.oo1){const H=t.oo1,X=I.getVfs(),te=function(..._e){const Te=H.DB.dbCtorHelper.normalizeArgs(..._e);Te.vfs=X.$zName,H.DB.dbCtorHelper.call(this,Te)};te.prototype=Object.create(H.DB.prototype),F.OpfsSAHPoolDb=te}return I.log("VFS initialized."),F}).catch(async F=>{throw await I.removeVfs().catch(()=>{}),F})}).catch(I=>s[u]=Promise.reject(I))}}),typeof i<"u"){const t=Object.assign(Object.create(null),{exports:typeof p>"u"?i.asm:p,memory:i.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=t;let n;try{n=globalThis.sqlite3ApiBootstrap()}catch(r){throw console.error("sqlite3ApiBootstrap() error:",r),r}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}i.sqlite3=n}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")},ve=ye,ve}})();ge=(function(){var ve,i;const ue=ge;if(!ue)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const ie=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:(ve=globalThis==null?void 0:globalThis.document)==null?void 0:ve.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:(i=globalThis==null?void 0:globalThis.location)!=null&&i.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(ie.debugModule=ie.urlParams.has("sqlite3.debugModule")?(...qe)=>console.warn("sqlite3.debugModule:",...qe):()=>{},ie.urlParams.has("sqlite3.dir"))ie.sqlite3Dir=ie.urlParams.get("sqlite3.dir")+"/";else if(ie.moduleScript){const qe=ie.moduleScript.src.split("/");qe.pop(),ie.sqlite3Dir=qe.join("/")+"/"}if(globalThis.sqlite3InitModule=function qe(...Se){return ue(...Se).then(ye=>{ye.runSQLite3PostLoadInit(ye);const Le=ye.sqlite3;Le.scriptInfo=ie,qe.__isUnderTest&&(Le.__isUnderTest=!0);const Ne=Le.asyncPostInit;return delete Le.asyncPostInit,Ne()}).catch(ye=>{throw console.error("Exception loading sqlite3 module:",ye),ye})},globalThis.sqlite3InitModule.ready=ue.ready,globalThis.sqlite3InitModuleState.moduleScript){const qe=globalThis.sqlite3InitModuleState;let Se=qe.moduleScript.src.split("/");Se.pop(),qe.scriptDir=Se.join("/")+"/"}return ie.debugModule("sqlite3InitModuleState =",ie),globalThis.sqlite3InitModule})();var xe=ge;globalThis.sqlite3Worker1Promiser=function ue(ie=ue.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const ne=ie;ie=Object.assign(Object.create(null),ue.defaultConfig),ie.onready=ne}else ie=Object.assign(Object.create(null),ue.defaultConfig,ie);const ve=Object.create(null),i=function(){},qe=ie.onerror||i,Se=ie.debug||i,ye=ie.generateMessageId?void 0:Object.create(null),Le=ie.generateMessageId||function(ne){return ne.type+"#"+(ye[ne.type]=(ye[ne.type]||0)+1)},Ne=(...ne)=>{throw new Error(ne.join(" "))};ie.worker||(ie.worker=ue.defaultConfig.worker),typeof ie.worker=="function"&&(ie.worker=ie.worker());let Re,Ye;return ie.worker.onmessage=function(ne){ne=ne.data,Se("worker1.onmessage",ne);let be=ve[ne.messageId];if(!be){if(ne&&ne.type==="sqlite3-api"&&ne.result==="worker1-ready"){ie.onready&&ie.onready(Ye);return}if(be=ve[ne.type],be&&be.onrow){be.onrow(ne);return}ie.onunhandled?ie.onunhandled(arguments[0]):qe("sqlite3Worker1Promiser() unhandled worker message:",ne);return}switch(delete ve[ne.messageId],ne.type){case"error":be.reject(ne);return;case"open":Re||(Re=ne.dbId);break;case"close":ne.dbId===Re&&(Re=void 0);break}try{be.resolve(ne)}catch(Me){be.reject(Me)}},Ye=function(){let ne;arguments.length===1?ne=arguments[0]:arguments.length===2?(ne=Object.create(null),ne.type=arguments[0],ne.args=arguments[1],ne.dbId=ne.args.dbId):Ne("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!ne.dbId&&ne.type!=="open"&&(ne.dbId=Re),ne.messageId=Le(ne),ne.departureTime=performance.now();const be=Object.create(null);be.message=ne;let Me;ne.type==="exec"&&ne.args&&(typeof ne.args.callback=="function"?(Me=ne.messageId+":row",be.onrow=ne.args.callback,ne.args.callback=Me,ve[Me]=be):typeof ne.args.callback=="string"&&Ne("exec callback may not be a string when using the Promise interface."));let We=new Promise(function(Ge,Ze){be.resolve=Ge,be.reject=Ze,ve[ne.messageId]=be,Se("Posting",ne.type,"message to Worker dbId="+(Re||"default")+":",ne),ie.worker.postMessage(ne)});return Me&&(We=We.finally(()=>delete ve[Me])),We}},globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-CH1gwPo3.js",self.location.href),{type:"module"})},onerror:(...ue)=>console.error("worker1 promiser error",...ue)},sqlite3Worker1Promiser.v2=(function(ue){let ie;typeof ue=="function"?(ie=ue,ue={}):typeof(ue==null?void 0:ue.onready)=="function"&&(ie=ue.onready,delete ue.onready);const ve=Object.create(null);ue=Object.assign(ue||Object.create(null),{onready:async function(qe){try{ie&&await ie(qe),ve.resolve(qe)}catch(Se){ve.reject(Se)}}});const i=new Promise(function(qe,Se){ve.resolve=qe,ve.reject=Se});try{this.original(ue)}catch(qe){ve.reject(qe)}return i}).bind({original:sqlite3Worker1Promiser}),sqlite3Worker1Promiser.v2;const st=`
CREATE TABLE IF NOT EXISTS fragments (
  id TEXT PRIMARY KEY,
  date TEXT NOT NULL,
  content TEXT NOT NULL,
  timestamp INTEGER NOT NULL,
  tags TEXT
);

CREATE TABLE IF NOT EXISTS diary_entries (
  date TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  content TEXT NOT NULL,
  mood TEXT NOT NULL,
  reflection TEXT NOT NULL,
  tags TEXT NOT NULL,
  created_at INTEGER
);

CREATE INDEX IF NOT EXISTS idx_fragments_date ON fragments(date);
CREATE INDEX IF NOT EXISTS idx_fragments_timestamp ON fragments(timestamp);
`;let Pe=null;const Et=async()=>{if(!Pe)try{console.log("[Worker] Initializing SQLite WASM...");const ue=await xe({print:console.log,printErr:console.error});console.log("[Worker] SQLite3 loaded, version:",ue.version.libVersion),console.log("[Worker] Available VFS:",ue.capi.sqlite3_js_vfs_list()),ue.capi.sqlite3_vfs_find("opfs")?(console.log("[Worker] OPFS support detected, creating OpfsDb..."),Pe=new ue.oo1.OpfsDb("/nimo.sqlite3"),console.log("[Worker] OpfsDb created successfully")):(console.log("[Worker] OPFS not available, falling back to KVFS/LocalStorage"),Pe=new ue.oo1.DB("/nimo.sqlite3","ct")),Pe.exec(st),console.log("[Worker] Database schema initialized")}catch(ue){throw console.error("[Worker] Failed to initialize SQLite:",ue),ue}};self.onmessage=async ue=>{const{id:ie,type:ve,sql:i,params:qe,method:Se}=ue.data;if(ve==="init"){try{await Et();const ye=Pe&&Pe.dbVfsName()==="opfs";self.postMessage({id:ie,type:"init_result",success:!0,backend:ye?"OPFS":"KVVFS/LocalStorage"})}catch(ye){self.postMessage({id:ie,type:"init_result",success:!1,error:ye.message})}return}Pe||await Et();try{let ye;switch(Se){case"run":Pe.exec({sql:i,bind:qe}),ye=[];break;case"all":ye=Pe.exec({sql:i,bind:qe,returnValue:"resultRows",rowMode:"object"})||[];break;case"get":const Le=Pe.exec({sql:i,bind:qe,returnValue:"resultRows",rowMode:"object"});ye=Le&&Le.length>0?Le[0]:null;break;case"values":ye=Pe.exec({sql:i,bind:qe,returnValue:"resultRows",rowMode:"array"})||[];break;default:ye=Pe.exec({sql:i,bind:qe,returnValue:"resultRows",rowMode:"object"})||[]}self.postMessage({id:ie,success:!0,data:ye})}catch(ye){console.error("[Worker] SQL Error:",ye),self.postMessage({id:ie,success:!1,error:ye.message})}}})();
