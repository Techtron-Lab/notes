var o_=Object.defineProperty;var l_=(i,e,o)=>e in i?o_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var w=(i,e,o)=>l_(i,typeof e!="symbol"?e+"":e,o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(r){if(r.ep)return;r.ep=!0;const u=o(r);fetch(r.href,u)}})();function s_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Zu={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function a_(){if(Kh)return Il;Kh=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,r,u){var d=null;if(u!==void 0&&(d=""+u),r.key!==void 0&&(d=""+r.key),"key"in r){u={};for(var h in r)h!=="key"&&(u[h]=r[h])}else u=r;return r=u.ref,{$$typeof:i,type:l,key:d,ref:r!==void 0?r:null,props:u}}return Il.Fragment=e,Il.jsx=o,Il.jsxs=o,Il}var Xh;function r_(){return Xh||(Xh=1,Zu.exports=a_()),Zu.exports}var _=r_(),Wu={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function u_(){if(Zh)return Se;Zh=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function Y(b,$,oe){this.props=b,this.context=$,this.refs=k,this.updater=oe||M}Y.prototype.isReactComponent={},Y.prototype.setState=function(b,$){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,$,"setState")},Y.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function W(){}W.prototype=Y.prototype;function G(b,$,oe){this.props=b,this.context=$,this.refs=k,this.updater=oe||M}var K=G.prototype=new W;K.constructor=G,R(K,Y.prototype),K.isPureReactComponent=!0;var ne=Array.isArray;function j(){}var V={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function B(b,$,oe){var ce=oe.ref;return{$$typeof:i,type:b,key:$,ref:ce!==void 0?ce:null,props:oe}}function F(b,$){return B(b.type,$,b.props)}function ie(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function re(b){var $={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(oe){return $[oe]})}var ae=/\/+/g;function Te(b,$){return typeof b=="object"&&b!==null&&b.key!=null?re(""+b.key):$.toString(36)}function Le(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(j,j):(b.status="pending",b.then(function($){b.status==="pending"&&(b.status="fulfilled",b.value=$)},function($){b.status==="pending"&&(b.status="rejected",b.reason=$)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function H(b,$,oe,ce,ve){var _e=typeof b;(_e==="undefined"||_e==="boolean")&&(b=null);var te=!1;if(b===null)te=!0;else switch(_e){case"bigint":case"string":case"number":te=!0;break;case"object":switch(b.$$typeof){case i:case e:te=!0;break;case v:return te=b._init,H(te(b._payload),$,oe,ce,ve)}}if(te)return ve=ve(b),te=ce===""?"."+Te(b,0):ce,ne(ve)?(oe="",te!=null&&(oe=te.replace(ae,"$&/")+"/"),H(ve,$,oe,"",function(Ze){return Ze})):ve!=null&&(ie(ve)&&(ve=F(ve,oe+(ve.key==null||b&&b.key===ve.key?"":(""+ve.key).replace(ae,"$&/")+"/")+te)),$.push(ve)),1;te=0;var ye=ce===""?".":ce+":";if(ne(b))for(var Re=0;Re<b.length;Re++)ce=b[Re],_e=ye+Te(ce,Re),te+=H(ce,$,oe,_e,ve);else if(Re=A(b),typeof Re=="function")for(b=Re.call(b),Re=0;!(ce=b.next()).done;)ce=ce.value,_e=ye+Te(ce,Re++),te+=H(ce,$,oe,_e,ve);else if(_e==="object"){if(typeof b.then=="function")return H(Le(b),$,oe,ce,ve);throw $=String(b),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return te}function ee(b,$,oe){if(b==null)return b;var ce=[],ve=0;return H(b,ce,"","",function(_e){return $.call(oe,_e,ve++)}),ce}function he(b){if(b._status===-1){var $=b._result;$=$(),$.then(function(oe){(b._status===0||b._status===-1)&&(b._status=1,b._result=oe)},function(oe){(b._status===0||b._status===-1)&&(b._status=2,b._result=oe)}),b._status===-1&&(b._status=0,b._result=$)}if(b._status===1)return b._result.default;throw b._result}var qe=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Pe={map:ee,forEach:function(b,$,oe){ee(b,function(){$.apply(this,arguments)},oe)},count:function(b){var $=0;return ee(b,function(){$++}),$},toArray:function(b){return ee(b,function($){return $})||[]},only:function(b){if(!ie(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Se.Activity=S,Se.Children=Pe,Se.Component=Y,Se.Fragment=o,Se.Profiler=r,Se.PureComponent=G,Se.StrictMode=l,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Se.__COMPILER_RUNTIME={__proto__:null,c:function(b){return V.H.useMemoCache(b)}},Se.cache=function(b){return function(){return b.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(b,$,oe){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ce=R({},b.props),ve=b.key;if($!=null)for(_e in $.key!==void 0&&(ve=""+$.key),$)!L.call($,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&$.ref===void 0||(ce[_e]=$[_e]);var _e=arguments.length-2;if(_e===1)ce.children=oe;else if(1<_e){for(var te=Array(_e),ye=0;ye<_e;ye++)te[ye]=arguments[ye+2];ce.children=te}return B(b.type,ve,ce)},Se.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:u,_context:b},b},Se.createElement=function(b,$,oe){var ce,ve={},_e=null;if($!=null)for(ce in $.key!==void 0&&(_e=""+$.key),$)L.call($,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ve[ce]=$[ce]);var te=arguments.length-2;if(te===1)ve.children=oe;else if(1<te){for(var ye=Array(te),Re=0;Re<te;Re++)ye[Re]=arguments[Re+2];ve.children=ye}if(b&&b.defaultProps)for(ce in te=b.defaultProps,te)ve[ce]===void 0&&(ve[ce]=te[ce]);return B(b,_e,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(b){return{$$typeof:h,render:b}},Se.isValidElement=ie,Se.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:he}},Se.memo=function(b,$){return{$$typeof:g,type:b,compare:$===void 0?null:$}},Se.startTransition=function(b){var $=V.T,oe={};V.T=oe;try{var ce=b(),ve=V.S;ve!==null&&ve(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(j,qe)}catch(_e){qe(_e)}finally{$!==null&&oe.types!==null&&($.types=oe.types),V.T=$}},Se.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Se.use=function(b){return V.H.use(b)},Se.useActionState=function(b,$,oe){return V.H.useActionState(b,$,oe)},Se.useCallback=function(b,$){return V.H.useCallback(b,$)},Se.useContext=function(b){return V.H.useContext(b)},Se.useDebugValue=function(){},Se.useDeferredValue=function(b,$){return V.H.useDeferredValue(b,$)},Se.useEffect=function(b,$){return V.H.useEffect(b,$)},Se.useEffectEvent=function(b){return V.H.useEffectEvent(b)},Se.useId=function(){return V.H.useId()},Se.useImperativeHandle=function(b,$,oe){return V.H.useImperativeHandle(b,$,oe)},Se.useInsertionEffect=function(b,$){return V.H.useInsertionEffect(b,$)},Se.useLayoutEffect=function(b,$){return V.H.useLayoutEffect(b,$)},Se.useMemo=function(b,$){return V.H.useMemo(b,$)},Se.useOptimistic=function(b,$){return V.H.useOptimistic(b,$)},Se.useReducer=function(b,$,oe){return V.H.useReducer(b,$,oe)},Se.useRef=function(b){return V.H.useRef(b)},Se.useState=function(b){return V.H.useState(b)},Se.useSyncExternalStore=function(b,$,oe){return V.H.useSyncExternalStore(b,$,oe)},Se.useTransition=function(){return V.H.useTransition()},Se.version="19.2.0",Se}var Wh;function Dc(){return Wh||(Wh=1,Wu.exports=u_()),Wu.exports}var de=Dc();const c_=s_(de);var ju={exports:{}},Ll={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function f_(){return jh||(jh=1,(function(i){function e(H,ee){var he=H.length;H.push(ee);e:for(;0<he;){var qe=he-1>>>1,Pe=H[qe];if(0<r(Pe,ee))H[qe]=ee,H[he]=Pe,he=qe;else break e}}function o(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var ee=H[0],he=H.pop();if(he!==ee){H[0]=he;e:for(var qe=0,Pe=H.length,b=Pe>>>1;qe<b;){var $=2*(qe+1)-1,oe=H[$],ce=$+1,ve=H[ce];if(0>r(oe,he))ce<Pe&&0>r(ve,oe)?(H[qe]=ve,H[ce]=he,qe=ce):(H[qe]=oe,H[$]=he,qe=$);else if(ce<Pe&&0>r(ve,he))H[qe]=ve,H[ce]=he,qe=ce;else break e}}return ee}function r(H,ee){var he=H.sortIndex-ee.sortIndex;return he!==0?he:H.id-ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var y=[],g=[],v=1,S=null,E=3,A=!1,M=!1,R=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function K(H){for(var ee=o(g);ee!==null;){if(ee.callback===null)l(g);else if(ee.startTime<=H)l(g),ee.sortIndex=ee.expirationTime,e(y,ee);else break;ee=o(g)}}function ne(H){if(R=!1,K(H),!M)if(o(y)!==null)M=!0,j||(j=!0,re());else{var ee=o(g);ee!==null&&Le(ne,ee.startTime-H)}}var j=!1,V=-1,L=5,B=-1;function F(){return k?!0:!(i.unstable_now()-B<L)}function ie(){if(k=!1,j){var H=i.unstable_now();B=H;var ee=!0;try{e:{M=!1,R&&(R=!1,W(V),V=-1),A=!0;var he=E;try{t:{for(K(H),S=o(y);S!==null&&!(S.expirationTime>H&&F());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,E=S.priorityLevel;var Pe=qe(S.expirationTime<=H);if(H=i.unstable_now(),typeof Pe=="function"){S.callback=Pe,K(H),ee=!0;break t}S===o(y)&&l(y),K(H)}else l(y);S=o(y)}if(S!==null)ee=!0;else{var b=o(g);b!==null&&Le(ne,b.startTime-H),ee=!1}}break e}finally{S=null,E=he,A=!1}ee=void 0}}finally{ee?re():j=!1}}}var re;if(typeof G=="function")re=function(){G(ie)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Te=ae.port2;ae.port1.onmessage=ie,re=function(){Te.postMessage(null)}}else re=function(){Y(ie,0)};function Le(H,ee){V=Y(function(){H(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(H){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var he=E;E=ee;try{return H()}finally{E=he}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=E;E=H;try{return ee()}finally{E=he}},i.unstable_scheduleCallback=function(H,ee,he){var qe=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?qe+he:qe):he=qe,H){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=he+Pe,H={id:v++,callback:ee,priorityLevel:H,startTime:he,expirationTime:Pe,sortIndex:-1},he>qe?(H.sortIndex=he,e(g,H),o(y)===null&&H===o(g)&&(R?(W(V),V=-1):R=!0,Le(ne,he-qe))):(H.sortIndex=Pe,e(y,H),M||A||(M=!0,j||(j=!0,re()))),H},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(H){var ee=E;return function(){var he=E;E=ee;try{return H.apply(this,arguments)}finally{E=he}}}})(tc)),tc}var ep;function d_(){return ep||(ep=1,ec.exports=f_()),ec.exports}var nc={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function m_(){if(tp)return pt;tp=1;var i=Dc();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(y,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:g,implementation:v}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,pt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,v)},pt.flushSync=function(y){var g=d.T,v=l.p;try{if(d.T=null,l.p=2,y)return y()}finally{d.T=g,l.p=v,l.d.f()}},pt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(y,g))},pt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},pt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?l.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:A}):v==="script"&&l.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(y)},pt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin);l.d.L(y,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);l.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(y)},pt.requestFormReset=function(y){l.d.r(y)},pt.unstable_batchedUpdates=function(y,g){return y(g)},pt.useFormState=function(y,g,v){return d.H.useFormState(y,g,v)},pt.useFormStatus=function(){return d.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var np;function h_(){if(np)return nc.exports;np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nc.exports=m_(),nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function p_(){if(ip)return Ll;ip=1;var i=d_(),e=Dc(),o=h_();function l(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(l(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(l(188));return n!==t?null:t}for(var s=t,a=n;;){var m=s.return;if(m===null)break;var p=m.alternate;if(p===null){if(a=m.return,a!==null){s=a;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===s)return y(m),t;if(p===a)return y(m),n;p=p.sibling}throw Error(l(188))}if(s.return!==a.return)s=m,a=p;else{for(var T=!1,C=m.child;C;){if(C===s){T=!0,s=m,a=p;break}if(C===a){T=!0,a=m,s=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===s){T=!0,s=p,a=m;break}if(C===a){T=!0,a=p,s=m;break}C=C.sibling}if(!T)throw Error(l(189))}}if(s.alternate!==a)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),G=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function Te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case Y:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case j:return"SuspenseList";case B:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case G:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case K:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:Te(t.type)||"Memo";case L:n=t._payload,t=t._init;try{return Te(t(n))}catch{}}return null}var Le=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},qe=[],Pe=-1;function b(t){return{current:t}}function $(t){0>Pe||(t.current=qe[Pe],qe[Pe]=null,Pe--)}function oe(t,n){Pe++,qe[Pe]=t.current,t.current=n}var ce=b(null),ve=b(null),_e=b(null),te=b(null);function ye(t,n){switch(oe(_e,n),oe(ve,t),oe(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?vh(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=vh(n),t=Sh(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ce),oe(ce,t)}function Re(){$(ce),$(ve),$(_e)}function Ze(t){t.memoizedState!==null&&oe(te,t);var n=ce.current,s=Sh(n,t.type);n!==s&&(oe(ve,t),oe(ce,s))}function Hn(t){ve.current===t&&($(ce),$(ve)),te.current===t&&($(te),bl._currentValue=he)}var ot,Ct;function ht(t){if(ot===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ot=n&&n[1]||"",Ct=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+t+Ct}var Dt=!1;function nn(t,n){if(!t||Dt)return"";Dt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(z){var P=z}Reflect.construct(t,[],J)}else{try{J.call()}catch(z){P=z}t.call(J.prototype)}}else{try{throw Error()}catch(z){P=z}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(z){if(z&&P&&typeof z.stack=="string")return[z.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var x=T.split(`
`),q=C.split(`
`);for(m=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(a===x.length||m===q.length)for(a=x.length-1,m=q.length-1;1<=a&&0<=m&&x[a]!==q[m];)m--;for(;1<=a&&0<=m;a--,m--)if(x[a]!==q[m]){if(a!==1||m!==1)do if(a--,m--,0>m||x[a]!==q[m]){var O=`
`+x[a].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=a&&0<=m);break}}}finally{Dt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ht(s):""}function yi(t,n){switch(t.tag){case 26:case 27:case 5:return ht(t.type);case 16:return ht("Lazy");case 13:return t.child!==n&&n!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return nn(t.type,!1);case 11:return nn(t.type.render,!1);case 1:return nn(t.type,!0);case 31:return ht("Activity");default:return""}}function on(t){try{var n="",s=null;do n+=yi(t,s),s=t,t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var pn=Object.prototype.hasOwnProperty,Go=i.unstable_scheduleCallback,za=i.unstable_cancelCallback,PT=i.unstable_shouldYield,BT=i.unstable_requestPaint,It=i.unstable_now,zT=i.unstable_getCurrentPriorityLevel,Kc=i.unstable_ImmediatePriority,Xc=i.unstable_UserBlockingPriority,Fl=i.unstable_NormalPriority,GT=i.unstable_LowPriority,Zc=i.unstable_IdlePriority,HT=i.log,VT=i.unstable_setDisableYieldValue,Ho=null,Lt=null;function Vn(t){if(typeof HT=="function"&&VT(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Ho,t)}catch{}}var Ut=Math.clz32?Math.clz32:FT,OT=Math.log,kT=Math.LN2;function FT(t){return t>>>=0,t===0?32:31-(OT(t)/kT|0)|0}var Ql=256,Jl=262144,Yl=4194304;function vi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $l(t,n,s){var a=t.pendingLanes;if(a===0)return 0;var m=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=a&134217727;return C!==0?(a=C&~p,a!==0?m=vi(a):(T&=C,T!==0?m=vi(T):s||(s=C&~t,s!==0&&(m=vi(s))))):(C=a&~p,C!==0?m=vi(C):T!==0?m=vi(T):s||(s=a&~t,s!==0&&(m=vi(s)))),m===0?0:n!==0&&n!==m&&(n&p)===0&&(p=m&-m,s=n&-n,p>=s||p===32&&(s&4194048)!==0)?n:m}function Vo(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function QT(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var t=Yl;return Yl<<=1,(Yl&62914560)===0&&(Yl=4194304),t}function Ga(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Oo(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function JT(t,n,s,a,m,p){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var C=t.entanglements,x=t.expirationTimes,q=t.hiddenUpdates;for(s=T&~s;0<s;){var O=31-Ut(s),J=1<<O;C[O]=0,x[O]=-1;var P=q[O];if(P!==null)for(q[O]=null,O=0;O<P.length;O++){var z=P[O];z!==null&&(z.lane&=-536870913)}s&=~J}a!==0&&jc(t,a,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~n))}function jc(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var a=31-Ut(n);t.entangledLanes|=n,t.entanglements[a]=t.entanglements[a]|1073741824|s&261930}function ef(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var a=31-Ut(s),m=1<<a;m&n|t[a]&n&&(t[a]|=n),s&=~m}}function tf(t,n){var s=n&-n;return s=(s&42)!==0?1:Ha(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Va(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nf(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Oh(t.type))}function of(t,n){var s=ee.p;try{return ee.p=t,n()}finally{ee.p=s}}var On=Math.random().toString(36).slice(2),rt="__reactFiber$"+On,_t="__reactProps$"+On,ki="__reactContainer$"+On,Oa="__reactEvents$"+On,YT="__reactListeners$"+On,$T="__reactHandles$"+On,lf="__reactResources$"+On,ko="__reactMarker$"+On;function ka(t){delete t[rt],delete t[_t],delete t[Oa],delete t[YT],delete t[$T]}function Fi(t){var n=t[rt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ki]||s[rt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=xh(t);t!==null;){if(s=t[rt])return s;t=xh(t)}return n}t=s,s=t.parentNode}return null}function Qi(t){if(t=t[rt]||t[ki]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Fo(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(l(33))}function Ji(t){var n=t[lf];return n||(n=t[lf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[ko]=!0}var sf=new Set,af={};function Si(t,n){Yi(t,n),Yi(t+"Capture",n)}function Yi(t,n){for(af[t]=n,t=0;t<n.length;t++)sf.add(n[t])}var KT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rf={},uf={};function XT(t){return pn.call(uf,t)?!0:pn.call(rf,t)?!1:KT.test(t)?uf[t]=!0:(rf[t]=!0,!1)}function Kl(t,n,s){if(XT(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Xl(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function gn(t,n,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+a)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cf(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ZT(t,n,s){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,p=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(T){s=""+T,p.call(this,T)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fa(t){if(!t._valueTracker){var n=cf(t)?"checked":"value";t._valueTracker=ZT(t,n,""+t[n])}}function ff(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return t&&(a=cf(t)?t.checked?"true":"false":t.value),t=a,t!==s?(n.setValue(t),!0):!1}function Zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var WT=/[\n"\\]/g;function Qt(t){return t.replace(WT,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qa(t,n,s,a,m,p,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ja(t,T,Ft(n)):s!=null?Ja(t,T,Ft(s)):a!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Ft(C):t.removeAttribute("name")}function df(t,n,s,a,m,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Fa(t);return}s=s!=null?""+Ft(s):"",n=n!=null?""+Ft(n):s,C||n===t.value||(t.value=n),t.defaultValue=n}a=a??m,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=C?t.checked:!!a,t.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Fa(t)}function Ja(t,n,s){n==="number"&&Zl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function $i(t,n,s,a){if(t=t.options,n){n={};for(var m=0;m<s.length;m++)n["$"+s[m]]=!0;for(s=0;s<t.length;s++)m=n.hasOwnProperty("$"+t[s].value),t[s].selected!==m&&(t[s].selected=m),m&&a&&(t[s].defaultSelected=!0)}else{for(s=""+Ft(s),n=null,m=0;m<t.length;m++){if(t[m].value===s){t[m].selected=!0,a&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function mf(t,n,s){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ft(s):""}function hf(t,n,s,a){if(n==null){if(a!=null){if(s!=null)throw Error(l(92));if(Le(a)){if(1<a.length)throw Error(l(93));a=a[0]}s=a}s==null&&(s=""),n=s}s=Ft(n),t.defaultValue=s,a=t.textContent,a===s&&a!==""&&a!==null&&(t.value=a),Fa(t)}function Ki(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var jT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pf(t,n,s){var a=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":a?t.setProperty(n,s):typeof s!="number"||s===0||jT.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function gf(t,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(t=t.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var m in n)a=n[m],n.hasOwnProperty(m)&&s[m]!==a&&pf(t,m,a)}else for(var p in n)n.hasOwnProperty(p)&&pf(t,p,n[p])}function Ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(t){return tE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yn(){}var $a=null;function Ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Zi=null;function yf(t){var n=Qi(t);if(n&&(t=n.stateNode)){var s=t[_t]||null;e:switch(t=n.stateNode,n.type){case"input":if(Qa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==t&&a.form===t.form){var m=a[_t]||null;if(!m)throw Error(l(90));Qa(a,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<s.length;n++)a=s[n],a.form===t.form&&ff(a)}break e;case"textarea":mf(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&$i(t,!!s.multiple,n,!1)}}}var Xa=!1;function vf(t,n,s){if(Xa)return t(n,s);Xa=!0;try{var a=t(n);return a}finally{if(Xa=!1,(Xi!==null||Zi!==null)&&(Gs(),Xi&&(n=Xi,t=Zi,Zi=Xi=null,yf(n),t)))for(n=0;n<t.length;n++)yf(t[n])}}function Qo(t,n){var s=t.stateNode;if(s===null)return null;var a=s[_t]||null;if(a===null)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(vn)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Za=!1}var kn=null,Wa=null,jl=null;function Sf(){if(jl)return jl;var t,n=Wa,s=n.length,a,m="value"in kn?kn.value:kn.textContent,p=m.length;for(t=0;t<s&&n[t]===m[t];t++);var T=s-t;for(a=1;a<=T&&n[s-a]===m[p-a];a++);return jl=m.slice(t,1<a?1-a:void 0)}function es(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function Tf(){return!1}function At(t){function n(s,a,m,p,T){this._reactName=s,this._targetInst=m,this.type=a,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(s=t[C],this[C]=s?s(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ts:Tf,this.isPropagationStopped=Tf,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=At(Ti),Yo=S({},Ti,{view:0,detail:0}),nE=At(Yo),ja,er,$o,is=S({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(ja=t.screenX-$o.screenX,er=t.screenY-$o.screenY):er=ja=0,$o=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:er}}),Ef=At(is),iE=S({},is,{dataTransfer:0}),oE=At(iE),lE=S({},Yo,{relatedTarget:0}),tr=At(lE),sE=S({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),aE=At(sE),rE=S({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uE=At(rE),cE=S({},Ti,{data:0}),Cf=At(cE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hE(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mE[t])?!!n[t]:!1}function nr(){return hE}var pE=S({},Yo,{key:function(t){if(t.key){var n=fE[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(t){return t.type==="keypress"?es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gE=At(pE),yE=S({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=At(yE),vE=S({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),SE=At(vE),TE=S({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),EE=At(TE),CE=S({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_E=At(CE),AE=S({},Ti,{newState:0,oldState:0}),wE=At(AE),xE=[9,13,27,32],ir=vn&&"CompositionEvent"in window,Ko=null;vn&&"documentMode"in document&&(Ko=document.documentMode);var NE=vn&&"TextEvent"in window&&!Ko,Af=vn&&(!ir||Ko&&8<Ko&&11>=Ko),wf=" ",xf=!1;function Nf(t,n){switch(t){case"keyup":return xE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function bE(t,n){switch(t){case"compositionend":return bf(n);case"keypress":return n.which!==32?null:(xf=!0,wf);case"textInput":return t=n.data,t===wf&&xf?null:t;default:return null}}function RE(t,n){if(Wi)return t==="compositionend"||!ir&&Nf(t,n)?(t=Sf(),jl=Wa=kn=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Af&&n.locale!=="ko"?null:n.data;default:return null}}var ME={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ME[t.type]:n==="textarea"}function Mf(t,n,s,a){Xi?Zi?Zi.push(a):Zi=[a]:Xi=a,n=Js(n,"onChange"),0<n.length&&(s=new ns("onChange","change",null,s,a),t.push({event:s,listeners:n}))}var Xo=null,Zo=null;function DE(t){dh(t,0)}function os(t){var n=Fo(t);if(ff(n))return t}function Df(t,n){if(t==="change")return n}var If=!1;if(vn){var or;if(vn){var lr="oninput"in document;if(!lr){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),lr=typeof Lf.oninput=="function"}or=lr}else or=!1;If=or&&(!document.documentMode||9<document.documentMode)}function Uf(){Xo&&(Xo.detachEvent("onpropertychange",qf),Zo=Xo=null)}function qf(t){if(t.propertyName==="value"&&os(Zo)){var n=[];Mf(n,Zo,t,Ka(t)),vf(DE,n)}}function IE(t,n,s){t==="focusin"?(Uf(),Xo=n,Zo=s,Xo.attachEvent("onpropertychange",qf)):t==="focusout"&&Uf()}function LE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return os(Zo)}function UE(t,n){if(t==="click")return os(n)}function qE(t,n){if(t==="input"||t==="change")return os(n)}function PE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var qt=typeof Object.is=="function"?Object.is:PE;function Wo(t,n){if(qt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var m=s[a];if(!pn.call(n,m)||!qt(t[m],n[m]))return!1}return!0}function Pf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bf(t,n){var s=Pf(t);t=0;for(var a;s;){if(s.nodeType===3){if(a=t+s.textContent.length,t<=n&&a>=n)return{node:s,offset:n-t};t=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Pf(s)}}function zf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Zl(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Zl(t.document)}return n}function sr(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var BE=vn&&"documentMode"in document&&11>=document.documentMode,ji=null,ar=null,jo=null,rr=!1;function Hf(t,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rr||ji==null||ji!==Zl(a)||(a=ji,"selectionStart"in a&&sr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),jo&&Wo(jo,a)||(jo=a,a=Js(ar,"onSelect"),0<a.length&&(n=new ns("onSelect","select",null,n,s),t.push({event:n,listeners:a}),n.target=ji)))}function Ei(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var eo={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},ur={},Vf={};vn&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Ci(t){if(ur[t])return ur[t];if(!eo[t])return t;var n=eo[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Vf)return ur[t]=n[s];return t}var Of=Ci("animationend"),kf=Ci("animationiteration"),Ff=Ci("animationstart"),zE=Ci("transitionrun"),GE=Ci("transitionstart"),HE=Ci("transitioncancel"),Qf=Ci("transitionend"),Jf=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function ln(t,n){Jf.set(t,n),Si(n,[t])}var ls=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jt=[],to=0,fr=0;function ss(){for(var t=to,n=fr=to=0;n<t;){var s=Jt[n];Jt[n++]=null;var a=Jt[n];Jt[n++]=null;var m=Jt[n];Jt[n++]=null;var p=Jt[n];if(Jt[n++]=null,a!==null&&m!==null){var T=a.pending;T===null?m.next=m:(m.next=T.next,T.next=m),a.pending=m}p!==0&&Yf(s,m,p)}}function as(t,n,s,a){Jt[to++]=t,Jt[to++]=n,Jt[to++]=s,Jt[to++]=a,fr|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function dr(t,n,s,a){return as(t,n,s,a),rs(t)}function _i(t,n){return as(t,null,null,n),rs(t)}function Yf(t,n,s){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s);for(var m=!1,p=t.return;p!==null;)p.childLanes|=s,a=p.alternate,a!==null&&(a.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&n!==null&&(m=31-Ut(s),t=p.hiddenUpdates,a=t[m],a===null?t[m]=[n]:a.push(n),n.lane=s|536870912),p):null}function rs(t){if(50<El)throw El=0,Eu=null,Error(l(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var no={};function VE(t,n,s,a){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,n,s,a){return new VE(t,n,s,a)}function mr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sn(t,n){var s=t.alternate;return s===null?(s=Pt(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function $f(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function us(t,n,s,a,m,p){var T=0;if(a=t,typeof t=="function")mr(t)&&(T=1);else if(typeof t=="string")T=JC(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case B:return t=Pt(31,s,n,m),t.elementType=B,t.lanes=p,t;case R:return Ai(s.children,m,p,n);case k:T=8,m|=24;break;case Y:return t=Pt(12,s,n,m|2),t.elementType=Y,t.lanes=p,t;case ne:return t=Pt(13,s,n,m),t.elementType=ne,t.lanes=p,t;case j:return t=Pt(19,s,n,m),t.elementType=j,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:T=10;break e;case W:T=9;break e;case K:T=11;break e;case V:T=14;break e;case L:T=16,a=null;break e}T=29,s=Error(l(130,t===null?"null":typeof t,"")),a=null}return n=Pt(T,s,n,m),n.elementType=t,n.type=a,n.lanes=p,n}function Ai(t,n,s,a){return t=Pt(7,t,a,n),t.lanes=s,t}function hr(t,n,s){return t=Pt(6,t,null,n),t.lanes=s,t}function Kf(t){var n=Pt(18,null,null,0);return n.stateNode=t,n}function pr(t,n,s){return n=Pt(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xf=new WeakMap;function Yt(t,n){if(typeof t=="object"&&t!==null){var s=Xf.get(t);return s!==void 0?s:(n={value:t,source:n,stack:on(n)},Xf.set(t,n),n)}return{value:t,source:n,stack:on(n)}}var io=[],oo=0,cs=null,el=0,$t=[],Kt=0,Fn=null,cn=1,fn="";function Tn(t,n){io[oo++]=el,io[oo++]=cs,cs=t,el=n}function Zf(t,n,s){$t[Kt++]=cn,$t[Kt++]=fn,$t[Kt++]=Fn,Fn=t;var a=cn;t=fn;var m=32-Ut(a)-1;a&=~(1<<m),s+=1;var p=32-Ut(n)+m;if(30<p){var T=m-m%5;p=(a&(1<<T)-1).toString(32),a>>=T,m-=T,cn=1<<32-Ut(n)+m|s<<m|a,fn=p+t}else cn=1<<p|s<<m|a,fn=t}function gr(t){t.return!==null&&(Tn(t,1),Zf(t,1,0))}function yr(t){for(;t===cs;)cs=io[--oo],io[oo]=null,el=io[--oo],io[oo]=null;for(;t===Fn;)Fn=$t[--Kt],$t[Kt]=null,fn=$t[--Kt],$t[Kt]=null,cn=$t[--Kt],$t[Kt]=null}function Wf(t,n){$t[Kt++]=cn,$t[Kt++]=fn,$t[Kt++]=Fn,cn=n.id,fn=n.overflow,Fn=t}var ut=null,ke=null,be=!1,Qn=null,Xt=!1,vr=Error(l(519));function Jn(t){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Yt(n,t)),vr}function jf(t){var n=t.stateNode,s=t.type,a=t.memoizedProps;switch(n[rt]=t,n[_t]=a,s){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(s=0;s<_l.length;s++)we(_l[s],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":we("invalid",n),df(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":we("invalid",n);break;case"textarea":we("invalid",n),hf(n,a.value,a.defaultValue,a.children)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||a.suppressHydrationWarning===!0||gh(n.textContent,s)?(a.popover!=null&&(we("beforetoggle",n),we("toggle",n)),a.onScroll!=null&&we("scroll",n),a.onScrollEnd!=null&&we("scrollend",n),a.onClick!=null&&(n.onclick=yn),n=!0):n=!1,n||Jn(t,!0)}function ed(t){for(ut=t.return;ut;)switch(ut.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ut=ut.return}}function lo(t){if(t!==ut)return!1;if(!be)return ed(t),be=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Pu(t.type,t.memoizedProps)),s=!s),s&&ke&&Jn(t),ed(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));ke=wh(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));ke=wh(t)}else n===27?(n=ke,si(t.type)?(t=Vu,Vu=null,ke=t):ke=n):ke=ut?Wt(t.stateNode.nextSibling):null;return!0}function wi(){ke=ut=null,be=!1}function Sr(){var t=Qn;return t!==null&&(bt===null?bt=t:bt.push.apply(bt,t),Qn=null),t}function tl(t){Qn===null?Qn=[t]:Qn.push(t)}var Tr=b(null),xi=null,En=null;function Yn(t,n,s){oe(Tr,n._currentValue),n._currentValue=s}function Cn(t){t._currentValue=Tr.current,$(Tr)}function Er(t,n,s){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===s)break;t=t.return}}function Cr(t,n,s,a){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var T=m.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=m;for(var x=0;x<n.length;x++)if(C.context===n[x]){p.lanes|=s,C=p.alternate,C!==null&&(C.lanes|=s),Er(p.return,s,t),a||(T=null);break e}p=C.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(l(341));T.lanes|=s,p=T.alternate,p!==null&&(p.lanes|=s),Er(T,s,t),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===t){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function so(t,n,s,a){t=null;for(var m=n,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var C=m.type;qt(m.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(m===te.current){if(T=m.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}m=m.return}t!==null&&Cr(n,t,s,a),n.flags|=262144}function fs(t){for(t=t.firstContext;t!==null;){if(!qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ni(t){xi=t,En=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ct(t){return td(xi,t)}function ds(t,n){return xi===null&&Ni(t),td(t,n)}function td(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},En===null){if(t===null)throw Error(l(308));En=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else En=En.next=n;return s}var OE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,a){t.push(a)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},kE=i.unstable_scheduleCallback,FE=i.unstable_NormalPriority,We={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _r(){return{controller:new OE,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&kE(FE,function(){t.controller.abort()})}var il=null,Ar=0,ao=0,ro=null;function QE(t,n){if(il===null){var s=il=[];Ar=0,ao=Nu(),ro={status:"pending",value:void 0,then:function(a){s.push(a)}}}return Ar++,n.then(nd,nd),n}function nd(){if(--Ar===0&&il!==null){ro!==null&&(ro.status="fulfilled");var t=il;il=null,ao=0,ro=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function JE(t,n){var s=[],a={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return t.then(function(){a.status="fulfilled",a.value=n;for(var m=0;m<s.length;m++)(0,s[m])(n)},function(m){for(a.status="rejected",a.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),a}var id=H.S;H.S=function(t,n){Hm=It(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&QE(t,n),id!==null&&id(t,n)};var bi=b(null);function wr(){var t=bi.current;return t!==null?t:Oe.pooledCache}function ms(t,n){n===null?oe(bi,bi.current):oe(bi,n.pool)}function od(){var t=wr();return t===null?null:{parent:We._currentValue,pool:t}}var uo=Error(l(460)),xr=Error(l(474)),hs=Error(l(542)),ps={then:function(){}};function ld(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sd(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(yn,yn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rd(t),t;default:if(typeof n.status=="string")n.then(yn,yn);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=n,t.status="pending",t.then(function(a){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=a}},function(a){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rd(t),t}throw Mi=n,uo}}function Ri(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Mi=s,uo):s}}var Mi=null;function ad(){if(Mi===null)throw Error(l(459));var t=Mi;return Mi=null,t}function rd(t){if(t===uo||t===hs)throw Error(l(483))}var co=null,ol=0;function gs(t){var n=ol;return ol+=1,co===null&&(co=[]),sd(co,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ys(t,n){throw n.$$typeof===E?Error(l(525)):(t=Object.prototype.toString.call(n),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ud(t){function n(D,N){if(t){var U=D.deletions;U===null?(D.deletions=[N],D.flags|=16):U.push(N)}}function s(D,N){if(!t)return null;for(;N!==null;)n(D,N),N=N.sibling;return null}function a(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function m(D,N){return D=Sn(D,N),D.index=0,D.sibling=null,D}function p(D,N,U){return D.index=U,t?(U=D.alternate,U!==null?(U=U.index,U<N?(D.flags|=67108866,N):U):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function T(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function C(D,N,U,Q){return N===null||N.tag!==6?(N=hr(U,D.mode,Q),N.return=D,N):(N=m(N,U),N.return=D,N)}function x(D,N,U,Q){var me=U.type;return me===R?O(D,N,U.props.children,Q,U.key):N!==null&&(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===L&&Ri(me)===N.type)?(N=m(N,U.props),ll(N,U),N.return=D,N):(N=us(U.type,U.key,U.props,null,D.mode,Q),ll(N,U),N.return=D,N)}function q(D,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=pr(U,D.mode,Q),N.return=D,N):(N=m(N,U.children||[]),N.return=D,N)}function O(D,N,U,Q,me){return N===null||N.tag!==7?(N=Ai(U,D.mode,Q,me),N.return=D,N):(N=m(N,U),N.return=D,N)}function J(D,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=hr(""+N,D.mode,U),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return U=us(N.type,N.key,N.props,null,D.mode,U),ll(U,N),U.return=D,U;case M:return N=pr(N,D.mode,U),N.return=D,N;case L:return N=Ri(N),J(D,N,U)}if(Le(N)||re(N))return N=Ai(N,D.mode,U,null),N.return=D,N;if(typeof N.then=="function")return J(D,gs(N),U);if(N.$$typeof===G)return J(D,ds(D,N),U);ys(D,N)}return null}function P(D,N,U,Q){var me=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:C(D,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===me?x(D,N,U,Q):null;case M:return U.key===me?q(D,N,U,Q):null;case L:return U=Ri(U),P(D,N,U,Q)}if(Le(U)||re(U))return me!==null?null:O(D,N,U,Q,null);if(typeof U.then=="function")return P(D,N,gs(U),Q);if(U.$$typeof===G)return P(D,N,ds(D,U),Q);ys(D,U)}return null}function z(D,N,U,Q,me){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return D=D.get(U)||null,C(N,D,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return D=D.get(Q.key===null?U:Q.key)||null,x(N,D,Q,me);case M:return D=D.get(Q.key===null?U:Q.key)||null,q(N,D,Q,me);case L:return Q=Ri(Q),z(D,N,U,Q,me)}if(Le(Q)||re(Q))return D=D.get(U)||null,O(N,D,Q,me,null);if(typeof Q.then=="function")return z(D,N,U,gs(Q),me);if(Q.$$typeof===G)return z(D,N,U,ds(N,Q),me);ys(N,Q)}return null}function ue(D,N,U,Q){for(var me=null,Me=null,fe=N,Ce=N=0,Ne=null;fe!==null&&Ce<U.length;Ce++){fe.index>Ce?(Ne=fe,fe=null):Ne=fe.sibling;var De=P(D,fe,U[Ce],Q);if(De===null){fe===null&&(fe=Ne);break}t&&fe&&De.alternate===null&&n(D,fe),N=p(De,N,Ce),Me===null?me=De:Me.sibling=De,Me=De,fe=Ne}if(Ce===U.length)return s(D,fe),be&&Tn(D,Ce),me;if(fe===null){for(;Ce<U.length;Ce++)fe=J(D,U[Ce],Q),fe!==null&&(N=p(fe,N,Ce),Me===null?me=fe:Me.sibling=fe,Me=fe);return be&&Tn(D,Ce),me}for(fe=a(fe);Ce<U.length;Ce++)Ne=z(fe,D,Ce,U[Ce],Q),Ne!==null&&(t&&Ne.alternate!==null&&fe.delete(Ne.key===null?Ce:Ne.key),N=p(Ne,N,Ce),Me===null?me=Ne:Me.sibling=Ne,Me=Ne);return t&&fe.forEach(function(fi){return n(D,fi)}),be&&Tn(D,Ce),me}function ge(D,N,U,Q){if(U==null)throw Error(l(151));for(var me=null,Me=null,fe=N,Ce=N=0,Ne=null,De=U.next();fe!==null&&!De.done;Ce++,De=U.next()){fe.index>Ce?(Ne=fe,fe=null):Ne=fe.sibling;var fi=P(D,fe,De.value,Q);if(fi===null){fe===null&&(fe=Ne);break}t&&fe&&fi.alternate===null&&n(D,fe),N=p(fi,N,Ce),Me===null?me=fi:Me.sibling=fi,Me=fi,fe=Ne}if(De.done)return s(D,fe),be&&Tn(D,Ce),me;if(fe===null){for(;!De.done;Ce++,De=U.next())De=J(D,De.value,Q),De!==null&&(N=p(De,N,Ce),Me===null?me=De:Me.sibling=De,Me=De);return be&&Tn(D,Ce),me}for(fe=a(fe);!De.done;Ce++,De=U.next())De=z(fe,D,Ce,De.value,Q),De!==null&&(t&&De.alternate!==null&&fe.delete(De.key===null?Ce:De.key),N=p(De,N,Ce),Me===null?me=De:Me.sibling=De,Me=De);return t&&fe.forEach(function(i_){return n(D,i_)}),be&&Tn(D,Ce),me}function Ve(D,N,U,Q){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var me=U.key;N!==null;){if(N.key===me){if(me=U.type,me===R){if(N.tag===7){s(D,N.sibling),Q=m(N,U.props.children),Q.return=D,D=Q;break e}}else if(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===L&&Ri(me)===N.type){s(D,N.sibling),Q=m(N,U.props),ll(Q,U),Q.return=D,D=Q;break e}s(D,N);break}else n(D,N);N=N.sibling}U.type===R?(Q=Ai(U.props.children,D.mode,Q,U.key),Q.return=D,D=Q):(Q=us(U.type,U.key,U.props,null,D.mode,Q),ll(Q,U),Q.return=D,D=Q)}return T(D);case M:e:{for(me=U.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){s(D,N.sibling),Q=m(N,U.children||[]),Q.return=D,D=Q;break e}else{s(D,N);break}else n(D,N);N=N.sibling}Q=pr(U,D.mode,Q),Q.return=D,D=Q}return T(D);case L:return U=Ri(U),Ve(D,N,U,Q)}if(Le(U))return ue(D,N,U,Q);if(re(U)){if(me=re(U),typeof me!="function")throw Error(l(150));return U=me.call(U),ge(D,N,U,Q)}if(typeof U.then=="function")return Ve(D,N,gs(U),Q);if(U.$$typeof===G)return Ve(D,N,ds(D,U),Q);ys(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(s(D,N.sibling),Q=m(N,U),Q.return=D,D=Q):(s(D,N),Q=hr(U,D.mode,Q),Q.return=D,D=Q),T(D)):s(D,N)}return function(D,N,U,Q){try{ol=0;var me=Ve(D,N,U,Q);return co=null,me}catch(fe){if(fe===uo||fe===hs)throw fe;var Me=Pt(29,fe,null,D.mode);return Me.lanes=Q,Me.return=D,Me}finally{}}}var Di=ud(!0),cd=ud(!1),$n=!1;function Nr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function br(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(t,n,s){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ue&2)!==0){var m=a.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),a.pending=n,n=rs(t),Yf(t,null,s),n}return as(t,a,n,s),rs(t)}function sl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var a=n.lanes;a&=t.pendingLanes,s|=a,n.lanes=s,ef(t,s)}}function Rr(t,n){var s=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var m=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?m=p=T:p=p.next=T,s=s.next}while(s!==null);p===null?m=p=n:p=p.next=n}else m=p=n;s={baseState:a.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Mr=!1;function al(){if(Mr){var t=ro;if(t!==null)throw t}}function rl(t,n,s,a){Mr=!1;var m=t.updateQueue;$n=!1;var p=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var x=C,q=x.next;x.next=null,T===null?p=q:T.next=q,T=x;var O=t.alternate;O!==null&&(O=O.updateQueue,C=O.lastBaseUpdate,C!==T&&(C===null?O.firstBaseUpdate=q:C.next=q,O.lastBaseUpdate=x))}if(p!==null){var J=m.baseState;T=0,O=q=x=null,C=p;do{var P=C.lane&-536870913,z=P!==C.lane;if(z?(xe&P)===P:(a&P)===P){P!==0&&P===ao&&(Mr=!0),O!==null&&(O=O.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ue=t,ge=C;P=n;var Ve=s;switch(ge.tag){case 1:if(ue=ge.payload,typeof ue=="function"){J=ue.call(Ve,J,P);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ge.payload,P=typeof ue=="function"?ue.call(Ve,J,P):ue,P==null)break e;J=S({},J,P);break e;case 2:$n=!0}}P=C.callback,P!==null&&(t.flags|=64,z&&(t.flags|=8192),z=m.callbacks,z===null?m.callbacks=[P]:z.push(P))}else z={lane:P,tag:C.tag,payload:C.payload,callback:C.callback,next:null},O===null?(q=O=z,x=J):O=O.next=z,T|=P;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;z=C,C=z.next,z.next=null,m.lastBaseUpdate=z,m.shared.pending=null}}while(!0);O===null&&(x=J),m.baseState=x,m.firstBaseUpdate=q,m.lastBaseUpdate=O,p===null&&(m.shared.lanes=0),ti|=T,t.lanes=T,t.memoizedState=J}}function fd(t,n){if(typeof t!="function")throw Error(l(191,t));t.call(n)}function dd(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)fd(s[t],n)}var fo=b(null),vs=b(0);function md(t,n){t=Dn,oe(vs,t),oe(fo,n),Dn=t|n.baseLanes}function Dr(){oe(vs,Dn),oe(fo,fo.current)}function Ir(){Dn=vs.current,$(fo),$(vs)}var Bt=b(null),Zt=null;function Zn(t){var n=t.alternate;oe(Ke,Ke.current&1),oe(Bt,t),Zt===null&&(n===null||fo.current!==null||n.memoizedState!==null)&&(Zt=t)}function Lr(t){oe(Ke,Ke.current),oe(Bt,t),Zt===null&&(Zt=t)}function hd(t){t.tag===22?(oe(Ke,Ke.current),oe(Bt,t),Zt===null&&(Zt=t)):Wn()}function Wn(){oe(Ke,Ke.current),oe(Bt,Bt.current)}function zt(t){$(Bt),Zt===t&&(Zt=null),$(Ke)}var Ke=b(0);function Ss(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Gu(s)||Hu(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _n=0,Ee=null,Ge=null,je=null,Ts=!1,mo=!1,Ii=!1,Es=0,ul=0,ho=null,YE=0;function Ye(){throw Error(l(321))}function Ur(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!qt(t[s],n[s]))return!1;return!0}function qr(t,n,s,a,m,p){return _n=p,Ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Zd:Xr,Ii=!1,p=s(a,m),Ii=!1,mo&&(p=gd(n,s,a,m)),pd(t),p}function pd(t){H.H=dl;var n=Ge!==null&&Ge.next!==null;if(_n=0,je=Ge=Ee=null,Ts=!1,ul=0,ho=null,n)throw Error(l(300));t===null||et||(t=t.dependencies,t!==null&&fs(t)&&(et=!0))}function gd(t,n,s,a){Ee=t;var m=0;do{if(mo&&(ho=null),ul=0,mo=!1,25<=m)throw Error(l(301));if(m+=1,je=Ge=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=Wd,p=n(s,a)}while(mo);return p}function $E(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Ee.flags|=1024),n}function Pr(){var t=Es!==0;return Es=0,t}function Br(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function zr(t){if(Ts){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ts=!1}_n=0,je=Ge=Ee=null,mo=!1,ul=Es=0,ho=null}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ee.memoizedState=je=t:je=je.next=t,je}function Xe(){if(Ge===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var n=je===null?Ee.memoizedState:je.next;if(n!==null)je=n,Ge=t;else{if(t===null)throw Ee.alternate===null?Error(l(467)):Error(l(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},je===null?Ee.memoizedState=je=t:je=je.next=t}return je}function Cs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ul;return ul+=1,ho===null&&(ho=[]),t=sd(ho,t,n),n=Ee,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Zd:Xr),t}function _s(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===G)return ct(t)}throw Error(l(438,String(t)))}function Gr(t){var n=null,s=Ee.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var a=Ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Cs(),Ee.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),a=0;a<t;a++)s[a]=F;return n.index++,s}function An(t,n){return typeof n=="function"?n(t):n}function As(t){var n=Xe();return Hr(n,Ge,t)}function Hr(t,n,s){var a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=s;var m=t.baseQueue,p=a.pending;if(p!==null){if(m!==null){var T=m.next;m.next=p.next,p.next=T}n.baseQueue=m=p,a.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{n=m.next;var C=T=null,x=null,q=n,O=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(xe&J)===J:(_n&J)===J){var P=q.revertLane;if(P===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===ao&&(O=!0);else if((_n&P)===P){q=q.next,P===ao&&(O=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(C=x=J,T=p):x=x.next=J,Ee.lanes|=P,ti|=P;J=q.action,Ii&&s(p,J),p=q.hasEagerState?q.eagerState:s(p,J)}else P={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(C=x=P,T=p):x=x.next=P,Ee.lanes|=J,ti|=J;q=q.next}while(q!==null&&q!==n);if(x===null?T=p:x.next=C,!qt(p,t.memoizedState)&&(et=!0,O&&(s=ro,s!==null)))throw s;t.memoizedState=p,t.baseState=T,t.baseQueue=x,a.lastRenderedState=p}return m===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Vr(t){var n=Xe(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var a=s.dispatch,m=s.pending,p=n.memoizedState;if(m!==null){s.pending=null;var T=m=m.next;do p=t(p,T.action),T=T.next;while(T!==m);qt(p,n.memoizedState)||(et=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),s.lastRenderedState=p}return[p,a]}function yd(t,n,s){var a=Ee,m=Xe(),p=be;if(p){if(s===void 0)throw Error(l(407));s=s()}else s=n();var T=!qt((Ge||m).memoizedState,s);if(T&&(m.memoizedState=s,et=!0),m=m.queue,Fr(Td.bind(null,a,m,t),[t]),m.getSnapshot!==n||T||je!==null&&je.memoizedState.tag&1){if(a.flags|=2048,po(9,{destroy:void 0},Sd.bind(null,a,m,s,n),null),Oe===null)throw Error(l(349));p||(_n&127)!==0||vd(a,n,s)}return s}function vd(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ee.updateQueue,n===null?(n=Cs(),Ee.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Sd(t,n,s,a){n.value=s,n.getSnapshot=a,Ed(n)&&Cd(t)}function Td(t,n,s){return s(function(){Ed(n)&&Cd(t)})}function Ed(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!qt(t,s)}catch{return!0}}function Cd(t){var n=_i(t,2);n!==null&&Rt(n,t,2)}function Or(t){var n=vt();if(typeof t=="function"){var s=t;if(t=s(),Ii){Vn(!0);try{s()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:t},n}function _d(t,n,s,a){return t.baseState=s,Hr(t,Ge,typeof a=="function"?a:An)}function KE(t,n,s,a,m){if(Ns(t))throw Error(l(485));if(t=n.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};H.T!==null?s(!0):p.isTransition=!1,a(p),s=n.pending,s===null?(p.next=n.pending=p,Ad(n,p)):(p.next=s.next,n.pending=s.next=p)}}function Ad(t,n){var s=n.action,a=n.payload,m=t.state;if(n.isTransition){var p=H.T,T={};H.T=T;try{var C=s(m,a),x=H.S;x!==null&&x(T,C),wd(t,n,C)}catch(q){kr(t,n,q)}finally{p!==null&&T.types!==null&&(p.types=T.types),H.T=p}}else try{p=s(m,a),wd(t,n,p)}catch(q){kr(t,n,q)}}function wd(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){xd(t,n,a)},function(a){return kr(t,n,a)}):xd(t,n,s)}function xd(t,n,s){n.status="fulfilled",n.value=s,Nd(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ad(t,s)))}function kr(t,n,s){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=s,Nd(n),n=n.next;while(n!==a)}t.action=null}function Nd(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bd(t,n){return n}function Rd(t,n){if(be){var s=Oe.formState;if(s!==null){e:{var a=Ee;if(be){if(ke){t:{for(var m=ke,p=Xt;m.nodeType!==8;){if(!p){m=null;break t}if(m=Wt(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){ke=Wt(m.nextSibling),a=m.data==="F!";break e}}Jn(a)}a=!1}a&&(n=s[0])}}return s=vt(),s.memoizedState=s.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:n},s.queue=a,s=$d.bind(null,Ee,a),a.dispatch=s,a=Or(!1),p=Kr.bind(null,Ee,!1,a.queue),a=vt(),m={state:n,dispatch:null,action:t,pending:null},a.queue=m,s=KE.bind(null,Ee,m,p,s),m.dispatch=s,a.memoizedState=t,[n,s,!1]}function Md(t){var n=Xe();return Dd(n,Ge,t)}function Dd(t,n,s){if(n=Hr(t,n,bd)[0],t=As(An)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=cl(n)}catch(T){throw T===uo?hs:T}else a=n;n=Xe();var m=n.queue,p=m.dispatch;return s!==n.memoizedState&&(Ee.flags|=2048,po(9,{destroy:void 0},XE.bind(null,m,s),null)),[a,p,t]}function XE(t,n){t.action=n}function Id(t){var n=Xe(),s=Ge;if(s!==null)return Dd(n,s,t);Xe(),n=n.memoizedState,s=Xe();var a=s.queue.dispatch;return s.memoizedState=t,[n,a,!1]}function po(t,n,s,a){return t={tag:t,create:s,deps:a,inst:n,next:null},n=Ee.updateQueue,n===null&&(n=Cs(),Ee.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(a=s.next,s.next=t,t.next=a,n.lastEffect=t),t}function Ld(){return Xe().memoizedState}function ws(t,n,s,a){var m=vt();Ee.flags|=t,m.memoizedState=po(1|n,{destroy:void 0},s,a===void 0?null:a)}function xs(t,n,s,a){var m=Xe();a=a===void 0?null:a;var p=m.memoizedState.inst;Ge!==null&&a!==null&&Ur(a,Ge.memoizedState.deps)?m.memoizedState=po(n,p,s,a):(Ee.flags|=t,m.memoizedState=po(1|n,p,s,a))}function Ud(t,n){ws(8390656,8,t,n)}function Fr(t,n){xs(2048,8,t,n)}function ZE(t){Ee.flags|=4;var n=Ee.updateQueue;if(n===null)n=Cs(),Ee.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function qd(t){var n=Xe().memoizedState;return ZE({ref:n,nextImpl:t}),function(){if((Ue&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function Pd(t,n){return xs(4,2,t,n)}function Bd(t,n){return xs(4,4,t,n)}function zd(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gd(t,n,s){s=s!=null?s.concat([t]):null,xs(4,4,zd.bind(null,n,t),s)}function Qr(){}function Hd(t,n){var s=Xe();n=n===void 0?null:n;var a=s.memoizedState;return n!==null&&Ur(n,a[1])?a[0]:(s.memoizedState=[t,n],t)}function Vd(t,n){var s=Xe();n=n===void 0?null:n;var a=s.memoizedState;if(n!==null&&Ur(n,a[1]))return a[0];if(a=t(),Ii){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[a,n],a}function Jr(t,n,s){return s===void 0||(_n&1073741824)!==0&&(xe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Om(),Ee.lanes|=t,ti|=t,s)}function Od(t,n,s,a){return qt(s,n)?s:fo.current!==null?(t=Jr(t,s,a),qt(t,n)||(et=!0),t):(_n&42)===0||(_n&1073741824)!==0&&(xe&261930)===0?(et=!0,t.memoizedState=s):(t=Om(),Ee.lanes|=t,ti|=t,n)}function kd(t,n,s,a,m){var p=ee.p;ee.p=p!==0&&8>p?p:8;var T=H.T,C={};H.T=C,Kr(t,!1,n,s);try{var x=m(),q=H.S;if(q!==null&&q(C,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=JE(x,a);fl(t,n,O,Vt(t))}else fl(t,n,a,Vt(t))}catch(J){fl(t,n,{then:function(){},status:"rejected",reason:J},Vt())}finally{ee.p=p,T!==null&&C.types!==null&&(T.types=C.types),H.T=T}}function WE(){}function Yr(t,n,s,a){if(t.tag!==5)throw Error(l(476));var m=Fd(t).queue;kd(t,m,n,he,s===null?WE:function(){return Qd(t),s(a)})}function Fd(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:he},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qd(t){var n=Fd(t);n.next===null&&(n=t.alternate.memoizedState),fl(t,n.next.queue,{},Vt())}function $r(){return ct(bl)}function Jd(){return Xe().memoizedState}function Yd(){return Xe().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Vt();t=Kn(s);var a=Xn(n,t,s);a!==null&&(Rt(a,n,s),sl(a,n,s)),n={cache:_r()},t.payload=n;return}n=n.return}}function eC(t,n,s){var a=Vt();s={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ns(t)?Kd(n,s):(s=dr(t,n,s,a),s!==null&&(Rt(s,t,a),Xd(s,n,a)))}function $d(t,n,s){var a=Vt();fl(t,n,s,a)}function fl(t,n,s,a){var m={lane:a,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ns(t))Kd(n,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var T=n.lastRenderedState,C=p(T,s);if(m.hasEagerState=!0,m.eagerState=C,qt(C,T))return as(t,n,m,0),Oe===null&&ss(),!1}catch{}finally{}if(s=dr(t,n,m,a),s!==null)return Rt(s,t,a),Xd(s,n,a),!0}return!1}function Kr(t,n,s,a){if(a={lane:2,revertLane:Nu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ns(t)){if(n)throw Error(l(479))}else n=dr(t,s,a,2),n!==null&&Rt(n,t,2)}function Ns(t){var n=t.alternate;return t===Ee||n!==null&&n===Ee}function Kd(t,n){mo=Ts=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Xd(t,n,s){if((s&4194048)!==0){var a=n.lanes;a&=t.pendingLanes,s|=a,n.lanes=s,ef(t,s)}}var dl={readContext:ct,use:_s,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};dl.useEffectEvent=Ye;var Zd={readContext:ct,use:_s,useCallback:function(t,n){return vt().memoizedState=[t,n===void 0?null:n],t},useContext:ct,useEffect:Ud,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,ws(4194308,4,zd.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ws(4194308,4,t,n)},useInsertionEffect:function(t,n){ws(4,2,t,n)},useMemo:function(t,n){var s=vt();n=n===void 0?null:n;var a=t();if(Ii){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[a,n],a},useReducer:function(t,n,s){var a=vt();if(s!==void 0){var m=s(n);if(Ii){Vn(!0);try{s(n)}finally{Vn(!1)}}}else m=n;return a.memoizedState=a.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},a.queue=t,t=t.dispatch=eC.bind(null,Ee,t),[a.memoizedState,t]},useRef:function(t){var n=vt();return t={current:t},n.memoizedState=t},useState:function(t){t=Or(t);var n=t.queue,s=$d.bind(null,Ee,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Qr,useDeferredValue:function(t,n){var s=vt();return Jr(s,t,n)},useTransition:function(){var t=Or(!1);return t=kd.bind(null,Ee,t.queue,!0,!1),vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var a=Ee,m=vt();if(be){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Oe===null)throw Error(l(349));(xe&127)!==0||vd(a,n,s)}m.memoizedState=s;var p={value:s,getSnapshot:n};return m.queue=p,Ud(Td.bind(null,a,p,t),[t]),a.flags|=2048,po(9,{destroy:void 0},Sd.bind(null,a,p,s,n),null),s},useId:function(){var t=vt(),n=Oe.identifierPrefix;if(be){var s=fn,a=cn;s=(a&~(1<<32-Ut(a)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Es++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=YE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:$r,useFormState:Rd,useActionState:Rd,useOptimistic:function(t){var n=vt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Kr.bind(null,Ee,!0,s),s.dispatch=n,[t,n]},useMemoCache:Gr,useCacheRefresh:function(){return vt().memoizedState=jE.bind(null,Ee)},useEffectEvent:function(t){var n=vt(),s={impl:t};return n.memoizedState=s,function(){if((Ue&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Xr={readContext:ct,use:_s,useCallback:Hd,useContext:ct,useEffect:Fr,useImperativeHandle:Gd,useInsertionEffect:Pd,useLayoutEffect:Bd,useMemo:Vd,useReducer:As,useRef:Ld,useState:function(){return As(An)},useDebugValue:Qr,useDeferredValue:function(t,n){var s=Xe();return Od(s,Ge.memoizedState,t,n)},useTransition:function(){var t=As(An)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:yd,useId:Jd,useHostTransitionStatus:$r,useFormState:Md,useActionState:Md,useOptimistic:function(t,n){var s=Xe();return _d(s,Ge,t,n)},useMemoCache:Gr,useCacheRefresh:Yd};Xr.useEffectEvent=qd;var Wd={readContext:ct,use:_s,useCallback:Hd,useContext:ct,useEffect:Fr,useImperativeHandle:Gd,useInsertionEffect:Pd,useLayoutEffect:Bd,useMemo:Vd,useReducer:Vr,useRef:Ld,useState:function(){return Vr(An)},useDebugValue:Qr,useDeferredValue:function(t,n){var s=Xe();return Ge===null?Jr(s,t,n):Od(s,Ge.memoizedState,t,n)},useTransition:function(){var t=Vr(An)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:yd,useId:Jd,useHostTransitionStatus:$r,useFormState:Id,useActionState:Id,useOptimistic:function(t,n){var s=Xe();return Ge!==null?_d(s,Ge,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Gr,useCacheRefresh:Yd};Wd.useEffectEvent=qd;function Zr(t,n,s,a){n=t.memoizedState,s=s(a,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Wr={enqueueSetState:function(t,n,s){t=t._reactInternals;var a=Vt(),m=Kn(a);m.payload=n,s!=null&&(m.callback=s),n=Xn(t,m,a),n!==null&&(Rt(n,t,a),sl(n,t,a))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var a=Vt(),m=Kn(a);m.tag=1,m.payload=n,s!=null&&(m.callback=s),n=Xn(t,m,a),n!==null&&(Rt(n,t,a),sl(n,t,a))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Vt(),a=Kn(s);a.tag=2,n!=null&&(a.callback=n),n=Xn(t,a,s),n!==null&&(Rt(n,t,s),sl(n,t,s))}};function jd(t,n,s,a,m,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,p,T):n.prototype&&n.prototype.isPureReactComponent?!Wo(s,a)||!Wo(m,p):!0}function em(t,n,s,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==t&&Wr.enqueueReplaceState(n,n.state,null)}function Li(t,n){var s=n;if("ref"in n){s={};for(var a in n)a!=="ref"&&(s[a]=n[a])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var m in t)s[m]===void 0&&(s[m]=t[m])}return s}function tm(t){ls(t)}function nm(t){console.error(t)}function im(t){ls(t)}function bs(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function om(t,n,s){try{var a=t.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function jr(t,n,s){return s=Kn(s),s.tag=3,s.payload={element:null},s.callback=function(){bs(t,n)},s}function lm(t){return t=Kn(t),t.tag=3,t}function sm(t,n,s,a){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var p=a.value;t.payload=function(){return m(p)},t.callback=function(){om(n,s,a)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){om(n,s,a),typeof m!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})})}function tC(t,n,s,a,m){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=s.alternate,n!==null&&so(n,s,m,!0),s=Bt.current,s!==null){switch(s.tag){case 31:case 13:return Zt===null?Hs():s.alternate===null&&$e===0&&($e=3),s.flags&=-257,s.flags|=65536,s.lanes=m,a===ps?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([a]):n.add(a),Au(t,a,m)),!1;case 22:return s.flags|=65536,a===ps?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([a]):s.add(a)),Au(t,a,m)),!1}throw Error(l(435,s.tag))}return Au(t,a,m),Hs(),!1}if(be)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,a!==vr&&(t=Error(l(422),{cause:a}),tl(Yt(t,s)))):(a!==vr&&(n=Error(l(423),{cause:a}),tl(Yt(n,s))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,a=Yt(a,s),m=jr(t.stateNode,a,m),Rr(t,m),$e!==4&&($e=2)),!1;var p=Error(l(520),{cause:a});if(p=Yt(p,s),Tl===null?Tl=[p]:Tl.push(p),$e!==4&&($e=2),n===null)return!0;a=Yt(a,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=m&-m,s.lanes|=t,t=jr(s.stateNode,a,t),Rr(s,t),!1;case 1:if(n=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ni===null||!ni.has(p))))return s.flags|=65536,m&=-m,s.lanes|=m,m=lm(m),sm(m,t,s,a),Rr(s,m),!1}s=s.return}while(s!==null);return!1}var eu=Error(l(461)),et=!1;function ft(t,n,s,a){n.child=t===null?cd(n,null,s,a):Di(n,t.child,s,a)}function am(t,n,s,a,m){s=s.render;var p=n.ref;if("ref"in a){var T={};for(var C in a)C!=="ref"&&(T[C]=a[C])}else T=a;return Ni(n),a=qr(t,n,s,T,p,m),C=Pr(),t!==null&&!et?(Br(t,n,m),wn(t,n,m)):(be&&C&&gr(n),n.flags|=1,ft(t,n,a,m),n.child)}function rm(t,n,s,a,m){if(t===null){var p=s.type;return typeof p=="function"&&!mr(p)&&p.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=p,um(t,n,p,a,m)):(t=us(s.type,null,a,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!ru(t,m)){var T=p.memoizedProps;if(s=s.compare,s=s!==null?s:Wo,s(T,a)&&t.ref===n.ref)return wn(t,n,m)}return n.flags|=1,t=Sn(p,a),t.ref=n.ref,t.return=n,n.child=t}function um(t,n,s,a,m){if(t!==null){var p=t.memoizedProps;if(Wo(p,a)&&t.ref===n.ref)if(et=!1,n.pendingProps=a=p,ru(t,m))(t.flags&131072)!==0&&(et=!0);else return n.lanes=t.lanes,wn(t,n,m)}return tu(t,n,s,a,m)}function cm(t,n,s,a){var m=a.children,p=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,t!==null){for(a=n.child=t.child,m=0;a!==null;)m=m|a.lanes|a.childLanes,a=a.sibling;a=m&~p}else a=0,n.child=null;return fm(t,n,p,s,a)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ms(n,p!==null?p.cachePool:null),p!==null?md(n,p):Dr(),hd(n);else return a=n.lanes=536870912,fm(t,n,p!==null?p.baseLanes|s:s,s,a)}else p!==null?(ms(n,p.cachePool),md(n,p),Wn(),n.memoizedState=null):(t!==null&&ms(n,null),Dr(),Wn());return ft(t,n,m,s),n.child}function ml(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fm(t,n,s,a,m){var p=wr();return p=p===null?null:{parent:We._currentValue,pool:p},n.memoizedState={baseLanes:s,cachePool:p},t!==null&&ms(n,null),Dr(),hd(n),t!==null&&so(t,n,a,!0),n.childLanes=m,null}function Rs(t,n){return n=Ds({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dm(t,n,s){return Di(n,t.child,null,s),t=Rs(n,n.pendingProps),t.flags|=2,zt(n),n.memoizedState=null,t}function nC(t,n,s){var a=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(be){if(a.mode==="hidden")return t=Rs(n,a),n.lanes=536870912,ml(null,t);if(Lr(n),(t=ke)?(t=Ah(t,Xt),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},s=Kf(t),s.return=n,n.child=s,ut=n,ke=null)):t=null,t===null)throw Jn(n);return n.lanes=536870912,null}return Rs(n,a)}var p=t.memoizedState;if(p!==null){var T=p.dehydrated;if(Lr(n),m)if(n.flags&256)n.flags&=-257,n=dm(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(l(558));else if(et||so(t,n,s,!1),m=(s&t.childLanes)!==0,et||m){if(a=Oe,a!==null&&(T=tf(a,s),T!==0&&T!==p.retryLane))throw p.retryLane=T,_i(t,T),Rt(a,t,T),eu;Hs(),n=dm(t,n,s)}else t=p.treeContext,ke=Wt(T.nextSibling),ut=n,be=!0,Qn=null,Xt=!1,t!==null&&Wf(n,t),n=Rs(n,a),n.flags|=4096;return n}return t=Sn(t.child,{mode:a.mode,children:a.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ms(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function tu(t,n,s,a,m){return Ni(n),s=qr(t,n,s,a,void 0,m),a=Pr(),t!==null&&!et?(Br(t,n,m),wn(t,n,m)):(be&&a&&gr(n),n.flags|=1,ft(t,n,s,m),n.child)}function mm(t,n,s,a,m,p){return Ni(n),n.updateQueue=null,s=gd(n,a,s,m),pd(t),a=Pr(),t!==null&&!et?(Br(t,n,p),wn(t,n,p)):(be&&a&&gr(n),n.flags|=1,ft(t,n,s,p),n.child)}function hm(t,n,s,a,m){if(Ni(n),n.stateNode===null){var p=no,T=s.contextType;typeof T=="object"&&T!==null&&(p=ct(T)),p=new s(a,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Wr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=a,p.state=n.memoizedState,p.refs={},Nr(n),T=s.contextType,p.context=typeof T=="object"&&T!==null?ct(T):no,p.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Zr(n,s,T,a),p.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Wr.enqueueReplaceState(p,p.state,null),rl(n,a,p,m),al(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(t===null){p=n.stateNode;var C=n.memoizedProps,x=Li(s,C);p.props=x;var q=p.context,O=s.contextType;T=no,typeof O=="object"&&O!==null&&(T=ct(O));var J=s.getDerivedStateFromProps;O=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||q!==T)&&em(n,p,a,T),$n=!1;var P=n.memoizedState;p.state=P,rl(n,a,p,m),al(),q=n.memoizedState,C||P!==q||$n?(typeof J=="function"&&(Zr(n,s,J,a),q=n.memoizedState),(x=$n||jd(n,s,x,a,P,q,T))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=q),p.props=a,p.state=q,p.context=T,a=x):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,br(t,n),T=n.memoizedProps,O=Li(s,T),p.props=O,J=n.pendingProps,P=p.context,q=s.contextType,x=no,typeof q=="object"&&q!==null&&(x=ct(q)),C=s.getDerivedStateFromProps,(q=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==J||P!==x)&&em(n,p,a,x),$n=!1,P=n.memoizedState,p.state=P,rl(n,a,p,m),al();var z=n.memoizedState;T!==J||P!==z||$n||t!==null&&t.dependencies!==null&&fs(t.dependencies)?(typeof C=="function"&&(Zr(n,s,C,a),z=n.memoizedState),(O=$n||jd(n,s,O,a,P,z,x)||t!==null&&t.dependencies!==null&&fs(t.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,z,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,z,x)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=z),p.props=a,p.state=z,p.context=x,a=O):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),a=!1)}return p=a,Ms(t,n),a=(n.flags&128)!==0,p||a?(p=n.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&a?(n.child=Di(n,t.child,null,m),n.child=Di(n,null,s,m)):ft(t,n,s,m),n.memoizedState=p.state,t=n.child):t=wn(t,n,m),t}function pm(t,n,s,a){return wi(),n.flags|=256,ft(t,n,s,a),n.child}var nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(t){return{baseLanes:t,cachePool:od()}}function ou(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Ht),t}function gm(t,n,s){var a=n.pendingProps,m=!1,p=(n.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),T&&(m=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(be){if(m?Zn(n):Wn(),(t=ke)?(t=Ah(t,Xt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},s=Kf(t),s.return=n,n.child=s,ut=n,ke=null)):t=null,t===null)throw Jn(n);return Hu(t)?n.lanes=32:n.lanes=536870912,null}var C=a.children;return a=a.fallback,m?(Wn(),m=n.mode,C=Ds({mode:"hidden",children:C},m),a=Ai(a,m,s,null),C.return=n,a.return=n,C.sibling=a,n.child=C,a=n.child,a.memoizedState=iu(s),a.childLanes=ou(t,T,s),n.memoizedState=nu,ml(null,a)):(Zn(n),lu(n,C))}var x=t.memoizedState;if(x!==null&&(C=x.dehydrated,C!==null)){if(p)n.flags&256?(Zn(n),n.flags&=-257,n=su(t,n,s)):n.memoizedState!==null?(Wn(),n.child=t.child,n.flags|=128,n=null):(Wn(),C=a.fallback,m=n.mode,a=Ds({mode:"visible",children:a.children},m),C=Ai(C,m,s,null),C.flags|=2,a.return=n,C.return=n,a.sibling=C,n.child=a,Di(n,t.child,null,s),a=n.child,a.memoizedState=iu(s),a.childLanes=ou(t,T,s),n.memoizedState=nu,n=ml(null,a));else if(Zn(n),Hu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var q=T.dgst;T=q,a=Error(l(419)),a.stack="",a.digest=T,tl({value:a,source:null,stack:null}),n=su(t,n,s)}else if(et||so(t,n,s,!1),T=(s&t.childLanes)!==0,et||T){if(T=Oe,T!==null&&(a=tf(T,s),a!==0&&a!==x.retryLane))throw x.retryLane=a,_i(t,a),Rt(T,t,a),eu;Gu(C)||Hs(),n=su(t,n,s)}else Gu(C)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,ke=Wt(C.nextSibling),ut=n,be=!0,Qn=null,Xt=!1,t!==null&&Wf(n,t),n=lu(n,a.children),n.flags|=4096);return n}return m?(Wn(),C=a.fallback,m=n.mode,x=t.child,q=x.sibling,a=Sn(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,q!==null?C=Sn(q,C):(C=Ai(C,m,s,null),C.flags|=2),C.return=n,a.return=n,a.sibling=C,n.child=a,ml(null,a),a=n.child,C=t.child.memoizedState,C===null?C=iu(s):(m=C.cachePool,m!==null?(x=We._currentValue,m=m.parent!==x?{parent:x,pool:x}:m):m=od(),C={baseLanes:C.baseLanes|s,cachePool:m}),a.memoizedState=C,a.childLanes=ou(t,T,s),n.memoizedState=nu,ml(t.child,a)):(Zn(n),s=t.child,t=s.sibling,s=Sn(s,{mode:"visible",children:a.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function lu(t,n){return n=Ds({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ds(t,n){return t=Pt(22,t,null,n),t.lanes=0,t}function su(t,n,s){return Di(n,t.child,null,s),t=lu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ym(t,n,s){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),Er(t.return,n,s)}function au(t,n,s,a,m,p){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:m,treeForkCount:p}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=s,T.tailMode=m,T.treeForkCount=p)}function vm(t,n,s){var a=n.pendingProps,m=a.revealOrder,p=a.tail;a=a.children;var T=Ke.current,C=(T&2)!==0;if(C?(T=T&1|2,n.flags|=128):T&=1,oe(Ke,T),ft(t,n,a,s),a=be?el:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ym(t,s,n);else if(t.tag===19)ym(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(s=n.child,m=null;s!==null;)t=s.alternate,t!==null&&Ss(t)===null&&(m=s),s=s.sibling;s=m,s===null?(m=n.child,n.child=null):(m=s.sibling,s.sibling=null),au(n,!1,m,s,p,a);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&Ss(t)===null){n.child=m;break}t=m.sibling,m.sibling=s,s=m,m=t}au(n,!0,s,null,p,a);break;case"together":au(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function wn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ti|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(so(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(l(153));if(n.child!==null){for(t=n.child,s=Sn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Sn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function ru(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fs(t)))}function iC(t,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Yn(n,We,t.memoizedState.cache),wi();break;case 27:case 5:Ze(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Yn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Lr(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Zn(n),n.flags|=128,null):(s&n.child.childLanes)!==0?gm(t,n,s):(Zn(n),t=wn(t,n,s),t!==null?t.sibling:null);Zn(n);break;case 19:var m=(t.flags&128)!==0;if(a=(s&n.childLanes)!==0,a||(so(t,n,s,!1),a=(s&n.childLanes)!==0),m){if(a)return vm(t,n,s);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(Ke,Ke.current),a)break;return null;case 22:return n.lanes=0,cm(t,n,s,n.pendingProps);case 24:Yn(n,We,t.memoizedState.cache)}return wn(t,n,s)}function Sm(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)et=!0;else{if(!ru(t,s)&&(n.flags&128)===0)return et=!1,iC(t,n,s);et=(t.flags&131072)!==0}else et=!1,be&&(n.flags&1048576)!==0&&Zf(n,el,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(t=Ri(n.elementType),n.type=t,typeof t=="function")mr(t)?(a=Li(t,a),n.tag=1,n=hm(null,n,t,a,s)):(n.tag=0,n=tu(null,n,t,a,s));else{if(t!=null){var m=t.$$typeof;if(m===K){n.tag=11,n=am(null,n,t,a,s);break e}else if(m===V){n.tag=14,n=rm(null,n,t,a,s);break e}}throw n=Te(t)||t,Error(l(306,n,""))}}return n;case 0:return tu(t,n,n.type,n.pendingProps,s);case 1:return a=n.type,m=Li(a,n.pendingProps),hm(t,n,a,m,s);case 3:e:{if(ye(n,n.stateNode.containerInfo),t===null)throw Error(l(387));a=n.pendingProps;var p=n.memoizedState;m=p.element,br(t,n),rl(n,a,null,s);var T=n.memoizedState;if(a=T.cache,Yn(n,We,a),a!==p.cache&&Cr(n,[We],s,!0),al(),a=T.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=pm(t,n,a,s);break e}else if(a!==m){m=Yt(Error(l(424)),n),tl(m),n=pm(t,n,a,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ke=Wt(t.firstChild),ut=n,be=!0,Qn=null,Xt=!0,s=cd(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wi(),a===m){n=wn(t,n,s);break e}ft(t,n,a,s)}n=n.child}return n;case 26:return Ms(t,n),t===null?(s=Mh(n.type,null,n.pendingProps,null))?n.memoizedState=s:be||(s=n.type,t=n.pendingProps,a=Ys(_e.current).createElement(s),a[rt]=n,a[_t]=t,dt(a,s,t),lt(a),n.stateNode=a):n.memoizedState=Mh(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ze(n),t===null&&be&&(a=n.stateNode=Nh(n.type,n.pendingProps,_e.current),ut=n,Xt=!0,m=ke,si(n.type)?(Vu=m,ke=Wt(a.firstChild)):ke=m),ft(t,n,n.pendingProps.children,s),Ms(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&be&&((m=a=ke)&&(a=LC(a,n.type,n.pendingProps,Xt),a!==null?(n.stateNode=a,ut=n,ke=Wt(a.firstChild),Xt=!1,m=!0):m=!1),m||Jn(n)),Ze(n),m=n.type,p=n.pendingProps,T=t!==null?t.memoizedProps:null,a=p.children,Pu(m,p)?a=null:T!==null&&Pu(m,T)&&(n.flags|=32),n.memoizedState!==null&&(m=qr(t,n,$E,null,null,s),bl._currentValue=m),Ms(t,n),ft(t,n,a,s),n.child;case 6:return t===null&&be&&((t=s=ke)&&(s=UC(s,n.pendingProps,Xt),s!==null?(n.stateNode=s,ut=n,ke=null,t=!0):t=!1),t||Jn(n)),null;case 13:return gm(t,n,s);case 4:return ye(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Di(n,null,a,s):ft(t,n,a,s),n.child;case 11:return am(t,n,n.type,n.pendingProps,s);case 7:return ft(t,n,n.pendingProps,s),n.child;case 8:return ft(t,n,n.pendingProps.children,s),n.child;case 12:return ft(t,n,n.pendingProps.children,s),n.child;case 10:return a=n.pendingProps,Yn(n,n.type,a.value),ft(t,n,a.children,s),n.child;case 9:return m=n.type._context,a=n.pendingProps.children,Ni(n),m=ct(m),a=a(m),n.flags|=1,ft(t,n,a,s),n.child;case 14:return rm(t,n,n.type,n.pendingProps,s);case 15:return um(t,n,n.type,n.pendingProps,s);case 19:return vm(t,n,s);case 31:return nC(t,n,s);case 22:return cm(t,n,s,n.pendingProps);case 24:return Ni(n),a=ct(We),t===null?(m=wr(),m===null&&(m=Oe,p=_r(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=s),m=p),n.memoizedState={parent:a,cache:m},Nr(n),Yn(n,We,m)):((t.lanes&s)!==0&&(br(t,n),rl(n,null,null,s),al()),m=t.memoizedState,p=n.memoizedState,m.parent!==a?(m={parent:a,cache:a},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Yn(n,We,a)):(a=p.cache,Yn(n,We,a),a!==m.cache&&Cr(n,[We],s,!0))),ft(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function xn(t){t.flags|=4}function uu(t,n,s,a,m){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Jm())t.flags|=8192;else throw Mi=ps,xr}else t.flags&=-16777217}function Tm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qh(n))if(Jm())t.flags|=8192;else throw Mi=ps,xr}function Is(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Wc():536870912,t.lanes|=n,So|=n)}function hl(t,n){if(!be)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Fe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,a=0;if(n)for(var m=t.child;m!==null;)s|=m.lanes|m.childLanes,a|=m.subtreeFlags&65011712,a|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)s|=m.lanes|m.childLanes,a|=m.subtreeFlags,a|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=a,t.childLanes=s,n}function oC(t,n,s){var a=n.pendingProps;switch(yr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return s=n.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Cn(We),Re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(lo(n)?xn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sr())),Fe(n),null;case 26:var m=n.type,p=n.memoizedState;return t===null?(xn(n),p!==null?(Fe(n),Tm(n,p)):(Fe(n),uu(n,m,null,a,s))):p?p!==t.memoizedState?(xn(n),Fe(n),Tm(n,p)):(Fe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==a&&xn(n),Fe(n),uu(n,m,t,a,s)),null;case 27:if(Hn(n),s=_e.current,m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==a&&xn(n);else{if(!a){if(n.stateNode===null)throw Error(l(166));return Fe(n),null}t=ce.current,lo(n)?jf(n):(t=Nh(m,a,s),n.stateNode=t,xn(n))}return Fe(n),null;case 5:if(Hn(n),m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==a&&xn(n);else{if(!a){if(n.stateNode===null)throw Error(l(166));return Fe(n),null}if(p=ce.current,lo(n))jf(n);else{var T=Ys(_e.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?T.createElement(m,{is:a.is}):T.createElement(m)}}p[rt]=n,p[_t]=a;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=p;e:switch(dt(p,m,a),m){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&xn(n)}}return Fe(n),uu(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==a&&xn(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(l(166));if(t=_e.current,lo(n)){if(t=n.stateNode,s=n.memoizedProps,a=null,m=ut,m!==null)switch(m.tag){case 27:case 5:a=m.memoizedProps}t[rt]=n,t=!!(t.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||gh(t.nodeValue,s)),t||Jn(n,!0)}else t=Ys(t).createTextNode(a),t[rt]=n,n.stateNode=t}return Fe(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(a=lo(n),s!==null){if(t===null){if(!a)throw Error(l(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[rt]=n}else wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),t=!1}else s=Sr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(zt(n),n):(zt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Fe(n),null;case 13:if(a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=lo(n),a!==null&&a.dehydrated!==null){if(t===null){if(!m)throw Error(l(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[rt]=n}else wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),m=!1}else m=Sr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(zt(n),n):(zt(n),null)}return zt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=a!==null,t=t!==null&&t.memoizedState!==null,s&&(a=n.child,m=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(m=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==m&&(a.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Is(n,n.updateQueue),Fe(n),null);case 4:return Re(),t===null&&Du(n.stateNode.containerInfo),Fe(n),null;case 10:return Cn(n.type),Fe(n),null;case 19:if($(Ke),a=n.memoizedState,a===null)return Fe(n),null;if(m=(n.flags&128)!==0,p=a.rendering,p===null)if(m)hl(a,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=Ss(t),p!==null){for(n.flags|=128,hl(a,!1),t=p.updateQueue,n.updateQueue=t,Is(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)$f(s,t),s=s.sibling;return oe(Ke,Ke.current&1|2),be&&Tn(n,a.treeForkCount),n.child}t=t.sibling}a.tail!==null&&It()>Bs&&(n.flags|=128,m=!0,hl(a,!1),n.lanes=4194304)}else{if(!m)if(t=Ss(p),t!==null){if(n.flags|=128,m=!0,t=t.updateQueue,n.updateQueue=t,Is(n,t),hl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!be)return Fe(n),null}else 2*It()-a.renderingStartTime>Bs&&s!==536870912&&(n.flags|=128,m=!0,hl(a,!1),n.lanes=4194304);a.isBackwards?(p.sibling=n.child,n.child=p):(t=a.last,t!==null?t.sibling=p:n.child=p,a.last=p)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=It(),t.sibling=null,s=Ke.current,oe(Ke,m?s&1|2:s&1),be&&Tn(n,a.treeForkCount),t):(Fe(n),null);case 22:case 23:return zt(n),Ir(),a=n.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(s&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),s=n.updateQueue,s!==null&&Is(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==s&&(n.flags|=2048),t!==null&&$(bi),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Cn(We),Fe(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function lC(t,n){switch(yr(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Cn(We),Re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hn(n),null;case 31:if(n.memoizedState!==null){if(zt(n),n.alternate===null)throw Error(l(340));wi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(l(340));wi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Ke),null;case 4:return Re(),null;case 10:return Cn(n.type),null;case 22:case 23:return zt(n),Ir(),t!==null&&$(bi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Cn(We),null;case 25:return null;default:return null}}function Em(t,n){switch(yr(n),n.tag){case 3:Cn(We),Re();break;case 26:case 27:case 5:Hn(n);break;case 4:Re();break;case 31:n.memoizedState!==null&&zt(n);break;case 13:zt(n);break;case 19:$(Ke);break;case 10:Cn(n.type);break;case 22:case 23:zt(n),Ir(),t!==null&&$(bi);break;case 24:Cn(We)}}function pl(t,n){try{var s=n.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var m=a.next;s=m;do{if((s.tag&t)===t){a=void 0;var p=s.create,T=s.inst;a=p(),T.destroy=a}s=s.next}while(s!==m)}}catch(C){ze(n,n.return,C)}}function jn(t,n,s){try{var a=n.updateQueue,m=a!==null?a.lastEffect:null;if(m!==null){var p=m.next;a=p;do{if((a.tag&t)===t){var T=a.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,m=n;var x=s,q=C;try{q()}catch(O){ze(m,x,O)}}}a=a.next}while(a!==p)}}catch(O){ze(n,n.return,O)}}function Cm(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{dd(n,s)}catch(a){ze(t,t.return,a)}}}function _m(t,n,s){s.props=Li(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(a){ze(t,n,a)}}function gl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof s=="function"?t.refCleanup=s(a):s.current=a}}catch(m){ze(t,n,m)}}function dn(t,n){var s=t.ref,a=t.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(m){ze(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){ze(t,n,m)}else s.current=null}function Am(t){var n=t.type,s=t.memoizedProps,a=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break e;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(m){ze(t,t.return,m)}}function cu(t,n,s){try{var a=t.stateNode;NC(a,t.type,s,n),a[_t]=n}catch(m){ze(t,t.return,m)}}function wm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&si(t.type)||t.tag===4}function fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&si(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function du(t,n,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=yn));else if(a!==4&&(a===27&&si(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(du(t,n,s),t=t.sibling;t!==null;)du(t,n,s),t=t.sibling}function Ls(t,n,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(a!==4&&(a===27&&si(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ls(t,n,s),t=t.sibling;t!==null;)Ls(t,n,s),t=t.sibling}function xm(t){var n=t.stateNode,s=t.memoizedProps;try{for(var a=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);dt(n,a,s),n[rt]=t,n[_t]=s}catch(p){ze(t,t.return,p)}}var Nn=!1,tt=!1,mu=!1,Nm=typeof WeakSet=="function"?WeakSet:Set,st=null;function sC(t,n){if(t=t.containerInfo,Uu=ea,t=Gf(t),sr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var m=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var T=0,C=-1,x=-1,q=0,O=0,J=t,P=null;t:for(;;){for(var z;J!==s||m!==0&&J.nodeType!==3||(C=T+m),J!==p||a!==0&&J.nodeType!==3||(x=T+a),J.nodeType===3&&(T+=J.nodeValue.length),(z=J.firstChild)!==null;)P=J,J=z;for(;;){if(J===t)break t;if(P===s&&++q===m&&(C=T),P===p&&++O===a&&(x=T),(z=J.nextSibling)!==null)break;J=P,P=J.parentNode}J=z}s=C===-1||x===-1?null:{start:C,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(qu={focusedElem:t,selectionRange:s},ea=!1,st=n;st!==null;)if(n=st,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,st=t;else for(;st!==null;){switch(n=st,p=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)m=t[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=n,m=p.memoizedProps,p=p.memoizedState,a=s.stateNode;try{var ue=Li(s.type,m);t=a.getSnapshotBeforeUpdate(ue,p),a.__reactInternalSnapshotBeforeUpdate=t}catch(ge){ze(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)zu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=n.sibling,t!==null){t.return=n.return,st=t;break}st=n.return}}function bm(t,n,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:Rn(t,s),a&4&&pl(5,s);break;case 1:if(Rn(t,s),a&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){ze(s,s.return,T)}else{var m=Li(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){ze(s,s.return,T)}}a&64&&Cm(s),a&512&&gl(s,s.return);break;case 3:if(Rn(t,s),a&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{dd(t,n)}catch(T){ze(s,s.return,T)}}break;case 27:n===null&&a&4&&xm(s);case 26:case 5:Rn(t,s),n===null&&a&4&&Am(s),a&512&&gl(s,s.return);break;case 12:Rn(t,s);break;case 31:Rn(t,s),a&4&&Dm(t,s);break;case 13:Rn(t,s),a&4&&Im(t,s),a&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=pC.bind(null,s),qC(t,s))));break;case 22:if(a=s.memoizedState!==null||Nn,!a){n=n!==null&&n.memoizedState!==null||tt,m=Nn;var p=tt;Nn=a,(tt=n)&&!p?Mn(t,s,(s.subtreeFlags&8772)!==0):Rn(t,s),Nn=m,tt=p}break;case 30:break;default:Rn(t,s)}}function Rm(t){var n=t.alternate;n!==null&&(t.alternate=null,Rm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ka(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,wt=!1;function bn(t,n,s){for(s=s.child;s!==null;)Mm(t,n,s),s=s.sibling}function Mm(t,n,s){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Ho,s)}catch{}switch(s.tag){case 26:tt||dn(s,n),bn(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tt||dn(s,n);var a=Je,m=wt;si(s.type)&&(Je=s.stateNode,wt=!1),bn(t,n,s),wl(s.stateNode),Je=a,wt=m;break;case 5:tt||dn(s,n);case 6:if(a=Je,m=wt,Je=null,bn(t,n,s),Je=a,wt=m,Je!==null)if(wt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(s.stateNode)}catch(p){ze(s,n,p)}else try{Je.removeChild(s.stateNode)}catch(p){ze(s,n,p)}break;case 18:Je!==null&&(wt?(t=Je,Ch(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),No(t)):Ch(Je,s.stateNode));break;case 4:a=Je,m=wt,Je=s.stateNode.containerInfo,wt=!0,bn(t,n,s),Je=a,wt=m;break;case 0:case 11:case 14:case 15:jn(2,s,n),tt||jn(4,s,n),bn(t,n,s);break;case 1:tt||(dn(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"&&_m(s,n,a)),bn(t,n,s);break;case 21:bn(t,n,s);break;case 22:tt=(a=tt)||s.memoizedState!==null,bn(t,n,s),tt=a;break;default:bn(t,n,s)}}function Dm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{No(t)}catch(s){ze(n,n.return,s)}}}function Im(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{No(t)}catch(s){ze(n,n.return,s)}}function aC(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Nm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Nm),n;default:throw Error(l(435,t.tag))}}function Us(t,n){var s=aC(t);n.forEach(function(a){if(!s.has(a)){s.add(a);var m=gC.bind(null,t,a);a.then(m,m)}})}function xt(t,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var m=s[a],p=t,T=n,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(si(C.type)){Je=C.stateNode,wt=!1;break e}break;case 5:Je=C.stateNode,wt=!1;break e;case 3:case 4:Je=C.stateNode.containerInfo,wt=!0;break e}C=C.return}if(Je===null)throw Error(l(160));Mm(p,T,m),Je=null,wt=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Lm(n,t),n=n.sibling}var sn=null;function Lm(t,n){var s=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(n,t),Nt(t),a&4&&(jn(3,t,t.return),pl(3,t),jn(5,t,t.return));break;case 1:xt(n,t),Nt(t),a&512&&(tt||s===null||dn(s,s.return)),a&64&&Nn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var m=sn;if(xt(n,t),Nt(t),a&512&&(tt||s===null||dn(s,s.return)),a&4){var p=s!==null?s.memoizedState:null;if(a=t.memoizedState,s===null)if(a===null)if(t.stateNode===null){e:{a=t.type,s=t.memoizedProps,m=m.ownerDocument||m;t:switch(a){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ko]||p[rt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(a),m.head.insertBefore(p,m.querySelector("head > title"))),dt(p,a,s),p[rt]=t,lt(p),a=p;break e;case"link":var T=Lh("link","href",m).get(a+(s.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(C,1);break t}}p=m.createElement(a),dt(p,a,s),m.head.appendChild(p);break;case"meta":if(T=Lh("meta","content",m).get(a+(s.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(C,1);break t}}p=m.createElement(a),dt(p,a,s),m.head.appendChild(p);break;default:throw Error(l(468,a))}p[rt]=t,lt(p),a=p}t.stateNode=a}else Uh(m,t.type,t.stateNode);else t.stateNode=Ih(m,a,t.memoizedProps);else p!==a?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,a===null?Uh(m,t.type,t.stateNode):Ih(m,a,t.memoizedProps)):a===null&&t.stateNode!==null&&cu(t,t.memoizedProps,s.memoizedProps)}break;case 27:xt(n,t),Nt(t),a&512&&(tt||s===null||dn(s,s.return)),s!==null&&a&4&&cu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(xt(n,t),Nt(t),a&512&&(tt||s===null||dn(s,s.return)),t.flags&32){m=t.stateNode;try{Ki(m,"")}catch(ue){ze(t,t.return,ue)}}a&4&&t.stateNode!=null&&(m=t.memoizedProps,cu(t,m,s!==null?s.memoizedProps:m)),a&1024&&(mu=!0);break;case 6:if(xt(n,t),Nt(t),a&4){if(t.stateNode===null)throw Error(l(162));a=t.memoizedProps,s=t.stateNode;try{s.nodeValue=a}catch(ue){ze(t,t.return,ue)}}break;case 3:if(Xs=null,m=sn,sn=$s(n.containerInfo),xt(n,t),sn=m,Nt(t),a&4&&s!==null&&s.memoizedState.isDehydrated)try{No(n.containerInfo)}catch(ue){ze(t,t.return,ue)}mu&&(mu=!1,Um(t));break;case 4:a=sn,sn=$s(t.stateNode.containerInfo),xt(n,t),Nt(t),sn=a;break;case 12:xt(n,t),Nt(t);break;case 31:xt(n,t),Nt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Us(t,a)));break;case 13:xt(n,t),Nt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ps=It()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Us(t,a)));break;case 22:m=t.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,q=Nn,O=tt;if(Nn=q||m,tt=O||x,xt(n,t),tt=O,Nn=q,Nt(t),a&8192)e:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(s===null||x||Nn||tt||Ui(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(p=x.stateNode,m)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=x.stateNode;var J=x.memoizedProps.style,P=J!=null&&J.hasOwnProperty("display")?J.display:null;C.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ue){ze(x,x.return,ue)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(ue){ze(x,x.return,ue)}}}else if(n.tag===18){if(s===null){x=n;try{var z=x.stateNode;m?_h(z,!0):_h(x.stateNode,!1)}catch(ue){ze(x,x.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=t.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,Us(t,s))));break;case 19:xt(n,t),Nt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Us(t,a)));break;case 30:break;case 21:break;default:xt(n,t),Nt(t)}}function Nt(t){var n=t.flags;if(n&2){try{for(var s,a=t.return;a!==null;){if(wm(a)){s=a;break}a=a.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var m=s.stateNode,p=fu(t);Ls(t,p,m);break;case 5:var T=s.stateNode;s.flags&32&&(Ki(T,""),s.flags&=-33);var C=fu(t);Ls(t,C,T);break;case 3:case 4:var x=s.stateNode.containerInfo,q=fu(t);du(t,q,x);break;default:throw Error(l(161))}}catch(O){ze(t,t.return,O)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Um(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Um(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bm(t,n.alternate,n),n=n.sibling}function Ui(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:jn(4,n,n.return),Ui(n);break;case 1:dn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&_m(n,n.return,s),Ui(n);break;case 27:wl(n.stateNode);case 26:case 5:dn(n,n.return),Ui(n);break;case 22:n.memoizedState===null&&Ui(n);break;case 30:Ui(n);break;default:Ui(n)}t=t.sibling}}function Mn(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,m=t,p=n,T=p.flags;switch(p.tag){case 0:case 11:case 15:Mn(m,p,s),pl(4,p);break;case 1:if(Mn(m,p,s),a=p,m=a.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){ze(a,a.return,q)}if(a=p,m=a.updateQueue,m!==null){var C=a.stateNode;try{var x=m.shared.hiddenCallbacks;if(x!==null)for(m.shared.hiddenCallbacks=null,m=0;m<x.length;m++)fd(x[m],C)}catch(q){ze(a,a.return,q)}}s&&T&64&&Cm(p),gl(p,p.return);break;case 27:xm(p);case 26:case 5:Mn(m,p,s),s&&a===null&&T&4&&Am(p),gl(p,p.return);break;case 12:Mn(m,p,s);break;case 31:Mn(m,p,s),s&&T&4&&Dm(m,p);break;case 13:Mn(m,p,s),s&&T&4&&Im(m,p);break;case 22:p.memoizedState===null&&Mn(m,p,s),gl(p,p.return);break;case 30:break;default:Mn(m,p,s)}n=n.sibling}}function hu(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&nl(s))}function pu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function an(t,n,s,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qm(t,n,s,a),n=n.sibling}function qm(t,n,s,a){var m=n.flags;switch(n.tag){case 0:case 11:case 15:an(t,n,s,a),m&2048&&pl(9,n);break;case 1:an(t,n,s,a);break;case 3:an(t,n,s,a),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(m&2048){an(t,n,s,a),t=n.stateNode;try{var p=n.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){ze(n,n.return,x)}}else an(t,n,s,a);break;case 31:an(t,n,s,a);break;case 13:an(t,n,s,a);break;case 23:break;case 22:p=n.stateNode,T=n.alternate,n.memoizedState!==null?p._visibility&2?an(t,n,s,a):yl(t,n):p._visibility&2?an(t,n,s,a):(p._visibility|=2,go(t,n,s,a,(n.subtreeFlags&10256)!==0||!1)),m&2048&&hu(T,n);break;case 24:an(t,n,s,a),m&2048&&pu(n.alternate,n);break;default:an(t,n,s,a)}}function go(t,n,s,a,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=t,T=n,C=s,x=a,q=T.flags;switch(T.tag){case 0:case 11:case 15:go(p,T,C,x,m),pl(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?go(p,T,C,x,m):yl(p,T):(O._visibility|=2,go(p,T,C,x,m)),m&&q&2048&&hu(T.alternate,T);break;case 24:go(p,T,C,x,m),m&&q&2048&&pu(T.alternate,T);break;default:go(p,T,C,x,m)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,a=n,m=a.flags;switch(a.tag){case 22:yl(s,a),m&2048&&hu(a.alternate,a);break;case 24:yl(s,a),m&2048&&pu(a.alternate,a);break;default:yl(s,a)}n=n.sibling}}var vl=8192;function yo(t,n,s){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)Pm(t,n,s),t=t.sibling}function Pm(t,n,s){switch(t.tag){case 26:yo(t,n,s),t.flags&vl&&t.memoizedState!==null&&YC(s,sn,t.memoizedState,t.memoizedProps);break;case 5:yo(t,n,s);break;case 3:case 4:var a=sn;sn=$s(t.stateNode.containerInfo),yo(t,n,s),sn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=vl,vl=16777216,yo(t,n,s),vl=a):yo(t,n,s));break;default:yo(t,n,s)}}function Bm(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];st=a,Gm(a,t)}Bm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zm(t),t=t.sibling}function zm(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&jn(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qs(t)):Sl(t);break;default:Sl(t)}}function qs(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];st=a,Gm(a,t)}Bm(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:jn(8,n,n.return),qs(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qs(n));break;default:qs(n)}t=t.sibling}}function Gm(t,n){for(;st!==null;){var s=st;switch(s.tag){case 0:case 11:case 15:jn(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:nl(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,st=a;else e:for(s=t;st!==null;){a=st;var m=a.sibling,p=a.return;if(Rm(a),a===s){st=null;break e}if(m!==null){m.return=p,st=m;break e}st=p}}}var rC={getCacheForType:function(t){var n=ct(We),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return ct(We).controller.signal}},uC=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Oe=null,Ae=null,xe=0,Be=0,Gt=null,ei=!1,vo=!1,gu=!1,Dn=0,$e=0,ti=0,qi=0,yu=0,Ht=0,So=0,Tl=null,bt=null,vu=!1,Ps=0,Hm=0,Bs=1/0,zs=null,ni=null,it=0,ii=null,To=null,In=0,Su=0,Tu=null,Vm=null,El=0,Eu=null;function Vt(){return(Ue&2)!==0&&xe!==0?xe&-xe:H.T!==null?Nu():nf()}function Om(){if(Ht===0)if((xe&536870912)===0||be){var t=Jl;Jl<<=1,(Jl&3932160)===0&&(Jl=262144),Ht=t}else Ht=536870912;return t=Bt.current,t!==null&&(t.flags|=32),Ht}function Rt(t,n,s){(t===Oe&&(Be===2||Be===9)||t.cancelPendingCommit!==null)&&(Eo(t,0),oi(t,xe,Ht,!1)),Oo(t,s),((Ue&2)===0||t!==Oe)&&(t===Oe&&((Ue&2)===0&&(qi|=s),$e===4&&oi(t,xe,Ht,!1)),mn(t))}function km(t,n,s){if((Ue&6)!==0)throw Error(l(327));var a=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Vo(t,n),m=a?dC(t,n):_u(t,n,!0),p=a;do{if(m===0){vo&&!a&&oi(t,n,0,!1);break}else{if(s=t.current.alternate,p&&!cC(s)){m=_u(t,n,!1),p=!1;continue}if(m===2){if(p=n,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var C=t;m=Tl;var x=C.current.memoizedState.isDehydrated;if(x&&(Eo(C,T).flags|=256),T=_u(C,T,!1),T!==2){if(gu&&!x){C.errorRecoveryDisabledLanes|=p,qi|=p,m=4;break e}p=bt,bt=m,p!==null&&(bt===null?bt=p:bt.push.apply(bt,p))}m=T}if(p=!1,m!==2)continue}}if(m===1){Eo(t,0),oi(t,n,0,!0);break}e:{switch(a=t,p=m,p){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:oi(a,n,Ht,!ei);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(m=Ps+300-It(),10<m)){if(oi(a,n,Ht,!ei),$l(a,0,!0)!==0)break e;In=n,a.timeoutHandle=Th(Fm.bind(null,a,s,bt,zs,vu,n,Ht,qi,So,ei,p,"Throttled",-0,0),m);break e}Fm(a,s,bt,zs,vu,n,Ht,qi,So,ei,p,null,-0,0)}}break}while(!0);mn(t)}function Fm(t,n,s,a,m,p,T,C,x,q,O,J,P,z){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Pm(n,p,J);var ue=(p&62914560)===p?Ps-It():(p&4194048)===p?Hm-It():0;if(ue=$C(J,ue),ue!==null){In=p,t.cancelPendingCommit=ue(Wm.bind(null,t,n,p,s,a,m,T,C,x,O,J,null,P,z)),oi(t,p,T,!q);return}}Wm(t,n,p,s,a,m,T,C,x)}function cC(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var m=s[a],p=m.getSnapshot;m=m.value;try{if(!qt(p(),m))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function oi(t,n,s,a){n&=~yu,n&=~qi,t.suspendedLanes|=n,t.pingedLanes&=~n,a&&(t.warmLanes|=n),a=t.expirationTimes;for(var m=n;0<m;){var p=31-Ut(m),T=1<<p;a[p]=-1,m&=~T}s!==0&&jc(t,s,n)}function Gs(){return(Ue&6)===0?(Cl(0),!1):!0}function Cu(){if(Ae!==null){if(Be===0)var t=Ae.return;else t=Ae,En=xi=null,zr(t),co=null,ol=0,t=Ae;for(;t!==null;)Em(t.alternate,t),t=t.return;Ae=null}}function Eo(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,MC(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),In=0,Cu(),Oe=t,Ae=s=Sn(t.current,null),xe=n,Be=0,Gt=null,ei=!1,vo=Vo(t,n),gu=!1,So=Ht=yu=qi=ti=$e=0,bt=Tl=null,vu=!1,(n&8)!==0&&(n|=n&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=n;0<a;){var m=31-Ut(a),p=1<<m;n|=t[m],a&=~p}return Dn=n,ss(),s}function Qm(t,n){Ee=null,H.H=dl,n===uo||n===hs?(n=ad(),Be=3):n===xr?(n=ad(),Be=4):Be=n===eu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gt=n,Ae===null&&($e=1,bs(t,Yt(n,t.current)))}function Jm(){var t=Bt.current;return t===null?!0:(xe&4194048)===xe?Zt===null:(xe&62914560)===xe||(xe&536870912)!==0?t===Zt:!1}function Ym(){var t=H.H;return H.H=dl,t===null?dl:t}function $m(){var t=H.A;return H.A=rC,t}function Hs(){$e=4,ei||(xe&4194048)!==xe&&Bt.current!==null||(vo=!0),(ti&134217727)===0&&(qi&134217727)===0||Oe===null||oi(Oe,xe,Ht,!1)}function _u(t,n,s){var a=Ue;Ue|=2;var m=Ym(),p=$m();(Oe!==t||xe!==n)&&(zs=null,Eo(t,n)),n=!1;var T=$e;e:do try{if(Be!==0&&Ae!==null){var C=Ae,x=Gt;switch(Be){case 8:Cu(),T=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var q=Be;if(Be=0,Gt=null,Co(t,C,x,q),s&&vo){T=0;break e}break;default:q=Be,Be=0,Gt=null,Co(t,C,x,q)}}fC(),T=$e;break}catch(O){Qm(t,O)}while(!0);return n&&t.shellSuspendCounter++,En=xi=null,Ue=a,H.H=m,H.A=p,Ae===null&&(Oe=null,xe=0,ss()),T}function fC(){for(;Ae!==null;)Km(Ae)}function dC(t,n){var s=Ue;Ue|=2;var a=Ym(),m=$m();Oe!==t||xe!==n?(zs=null,Bs=It()+500,Eo(t,n)):vo=Vo(t,n);e:do try{if(Be!==0&&Ae!==null){n=Ae;var p=Gt;t:switch(Be){case 1:Be=0,Gt=null,Co(t,n,p,1);break;case 2:case 9:if(ld(p)){Be=0,Gt=null,Xm(n);break}n=function(){Be!==2&&Be!==9||Oe!==t||(Be=7),mn(t)},p.then(n,n);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:ld(p)?(Be=0,Gt=null,Xm(n)):(Be=0,Gt=null,Co(t,n,p,7));break;case 5:var T=null;switch(Ae.tag){case 26:T=Ae.memoizedState;case 5:case 27:var C=Ae;if(T?qh(T):C.stateNode.complete){Be=0,Gt=null;var x=C.sibling;if(x!==null)Ae=x;else{var q=C.return;q!==null?(Ae=q,Vs(q)):Ae=null}break t}}Be=0,Gt=null,Co(t,n,p,5);break;case 6:Be=0,Gt=null,Co(t,n,p,6);break;case 8:Cu(),$e=6;break e;default:throw Error(l(462))}}mC();break}catch(O){Qm(t,O)}while(!0);return En=xi=null,H.H=a,H.A=m,Ue=s,Ae!==null?0:(Oe=null,xe=0,ss(),$e)}function mC(){for(;Ae!==null&&!PT();)Km(Ae)}function Km(t){var n=Sm(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,n===null?Vs(t):Ae=n}function Xm(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=mm(s,n,n.pendingProps,n.type,void 0,xe);break;case 11:n=mm(s,n,n.pendingProps,n.type.render,n.ref,xe);break;case 5:zr(n);default:Em(s,n),n=Ae=$f(n,Dn),n=Sm(s,n,Dn)}t.memoizedProps=t.pendingProps,n===null?Vs(t):Ae=n}function Co(t,n,s,a){En=xi=null,zr(n),co=null,ol=0;var m=n.return;try{if(tC(t,m,n,s,xe)){$e=1,bs(t,Yt(s,t.current)),Ae=null;return}}catch(p){if(m!==null)throw Ae=m,p;$e=1,bs(t,Yt(s,t.current)),Ae=null;return}n.flags&32768?(be||a===1?t=!0:vo||(xe&536870912)!==0?t=!1:(ei=t=!0,(a===2||a===9||a===3||a===6)&&(a=Bt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Zm(n,t)):Vs(n)}function Vs(t){var n=t;do{if((n.flags&32768)!==0){Zm(n,ei);return}t=n.return;var s=oC(n.alternate,n,Dn);if(s!==null){Ae=s;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=t}while(n!==null);$e===0&&($e=5)}function Zm(t,n){do{var s=lC(t.alternate,t);if(s!==null){s.flags&=32767,Ae=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=s}while(t!==null);$e=6,Ae=null}function Wm(t,n,s,a,m,p,T,C,x){t.cancelPendingCommit=null;do Os();while(it!==0);if((Ue&6)!==0)throw Error(l(327));if(n!==null){if(n===t.current)throw Error(l(177));if(p=n.lanes|n.childLanes,p|=fr,JT(t,s,p,T,C,x),t===Oe&&(Ae=Oe=null,xe=0),To=n,ii=t,In=s,Su=p,Tu=m,Vm=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yC(Fl,function(){return ih(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null,m=ee.p,ee.p=2,T=Ue,Ue|=4;try{sC(t,n,s)}finally{Ue=T,ee.p=m,H.T=a}}it=1,jm(),eh(),th()}}function jm(){if(it===1){it=0;var t=ii,n=To,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var a=ee.p;ee.p=2;var m=Ue;Ue|=4;try{Lm(n,t);var p=qu,T=Gf(t.containerInfo),C=p.focusedElem,x=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&zf(C.ownerDocument.documentElement,C)){if(x!==null&&sr(C)){var q=x.start,O=x.end;if(O===void 0&&(O=q),"selectionStart"in C)C.selectionStart=q,C.selectionEnd=Math.min(O,C.value.length);else{var J=C.ownerDocument||document,P=J&&J.defaultView||window;if(P.getSelection){var z=P.getSelection(),ue=C.textContent.length,ge=Math.min(x.start,ue),Ve=x.end===void 0?ge:Math.min(x.end,ue);!z.extend&&ge>Ve&&(T=Ve,Ve=ge,ge=T);var D=Bf(C,ge),N=Bf(C,Ve);if(D&&N&&(z.rangeCount!==1||z.anchorNode!==D.node||z.anchorOffset!==D.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var U=J.createRange();U.setStart(D.node,D.offset),z.removeAllRanges(),ge>Ve?(z.addRange(U),z.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),z.addRange(U))}}}}for(J=[],z=C;z=z.parentNode;)z.nodeType===1&&J.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<J.length;C++){var Q=J[C];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ea=!!Uu,qu=Uu=null}finally{Ue=m,ee.p=a,H.T=s}}t.current=n,it=2}}function eh(){if(it===2){it=0;var t=ii,n=To,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var a=ee.p;ee.p=2;var m=Ue;Ue|=4;try{bm(t,n.alternate,n)}finally{Ue=m,ee.p=a,H.T=s}}it=3}}function th(){if(it===4||it===3){it=0,BT();var t=ii,n=To,s=In,a=Vm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,To=ii=null,nh(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ni=null),Va(s),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Ho,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=H.T,m=ee.p,ee.p=2,H.T=null;try{for(var p=t.onRecoverableError,T=0;T<a.length;T++){var C=a[T];p(C.value,{componentStack:C.stack})}}finally{H.T=n,ee.p=m}}(In&3)!==0&&Os(),mn(t),m=t.pendingLanes,(s&261930)!==0&&(m&42)!==0?t===Eu?El++:(El=0,Eu=t):El=0,Cl(0)}}function nh(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function Os(){return jm(),eh(),th(),ih()}function ih(){if(it!==5)return!1;var t=ii,n=Su;Su=0;var s=Va(In),a=H.T,m=ee.p;try{ee.p=32>s?32:s,H.T=null,s=Tu,Tu=null;var p=ii,T=In;if(it=0,To=ii=null,In=0,(Ue&6)!==0)throw Error(l(331));var C=Ue;if(Ue|=4,zm(p.current),qm(p,p.current,T,s),Ue=C,Cl(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Ho,p)}catch{}return!0}finally{ee.p=m,H.T=a,nh(t,n)}}function oh(t,n,s){n=Yt(s,n),n=jr(t.stateNode,n,2),t=Xn(t,n,2),t!==null&&(Oo(t,2),mn(t))}function ze(t,n,s){if(t.tag===3)oh(t,t,s);else for(;n!==null;){if(n.tag===3){oh(n,t,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ni===null||!ni.has(a))){t=Yt(s,t),s=lm(2),a=Xn(n,s,2),a!==null&&(sm(s,a,n,t),Oo(a,2),mn(a));break}}n=n.return}}function Au(t,n,s){var a=t.pingCache;if(a===null){a=t.pingCache=new uC;var m=new Set;a.set(n,m)}else m=a.get(n),m===void 0&&(m=new Set,a.set(n,m));m.has(s)||(gu=!0,m.add(s),t=hC.bind(null,t,n,s),n.then(t,t))}function hC(t,n,s){var a=t.pingCache;a!==null&&a.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Oe===t&&(xe&s)===s&&($e===4||$e===3&&(xe&62914560)===xe&&300>It()-Ps?(Ue&2)===0&&Eo(t,0):yu|=s,So===xe&&(So=0)),mn(t)}function lh(t,n){n===0&&(n=Wc()),t=_i(t,n),t!==null&&(Oo(t,n),mn(t))}function pC(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),lh(t,s)}function gC(t,n){var s=0;switch(t.tag){case 31:case 13:var a=t.stateNode,m=t.memoizedState;m!==null&&(s=m.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(l(314))}a!==null&&a.delete(n),lh(t,s)}function yC(t,n){return Go(t,n)}var ks=null,_o=null,wu=!1,Fs=!1,xu=!1,li=0;function mn(t){t!==_o&&t.next===null&&(_o===null?ks=_o=t:_o=_o.next=t),Fs=!0,wu||(wu=!0,SC())}function Cl(t,n){if(!xu&&Fs){xu=!0;do for(var s=!1,a=ks;a!==null;){if(t!==0){var m=a.pendingLanes;if(m===0)var p=0;else{var T=a.suspendedLanes,C=a.pingedLanes;p=(1<<31-Ut(42|t)+1)-1,p&=m&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,uh(a,p))}else p=xe,p=$l(a,a===Oe?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Vo(a,p)||(s=!0,uh(a,p));a=a.next}while(s);xu=!1}}function vC(){sh()}function sh(){Fs=wu=!1;var t=0;li!==0&&RC()&&(t=li);for(var n=It(),s=null,a=ks;a!==null;){var m=a.next,p=ah(a,n);p===0?(a.next=null,s===null?ks=m:s.next=m,m===null&&(_o=s)):(s=a,(t!==0||(p&3)!==0)&&(Fs=!0)),a=m}it!==0&&it!==5||Cl(t),li!==0&&(li=0)}function ah(t,n){for(var s=t.suspendedLanes,a=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-Ut(p),C=1<<T,x=m[T];x===-1?((C&s)===0||(C&a)!==0)&&(m[T]=QT(C,n)):x<=n&&(t.expiredLanes|=C),p&=~C}if(n=Oe,s=xe,s=$l(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,s===0||t===n&&(Be===2||Be===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&za(a),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Vo(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(a!==null&&za(a),Va(s)){case 2:case 8:s=Xc;break;case 32:s=Fl;break;case 268435456:s=Zc;break;default:s=Fl}return a=rh.bind(null,t),s=Go(s,a),t.callbackPriority=n,t.callbackNode=s,n}return a!==null&&a!==null&&za(a),t.callbackPriority=2,t.callbackNode=null,2}function rh(t,n){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Os()&&t.callbackNode!==s)return null;var a=xe;return a=$l(t,t===Oe?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(km(t,a,n),ah(t,It()),t.callbackNode!=null&&t.callbackNode===s?rh.bind(null,t):null)}function uh(t,n){if(Os())return null;km(t,n,!0)}function SC(){DC(function(){(Ue&6)!==0?Go(Kc,vC):sh()})}function Nu(){if(li===0){var t=ao;t===0&&(t=Ql,Ql<<=1,(Ql&261888)===0&&(Ql=256)),li=t}return li}function ch(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wl(""+t)}function fh(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function TC(t,n,s,a,m){if(n==="submit"&&s&&s.stateNode===m){var p=ch((m[_t]||null).action),T=a.submitter;T&&(n=(n=T[_t]||null)?ch(n.formAction):T.getAttribute("formAction"),n!==null&&(p=n,T=null));var C=new ns("action","action",null,a,m);t.push({event:C,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(li!==0){var x=T?fh(m,T):new FormData(m);Yr(s,{pending:!0,data:x,method:m.method,action:p},null,x)}}else typeof p=="function"&&(C.preventDefault(),x=T?fh(m,T):new FormData(m),Yr(s,{pending:!0,data:x,method:m.method,action:p},p,x))},currentTarget:m}]})}}for(var bu=0;bu<cr.length;bu++){var Ru=cr[bu],EC=Ru.toLowerCase(),CC=Ru[0].toUpperCase()+Ru.slice(1);ln(EC,"on"+CC)}ln(Of,"onAnimationEnd"),ln(kf,"onAnimationIteration"),ln(Ff,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(zE,"onTransitionRun"),ln(GE,"onTransitionStart"),ln(HE,"onTransitionCancel"),ln(Qf,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function dh(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var a=t[s],m=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var T=a.length-1;0<=T;T--){var C=a[T],x=C.instance,q=C.currentTarget;if(C=C.listener,x!==p&&m.isPropagationStopped())break e;p=C,m.currentTarget=q;try{p(m)}catch(O){ls(O)}m.currentTarget=null,p=x}else for(T=0;T<a.length;T++){if(C=a[T],x=C.instance,q=C.currentTarget,C=C.listener,x!==p&&m.isPropagationStopped())break e;p=C,m.currentTarget=q;try{p(m)}catch(O){ls(O)}m.currentTarget=null,p=x}}}}function we(t,n){var s=n[Oa];s===void 0&&(s=n[Oa]=new Set);var a=t+"__bubble";s.has(a)||(mh(n,t,2,!1),s.add(a))}function Mu(t,n,s){var a=0;n&&(a|=4),mh(s,t,a,n)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[Qs]){t[Qs]=!0,sf.forEach(function(s){s!=="selectionchange"&&(_C.has(s)||Mu(s,!1,t),Mu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Qs]||(n[Qs]=!0,Mu("selectionchange",!1,n))}}function mh(t,n,s,a){switch(Oh(n)){case 2:var m=ZC;break;case 8:m=WC;break;default:m=Ju}s=m.bind(null,n,s,t),m=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),a?m!==void 0?t.addEventListener(n,s,{capture:!0,passive:m}):t.addEventListener(n,s,!0):m!==void 0?t.addEventListener(n,s,{passive:m}):t.addEventListener(n,s,!1)}function Iu(t,n,s,a,m){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var C=a.stateNode.containerInfo;if(C===m)break;if(T===4)for(T=a.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;C!==null;){if(T=Fi(C),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){a=p=T;continue e}C=C.parentNode}}a=a.return}vf(function(){var q=p,O=Ka(s),J=[];e:{var P=Jf.get(t);if(P!==void 0){var z=ns,ue=t;switch(t){case"keypress":if(es(s)===0)break e;case"keydown":case"keyup":z=gE;break;case"focusin":ue="focus",z=tr;break;case"focusout":ue="blur",z=tr;break;case"beforeblur":case"afterblur":z=tr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=oE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=SE;break;case Of:case kf:case Ff:z=aE;break;case Qf:z=EE;break;case"scroll":case"scrollend":z=nE;break;case"wheel":z=_E;break;case"copy":case"cut":case"paste":z=uE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=_f;break;case"toggle":case"beforetoggle":z=wE}var ge=(n&4)!==0,Ve=!ge&&(t==="scroll"||t==="scrollend"),D=ge?P!==null?P+"Capture":null:P;ge=[];for(var N=q,U;N!==null;){var Q=N;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||D===null||(Q=Qo(N,D),Q!=null&&ge.push(Al(N,Q,U))),Ve)break;N=N.return}0<ge.length&&(P=new z(P,ue,null,s,O),J.push({event:P,listeners:ge}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",P&&s!==$a&&(ue=s.relatedTarget||s.fromElement)&&(Fi(ue)||ue[ki]))break e;if((z||P)&&(P=O.window===O?O:(P=O.ownerDocument)?P.defaultView||P.parentWindow:window,z?(ue=s.relatedTarget||s.toElement,z=q,ue=ue?Fi(ue):null,ue!==null&&(Ve=u(ue),ge=ue.tag,ue!==Ve||ge!==5&&ge!==27&&ge!==6)&&(ue=null)):(z=null,ue=q),z!==ue)){if(ge=Ef,Q="onMouseLeave",D="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ge=_f,Q="onPointerLeave",D="onPointerEnter",N="pointer"),Ve=z==null?P:Fo(z),U=ue==null?P:Fo(ue),P=new ge(Q,N+"leave",z,s,O),P.target=Ve,P.relatedTarget=U,Q=null,Fi(O)===q&&(ge=new ge(D,N+"enter",ue,s,O),ge.target=U,ge.relatedTarget=Ve,Q=ge),Ve=Q,z&&ue)t:{for(ge=AC,D=z,N=ue,U=0,Q=D;Q;Q=ge(Q))U++;Q=0;for(var me=N;me;me=ge(me))Q++;for(;0<U-Q;)D=ge(D),U--;for(;0<Q-U;)N=ge(N),Q--;for(;U--;){if(D===N||N!==null&&D===N.alternate){ge=D;break t}D=ge(D),N=ge(N)}ge=null}else ge=null;z!==null&&hh(J,P,z,ge,!1),ue!==null&&Ve!==null&&hh(J,Ve,ue,ge,!0)}}e:{if(P=q?Fo(q):window,z=P.nodeName&&P.nodeName.toLowerCase(),z==="select"||z==="input"&&P.type==="file")var Me=Df;else if(Rf(P))if(If)Me=qE;else{Me=LE;var fe=IE}else z=P.nodeName,!z||z.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?q&&Ya(q.elementType)&&(Me=Df):Me=UE;if(Me&&(Me=Me(t,q))){Mf(J,Me,s,O);break e}fe&&fe(t,P,q),t==="focusout"&&q&&P.type==="number"&&q.memoizedProps.value!=null&&Ja(P,"number",P.value)}switch(fe=q?Fo(q):window,t){case"focusin":(Rf(fe)||fe.contentEditable==="true")&&(ji=fe,ar=q,jo=null);break;case"focusout":jo=ar=ji=null;break;case"mousedown":rr=!0;break;case"contextmenu":case"mouseup":case"dragend":rr=!1,Hf(J,s,O);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":Hf(J,s,O)}var Ce;if(ir)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Wi?Nf(t,s)&&(Ne="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(Af&&s.locale!=="ko"&&(Wi||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Wi&&(Ce=Sf()):(kn=O,Wa="value"in kn?kn.value:kn.textContent,Wi=!0)),fe=Js(q,Ne),0<fe.length&&(Ne=new Cf(Ne,t,null,s,O),J.push({event:Ne,listeners:fe}),Ce?Ne.data=Ce:(Ce=bf(s),Ce!==null&&(Ne.data=Ce)))),(Ce=NE?bE(t,s):RE(t,s))&&(Ne=Js(q,"onBeforeInput"),0<Ne.length&&(fe=new Cf("onBeforeInput","beforeinput",null,s,O),J.push({event:fe,listeners:Ne}),fe.data=Ce)),TC(J,t,q,s,O)}dh(J,n)})}function Al(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Js(t,n){for(var s=n+"Capture",a=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Qo(t,s),m!=null&&a.unshift(Al(t,m,p)),m=Qo(t,n),m!=null&&a.push(Al(t,m,p))),t.tag===3)return a;t=t.return}return[]}function AC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hh(t,n,s,a,m){for(var p=n._reactName,T=[];s!==null&&s!==a;){var C=s,x=C.alternate,q=C.stateNode;if(C=C.tag,x!==null&&x===a)break;C!==5&&C!==26&&C!==27||q===null||(x=q,m?(q=Qo(s,p),q!=null&&T.unshift(Al(s,q,x))):m||(q=Qo(s,p),q!=null&&T.push(Al(s,q,x)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var wC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function ph(t){return(typeof t=="string"?t:""+t).replace(wC,`
`).replace(xC,"")}function gh(t,n){return n=ph(n),ph(t)===n}function He(t,n,s,a,m,p){switch(s){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Ki(t,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Ki(t,""+a);break;case"className":Xl(t,"class",a);break;case"tabIndex":Xl(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(t,s,a);break;case"style":gf(t,a,p);break;case"data":if(n!=="object"){Xl(t,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=Wl(""+a),t.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(n!=="input"&&He(t,n,"name",m.name,m,null),He(t,n,"formEncType",m.formEncType,m,null),He(t,n,"formMethod",m.formMethod,m,null),He(t,n,"formTarget",m.formTarget,m,null)):(He(t,n,"encType",m.encType,m,null),He(t,n,"method",m.method,m,null),He(t,n,"target",m.target,m,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=Wl(""+a),t.setAttribute(s,a);break;case"onClick":a!=null&&(t.onclick=yn);break;case"onScroll":a!=null&&we("scroll",t);break;case"onScrollEnd":a!=null&&we("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(s=a.__html,s!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}s=Wl(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""+a):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":a===!0?t.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,a):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(s,a):t.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(s):t.setAttribute(s,a);break;case"popover":we("beforetoggle",t),we("toggle",t),Kl(t,"popover",a);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Kl(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eE.get(s)||s,Kl(t,s,a))}}function Lu(t,n,s,a,m,p){switch(s){case"style":gf(t,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(s=a.__html,s!=null){if(m.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof a=="string"?Ki(t,a):(typeof a=="number"||typeof a=="bigint")&&Ki(t,""+a);break;case"onScroll":a!=null&&we("scroll",t);break;case"onScrollEnd":a!=null&&we("scrollend",t);break;case"onClick":a!=null&&(t.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!af.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),n=s.slice(2,m?s.length-7:void 0),p=t[_t]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(n,p,m),typeof a=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,a,m);break e}s in t?t[s]=a:a===!0?t.setAttribute(s,""):Kl(t,s,a)}}}function dt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",t),we("load",t);var a=!1,m=!1,p;for(p in s)if(s.hasOwnProperty(p)){var T=s[p];if(T!=null)switch(p){case"src":a=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:He(t,n,p,T,s,null)}}m&&He(t,n,"srcSet",s.srcSet,s,null),a&&He(t,n,"src",s.src,s,null);return;case"input":we("invalid",t);var C=p=T=m=null,x=null,q=null;for(a in s)if(s.hasOwnProperty(a)){var O=s[a];if(O!=null)switch(a){case"name":m=O;break;case"type":T=O;break;case"checked":x=O;break;case"defaultChecked":q=O;break;case"value":p=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:He(t,n,a,O,s,null)}}df(t,p,C,x,q,T,m,!1);return;case"select":we("invalid",t),a=T=p=null;for(m in s)if(s.hasOwnProperty(m)&&(C=s[m],C!=null))switch(m){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":a=C;default:He(t,n,m,C,s,null)}n=p,s=T,t.multiple=!!a,n!=null?$i(t,!!a,n,!1):s!=null&&$i(t,!!a,s,!0);return;case"textarea":we("invalid",t),p=m=a=null;for(T in s)if(s.hasOwnProperty(T)&&(C=s[T],C!=null))switch(T){case"value":a=C;break;case"defaultValue":m=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:He(t,n,T,C,s,null)}hf(t,a,m,p);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(a=s[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:He(t,n,x,a,s,null)}return;case"dialog":we("beforetoggle",t),we("toggle",t),we("cancel",t),we("close",t);break;case"iframe":case"object":we("load",t);break;case"video":case"audio":for(a=0;a<_l.length;a++)we(_l[a],t);break;case"image":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"embed":case"source":case"link":we("error",t),we("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(a=s[q],a!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:He(t,n,q,a,s,null)}return;default:if(Ya(n)){for(O in s)s.hasOwnProperty(O)&&(a=s[O],a!==void 0&&Lu(t,n,O,a,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(a=s[C],a!=null&&He(t,n,C,a,s,null))}function NC(t,n,s,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,T=null,C=null,x=null,q=null,O=null;for(z in s){var J=s[z];if(s.hasOwnProperty(z)&&J!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":x=J;default:a.hasOwnProperty(z)||He(t,n,z,null,a,J)}}for(var P in a){var z=a[P];if(J=s[P],a.hasOwnProperty(P)&&(z!=null||J!=null))switch(P){case"type":p=z;break;case"name":m=z;break;case"checked":q=z;break;case"defaultChecked":O=z;break;case"value":T=z;break;case"defaultValue":C=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,n));break;default:z!==J&&He(t,n,P,z,a,J)}}Qa(t,T,C,x,q,O,p,m);return;case"select":z=T=C=P=null;for(p in s)if(x=s[p],s.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":z=x;default:a.hasOwnProperty(p)||He(t,n,p,null,a,x)}for(m in a)if(p=a[m],x=s[m],a.hasOwnProperty(m)&&(p!=null||x!=null))switch(m){case"value":P=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==x&&He(t,n,m,p,a,x)}n=C,s=T,a=z,P!=null?$i(t,!!s,P,!1):!!a!=!!s&&(n!=null?$i(t,!!s,n,!0):$i(t,!!s,s?[]:"",!1));return;case"textarea":z=P=null;for(C in s)if(m=s[C],s.hasOwnProperty(C)&&m!=null&&!a.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:He(t,n,C,null,a,m)}for(T in a)if(m=a[T],p=s[T],a.hasOwnProperty(T)&&(m!=null||p!=null))switch(T){case"value":P=m;break;case"defaultValue":z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==p&&He(t,n,T,m,a,p)}mf(t,P,z);return;case"option":for(var ue in s)if(P=s[ue],s.hasOwnProperty(ue)&&P!=null&&!a.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:He(t,n,ue,null,a,P)}for(x in a)if(P=a[x],z=s[x],a.hasOwnProperty(x)&&P!==z&&(P!=null||z!=null))switch(x){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:He(t,n,x,P,a,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)P=s[ge],s.hasOwnProperty(ge)&&P!=null&&!a.hasOwnProperty(ge)&&He(t,n,ge,null,a,P);for(q in a)if(P=a[q],z=s[q],a.hasOwnProperty(q)&&P!==z&&(P!=null||z!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,n));break;default:He(t,n,q,P,a,z)}return;default:if(Ya(n)){for(var Ve in s)P=s[Ve],s.hasOwnProperty(Ve)&&P!==void 0&&!a.hasOwnProperty(Ve)&&Lu(t,n,Ve,void 0,a,P);for(O in a)P=a[O],z=s[O],!a.hasOwnProperty(O)||P===z||P===void 0&&z===void 0||Lu(t,n,O,P,a,z);return}}for(var D in s)P=s[D],s.hasOwnProperty(D)&&P!=null&&!a.hasOwnProperty(D)&&He(t,n,D,null,a,P);for(J in a)P=a[J],z=s[J],!a.hasOwnProperty(J)||P===z||P==null&&z==null||He(t,n,J,P,a,z)}function yh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),a=0;a<s.length;a++){var m=s[a],p=m.transferSize,T=m.initiatorType,C=m.duration;if(p&&C&&yh(T)){for(T=0,C=m.responseEnd,a+=1;a<s.length;a++){var x=s[a],q=x.startTime;if(q>C)break;var O=x.transferSize,J=x.initiatorType;O&&yh(J)&&(x=x.responseEnd,T+=O*(x<C?1:(C-q)/(x-q)))}if(--a,n+=8*(p+T)/(m.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uu=null,qu=null;function Ys(t){return t.nodeType===9?t:t.ownerDocument}function vh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sh(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Pu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bu=null;function RC(){var t=window.event;return t&&t.type==="popstate"?t===Bu?!1:(Bu=t,!0):(Bu=null,!1)}var Th=typeof setTimeout=="function"?setTimeout:void 0,MC=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,DC=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(t){return Eh.resolve(null).then(t).catch(IC)}:Th;function IC(t){setTimeout(function(){throw t})}function si(t){return t==="head"}function Ch(t,n){var s=n,a=0;do{var m=s.nextSibling;if(t.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(a===0){t.removeChild(m),No(n);return}a--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")a++;else if(s==="html")wl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,wl(s);for(var p=s.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[ko]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=T}}else s==="body"&&wl(t.ownerDocument.body);s=m}while(s);No(n)}function _h(t,n){var s=t;t=0;do{var a=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=a}while(s)}function zu(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":zu(s),ka(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function LC(t,n,s,a){for(;t.nodeType===1;){var m=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[ko])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Wt(t.nextSibling),t===null)break}return null}function UC(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wt(t.nextSibling),t===null))return null;return t}function Ah(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wt(t.nextSibling),t===null))return null;return t}function Gu(t){return t.data==="$?"||t.data==="$~"}function Hu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qC(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var a=function(){n(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Wt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Vu=null;function wh(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Wt(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function xh(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Nh(t,n,s){switch(n=Ys(s),t){case"html":if(t=n.documentElement,!t)throw Error(l(452));return t;case"head":if(t=n.head,!t)throw Error(l(453));return t;case"body":if(t=n.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ka(t)}var jt=new Map,bh=new Set;function $s(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ln=ee.d;ee.d={f:PC,r:BC,D:zC,C:GC,L:HC,m:VC,X:kC,S:OC,M:FC};function PC(){var t=Ln.f(),n=Gs();return t||n}function BC(t){var n=Qi(t);n!==null&&n.tag===5&&n.type==="form"?Qd(n):Ln.r(t)}var Ao=typeof document>"u"?null:document;function Rh(t,n,s){var a=Ao;if(a&&typeof n=="string"&&n){var m=Qt(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),bh.has(m)||(bh.add(m),t={rel:t,crossOrigin:s,href:n},a.querySelector(m)===null&&(n=a.createElement("link"),dt(n,"link",t),lt(n),a.head.appendChild(n)))}}function zC(t){Ln.D(t),Rh("dns-prefetch",t,null)}function GC(t,n){Ln.C(t,n),Rh("preconnect",t,n)}function HC(t,n,s){Ln.L(t,n,s);var a=Ao;if(a&&t&&n){var m='link[rel="preload"][as="'+Qt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Qt(s.imageSizes)+'"]')):m+='[href="'+Qt(t)+'"]';var p=m;switch(n){case"style":p=wo(t);break;case"script":p=xo(t)}jt.has(p)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),jt.set(p,t),a.querySelector(m)!==null||n==="style"&&a.querySelector(xl(p))||n==="script"&&a.querySelector(Nl(p))||(n=a.createElement("link"),dt(n,"link",t),lt(n),a.head.appendChild(n)))}}function VC(t,n){Ln.m(t,n);var s=Ao;if(s&&t){var a=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+Qt(a)+'"][href="'+Qt(t)+'"]',p=m;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=xo(t)}if(!jt.has(p)&&(t=S({rel:"modulepreload",href:t},n),jt.set(p,t),s.querySelector(m)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Nl(p)))return}a=s.createElement("link"),dt(a,"link",t),lt(a),s.head.appendChild(a)}}}function OC(t,n,s){Ln.S(t,n,s);var a=Ao;if(a&&t){var m=Ji(a).hoistableStyles,p=wo(t);n=n||"default";var T=m.get(p);if(!T){var C={loading:0,preload:null};if(T=a.querySelector(xl(p)))C.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=jt.get(p))&&Ou(t,s);var x=T=a.createElement("link");lt(x),dt(x,"link",t),x._p=new Promise(function(q,O){x.onload=q,x.onerror=O}),x.addEventListener("load",function(){C.loading|=1}),x.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ks(T,n,a)}T={type:"stylesheet",instance:T,count:1,state:C},m.set(p,T)}}}function kC(t,n){Ln.X(t,n);var s=Ao;if(s&&t){var a=Ji(s).hoistableScripts,m=xo(t),p=a.get(m);p||(p=s.querySelector(Nl(m)),p||(t=S({src:t,async:!0},n),(n=jt.get(m))&&ku(t,n),p=s.createElement("script"),lt(p),dt(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(m,p))}}function FC(t,n){Ln.M(t,n);var s=Ao;if(s&&t){var a=Ji(s).hoistableScripts,m=xo(t),p=a.get(m);p||(p=s.querySelector(Nl(m)),p||(t=S({src:t,async:!0,type:"module"},n),(n=jt.get(m))&&ku(t,n),p=s.createElement("script"),lt(p),dt(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(m,p))}}function Mh(t,n,s,a){var m=(m=_e.current)?$s(m):null;if(!m)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=wo(s.href),s=Ji(m).hoistableStyles,a=s.get(n),a||(a={type:"style",instance:null,count:0,state:null},s.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=wo(s.href);var p=Ji(m).hoistableStyles,T=p.get(t);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=m.querySelector(xl(t)))&&!p._p&&(T.instance=p,T.state.loading=5),jt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jt.set(t,s),p||QC(m,t,s,T.state))),n&&a===null)throw Error(l(528,""));return T}if(n&&a!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xo(s),s=Ji(m).hoistableScripts,a=s.get(n),a||(a={type:"script",instance:null,count:0,state:null},s.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function wo(t){return'href="'+Qt(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function Dh(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function QC(t,n,s,a){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=t.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),dt(n,"link",s),lt(n),t.head.appendChild(n))}function xo(t){return'[src="'+Qt(t)+'"]'}function Nl(t){return"script[async]"+t}function Ih(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var a=t.querySelector('style[data-href~="'+Qt(s.href)+'"]');if(a)return n.instance=a,lt(a),a;var m=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),lt(a),dt(a,"style",m),Ks(a,s.precedence,t),n.instance=a;case"stylesheet":m=wo(s.href);var p=t.querySelector(xl(m));if(p)return n.state.loading|=4,n.instance=p,lt(p),p;a=Dh(s),(m=jt.get(m))&&Ou(a,m),p=(t.ownerDocument||t).createElement("link"),lt(p);var T=p;return T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),dt(p,"link",a),n.state.loading|=4,Ks(p,s.precedence,t),n.instance=p;case"script":return p=xo(s.src),(m=t.querySelector(Nl(p)))?(n.instance=m,lt(m),m):(a=s,(m=jt.get(p))&&(a=S({},s),ku(a,m)),t=t.ownerDocument||t,m=t.createElement("script"),lt(m),dt(m,"link",a),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Ks(a,s.precedence,t));return n.instance}function Ks(t,n,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=a.length?a[a.length-1]:null,p=m,T=0;T<a.length;T++){var C=a[T];if(C.dataset.precedence===n)p=C;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ou(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ku(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Xs=null;function Lh(t,n,s){if(Xs===null){var a=new Map,m=Xs=new Map;m.set(s,a)}else m=Xs,a=m.get(s),a||(a=new Map,m.set(s,a));if(a.has(t))return a;for(a.set(t,null),s=s.getElementsByTagName(t),m=0;m<s.length;m++){var p=s[m];if(!(p[ko]||p[rt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(n)||"";T=t+T;var C=a.get(T);C?C.push(p):a.set(T,[p])}}return a}function Uh(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function JC(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YC(t,n,s,a){if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=wo(a.href),p=n.querySelector(xl(m));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Zs.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=p,lt(p);return}p=n.ownerDocument||n,a=Dh(a),(m=jt.get(m))&&Ou(a,m),p=p.createElement("link"),lt(p);var T=p;T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),dt(p,"link",a),s.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Zs.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Fu=0;function $C(t,n){return t.stylesheets&&t.count===0&&js(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var a=setTimeout(function(){if(t.stylesheets&&js(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+n);0<t.imgBytes&&Fu===0&&(Fu=62500*bC());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&js(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Fu?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(m)}}:null}function Zs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)js(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ws=null;function js(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ws=new Map,n.forEach(KC,t),Ws=null,Zs.call(t))}function KC(t,n){if(!(n.state.loading&4)){var s=Ws.get(t);if(s)var a=s.get(null);else{s=new Map,Ws.set(t,s);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var T=m[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),a=T)}a&&s.set(null,a)}m=n.instance,T=m.getAttribute("data-precedence"),p=s.get(T)||a,p===a&&s.set(null,m),s.set(T,m),this.count++,a=Zs.bind(this),m.addEventListener("load",a),m.addEventListener("error",a),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:G,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function XC(t,n,s,a,m,p,T,C,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=a,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Ph(t,n,s,a,m,p,T,C,x,q,O,J){return t=new XC(t,n,s,T,x,q,O,J,C),n=1,p===!0&&(n|=24),p=Pt(3,null,null,n),t.current=p,p.stateNode=t,n=_r(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:a,isDehydrated:s,cache:n},Nr(p),t}function Bh(t){return t?(t=no,t):no}function zh(t,n,s,a,m,p){m=Bh(m),a.context===null?a.context=m:a.pendingContext=m,a=Kn(n),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Xn(t,a,n),s!==null&&(Rt(s,t,n),sl(s,t,n))}function Gh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Qu(t,n){Gh(t,n),(t=t.alternate)&&Gh(t,n)}function Hh(t){if(t.tag===13||t.tag===31){var n=_i(t,67108864);n!==null&&Rt(n,t,67108864),Qu(t,67108864)}}function Vh(t){if(t.tag===13||t.tag===31){var n=Vt();n=Ha(n);var s=_i(t,n);s!==null&&Rt(s,t,n),Qu(t,n)}}var ea=!0;function ZC(t,n,s,a){var m=H.T;H.T=null;var p=ee.p;try{ee.p=2,Ju(t,n,s,a)}finally{ee.p=p,H.T=m}}function WC(t,n,s,a){var m=H.T;H.T=null;var p=ee.p;try{ee.p=8,Ju(t,n,s,a)}finally{ee.p=p,H.T=m}}function Ju(t,n,s,a){if(ea){var m=Yu(a);if(m===null)Iu(t,n,a,ta,s),kh(t,a);else if(e_(m,t,n,s,a))a.stopPropagation();else if(kh(t,a),n&4&&-1<jC.indexOf(t)){for(;m!==null;){var p=Qi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=vi(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var x=1<<31-Ut(T);C.entanglements[1]|=x,T&=~x}mn(p),(Ue&6)===0&&(Bs=It()+500,Cl(0))}}break;case 31:case 13:C=_i(p,2),C!==null&&Rt(C,p,2),Gs(),Qu(p,2)}if(p=Yu(a),p===null&&Iu(t,n,a,ta,s),p===m)break;m=p}m!==null&&a.stopPropagation()}else Iu(t,n,a,null,s)}}function Yu(t){return t=Ka(t),$u(t)}var ta=null;function $u(t){if(ta=null,t=Fi(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=h(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ta=t,null}function Oh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zT()){case Kc:return 2;case Xc:return 8;case Fl:case GT:return 32;case Zc:return 268435456;default:return 32}default:return 32}}var Ku=!1,ai=null,ri=null,ui=null,Rl=new Map,Ml=new Map,ci=[],jC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kh(t,n){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Dl(t,n,s,a,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:p,targetContainers:[m]},n!==null&&(n=Qi(n),n!==null&&Hh(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function e_(t,n,s,a,m){switch(n){case"focusin":return ai=Dl(ai,t,n,s,a,m),!0;case"dragenter":return ri=Dl(ri,t,n,s,a,m),!0;case"mouseover":return ui=Dl(ui,t,n,s,a,m),!0;case"pointerover":var p=m.pointerId;return Rl.set(p,Dl(Rl.get(p)||null,t,n,s,a,m)),!0;case"gotpointercapture":return p=m.pointerId,Ml.set(p,Dl(Ml.get(p)||null,t,n,s,a,m)),!0}return!1}function Fh(t){var n=Fi(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,of(t.priority,function(){Vh(s)});return}}else if(n===31){if(n=h(s),n!==null){t.blockedOn=n,of(t.priority,function(){Vh(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function na(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Yu(t.nativeEvent);if(s===null){s=t.nativeEvent;var a=new s.constructor(s.type,s);$a=a,s.target.dispatchEvent(a),$a=null}else return n=Qi(s),n!==null&&Hh(n),t.blockedOn=s,!1;n.shift()}return!0}function Qh(t,n,s){na(t)&&s.delete(n)}function t_(){Ku=!1,ai!==null&&na(ai)&&(ai=null),ri!==null&&na(ri)&&(ri=null),ui!==null&&na(ui)&&(ui=null),Rl.forEach(Qh),Ml.forEach(Qh)}function ia(t,n){t.blockedOn===n&&(t.blockedOn=null,Ku||(Ku=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,t_)))}var oa=null;function Jh(t){oa!==t&&(oa=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oa===t&&(oa=null);for(var n=0;n<t.length;n+=3){var s=t[n],a=t[n+1],m=t[n+2];if(typeof a!="function"){if($u(a||s)===null)continue;break}var p=Qi(s);p!==null&&(t.splice(n,3),n-=3,Yr(p,{pending:!0,data:m,method:s.method,action:a},a,m))}}))}function No(t){function n(x){return ia(x,t)}ai!==null&&ia(ai,t),ri!==null&&ia(ri,t),ui!==null&&ia(ui,t),Rl.forEach(n),Ml.forEach(n);for(var s=0;s<ci.length;s++){var a=ci[s];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ci.length&&(s=ci[0],s.blockedOn===null);)Fh(s),s.blockedOn===null&&ci.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var m=s[a],p=s[a+1],T=m[_t]||null;if(typeof p=="function")T||Jh(s);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(m=p,T=p[_t]||null)C=T.formAction;else if($u(m)!==null)continue}else C=T.action;typeof C=="function"?s[a+1]=C:(s.splice(a,3),a-=3),Jh(s)}}}function Yh(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),a||setTimeout(s,20)}function s(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Xu(t){this._internalRoot=t}la.prototype.render=Xu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,a=Vt();zh(s,a,t,n,null,null)},la.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;zh(t.current,2,null,t,null,null),Gs(),n[ki]=null}};function la(t){this._internalRoot=t}la.prototype.unstable_scheduleHydration=function(t){if(t){var n=nf();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ci.length&&n!==0&&n<ci[s].priority;s++);ci.splice(s,0,t),s===0&&Fh(t)}};var $h=e.version;if($h!=="19.2.0")throw Error(l(527,$h,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=g(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var n_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{Ho=sa.inject(n_),Lt=sa}catch{}}return Ll.createRoot=function(t,n){if(!r(t))throw Error(l(299));var s=!1,a="",m=tm,p=nm,T=im;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Ph(t,1,!1,null,null,s,a,null,m,p,T,Yh),t[ki]=n.current,Du(t),new Xu(n)},Ll.hydrateRoot=function(t,n,s){if(!r(t))throw Error(l(299));var a=!1,m="",p=tm,T=nm,C=im,x=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=Ph(t,1,!0,n,s??null,a,m,x,p,T,C,Yh),n.context=Bh(null),s=n.current,a=Vt(),a=Ha(a),m=Kn(a),m.callback=null,Xn(s,m,a),s=a,n.current.lanes=s,Oo(n,s),mn(n),t[ki]=n.current,Du(t),new la(n)},Ll.version="19.2.0",Ll}var op;function g_(){if(op)return ju.exports;op=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ju.exports=p_(),ju.exports}var y_=g_();const Wv={en:{headerTitle:"Fragment to Diary",viewHistory:"View History",placeholder:"What's happening right now? (e.g., 'Had a great coffee with Sarah', 'Feeling stuck on the project')",addNote:"Add note",noNotes:"No notes yet today. Start capturing moments.",deleteNote:"Delete note",timeline:"Timeline",clearDay:"Clear Day",clearConfirm:"Are you sure you want to clear all notes for",weaveButton:"Weave into Diary",regenerateButton:"Regenerate Diary",cancelView:"Cancel and view existing diary",writingStory:"Writing your story...",analyzing:"Analyzing moments from",failedError:"Failed to create your diary. Please try again.",backToFragments:"Back to fragments",reflectionLabel:"Reflection",historyTitle:"Journal History",noEntries:"No entries yet.",diaryCreated:"Diary Created",draft:"Draft",fragment:"Fragment",fragments:"Fragments",today:"Today",yesterday:"Yesterday",edit:"Edit",save:"Save",cancel:"Cancel",titleLabel:"Title",moodLabel:"Mood",contentLabel:"Content",tagsLabel:"Tags (comma separated)",startRecording:"Record Audio",stopRecording:"Stop Recording",transcribing:"Transcribing...",transcriptionFailed:"Transcription failed",fragmentTagPlaceholder:"Tags (optional, comma separated)",deleteConfirmTitle:"Delete Note?",deleteConfirmMessage:"Are you sure you want to delete this fragment? This action cannot be undone.",confirmDelete:"Delete",filterAll:"All",unsavedDraft:"Found an unsaved draft",restore:"Restore",discard:"Discard",searchPlaceholder:"Search memories...",searchResults:"Search Results",noResultsFound:"No matches found for",matchFoundIn:"Found in",clearSearch:"Clear search",toneLabel:"Tone",tones:{default:"Natural (AI Decision)",happy:"Optimistic & Energetic",melancholic:"Melancholic & Deep",witty:"Witty & Sarcastic",formal:"Formal & Structured",poetic:"Poetic & Lyrical",grateful:"Grateful & Warm",stoic:"Stoic & Objective"},settings:"Settings",aiConfig:"AI Configuration",provider:"Provider",gemini:"Google Gemini (Default)",openai:"OpenAI Compatible",baseUrl:"Base URL",apiKey:"API Key",modelName:"Model Name",saveConfig:"Update Configuration",configSaved:"Configuration saved!",exportData:"Export Data",importData:"Import Data",exportJsonDesc:"Backup your raw data to transfer between devices.",exportMdDesc:"Download a readable text file of your diary entries.",importDesc:"Restore from a previously exported JSON file. This will merge with existing data.",importSuccess:"Data imported successfully!",importError:"Invalid data file.",importButton:"Select File",exportButton:"Export",json:"JSON (Backup)",markdown:"Markdown (Readable)",close:"Close"},zh:{headerTitle:"",viewHistory:"",placeholder:"('''')",addNote:"",noNotes:"",deleteNote:"",timeline:"",clearDay:"",clearConfirm:"",weaveButton:"",regenerateButton:"",cancelView:"",writingStory:"...",analyzing:"",failedError:"",backToFragments:"",reflectionLabel:"",historyTitle:"",noEntries:"",diaryCreated:"",draft:"",fragment:"",fragments:"",today:"",yesterday:"",edit:"",save:"",cancel:"",titleLabel:"",moodLabel:"",contentLabel:"",tagsLabel:" ()",startRecording:"",stopRecording:"",transcribing:"...",transcriptionFailed:"",fragmentTagPlaceholder:" ()",deleteConfirmTitle:"",deleteConfirmMessage:"",confirmDelete:"",filterAll:"",unsavedDraft:"",restore:"",discard:"",searchPlaceholder:"...",searchResults:"",noResultsFound:"",matchFoundIn:"",clearSearch:"",toneLabel:"",tones:{default:" (AI)",happy:" & ",melancholic:" & ",witty:" & ",formal:" & ",poetic:" & ",grateful:" & ",stoic:" &"},settings:"",aiConfig:"AI ",provider:"",gemini:"Google Gemini ()",openai:"OpenAI ",baseUrl:"Base URL",apiKey:"API Key",modelName:"",saveConfig:"",configSaved:"",exportData:"",importData:"",exportJsonDesc:"",exportMdDesc:"",importDesc:" JSON ",importSuccess:"",importError:"",importButton:"",exportButton:"",json:"JSON ()",markdown:"Markdown ()",close:""}},hi=i=>Wv[i],v_=({onToggleHistory:i,onOpenSettings:e,language:o,setLanguage:l,searchQuery:r,setSearchQuery:u})=>{const d=hi(o);return _.jsxs("header",{className:"py-4 md:py-6 px-4 md:px-8 max-w-4xl mx-auto w-full flex flex-wrap md:flex-nowrap justify-between items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-4 select-none shrink-0",children:[_.jsx("button",{onClick:e,className:"text-gray-500 hover:text-indigo-600 transition-colors p-2 -ml-2 rounded-lg hover:bg-gray-100",title:d.settings,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsx("h1",{className:"text-2xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 tracking-tight",children:o==="zh"?"":"Nimo"})})]}),_.jsx("div",{className:"flex-grow order-3 md:order-2 w-full md:w-auto relative",children:_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-gray-400 group-focus-within:text-indigo-500 transition-colors",children:_.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})})}),_.jsx("input",{type:"text",value:r,onChange:h=>u(h.target.value),placeholder:d.searchPlaceholder,className:"block w-full pl-10 pr-8 py-2 border border-gray-200 rounded-full leading-5 bg-gray-50 text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 focus:bg-white transition-all duration-200 text-sm"}),r&&_.jsx("button",{onClick:()=>u(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",title:d.clearSearch,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})}),_.jsxs("div",{className:"flex items-center gap-2 shrink-0 order-2 md:order-3",children:[_.jsx("button",{onClick:()=>l(o==="en"?"zh":"en"),className:"text-xs font-medium px-3 py-1.5 rounded-full border border-gray-200 hover:bg-gray-100 text-gray-600 transition-colors",children:o==="en"?"":"English"}),_.jsx("button",{onClick:i,className:"text-gray-500 hover:text-indigo-600 transition-colors p-2 rounded-lg hover:bg-gray-100",title:d.viewHistory,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let S_,T_;function E_(){return{geminiUrl:S_,vertexUrl:T_}}function C_(i,e,o,l){var r,u;if(!(i!=null&&i.baseUrl)){const d=E_();return e?(r=d.vertexUrl)!==null&&r!==void 0?r:o:(u=d.geminiUrl)!==null&&u!==void 0?u:l}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zn{}function le(i,e){const o=/\{([^}]+)\}/g;return i.replace(o,(l,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const u=e[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,e,o){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[h])){const y=i[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];f(v,e.slice(u+1),o[g])}else for(const g of y)f(g,e.slice(u+1),o)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in i||(i[h]=[{}]);const y=i[h];f(y[0],e.slice(u+1),o);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const l=e[e.length-1],r=i[l];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[l]=o}function c(i,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return i;for(let l=0;l<e.length;l++){if(typeof i!="object"||i===null)return o;const r=e[l];if(r.endsWith("[]")){const u=r.slice(0,-2);if(u in i){const d=i[u];return Array.isArray(d)?d.map(h=>c(h,e.slice(l+1),o)):o}else return o}else i=i[r]}return i}catch(l){if(l instanceof TypeError)return o;throw l}}function __(i,e){for(const[o,l]of Object.entries(e)){const r=o.split("."),u=l.split("."),d=new Set;let h=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){h=y;break}if(h!==-1&&u.length>h)for(let y=h;y<u.length;y++){const g=u[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}ac(i,r,u,0,d)}}function ac(i,e,o,l,r){if(l>=e.length||typeof i!="object"||i===null)return;const u=e[l];if(u.endsWith("[]")){const d=u.slice(0,-2),h=i;if(d in h&&Array.isArray(h[d]))for(const y of h[d])ac(y,e,o,l+1,r)}else if(u==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,h=Object.keys(d).filter(g=>!g.startsWith("_")&&!r.has(g)),y={};for(const g of h)y[g]=d[g];for(const[g,v]of Object.entries(y)){const S=[];for(const E of o.slice(l))E==="*"?S.push(g):S.push(E);f(d,S,v)}for(const g of h)delete d[g]}}else{const d=i;u in d&&ac(d[u],e,o,l+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ic(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A_(i){const e={},o=c(i,["operationName"]);o!=null&&f(e,["operationName"],o);const l=c(i,["resourceName"]);return l!=null&&f(e,["_url","resourceName"],l),e}function w_(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],N_(d)),e}function x_(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],b_(d)),e}function N_(i){const e={},o=c(i,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>R_(d))),f(e,["generatedVideos"],u)}const l=c(i,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function b_(i){const e={},o=c(i,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>M_(d))),f(e,["generatedVideos"],u)}const l=c(i,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function R_(i){const e={},o=c(i,["video"]);return o!=null&&f(e,["video"],P_(o)),e}function M_(i){const e={},o=c(i,["_self"]);return o!=null&&f(e,["video"],B_(o)),e}function D_(i){const e={},o=c(i,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function I_(i){const e={},o=c(i,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function L_(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],U_(d)),e}function U_(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["parent"]);l!=null&&f(e,["parent"],l);const r=c(i,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function jv(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],q_(d)),e}function q_(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["parent"]);l!=null&&f(e,["parent"],l);const r=c(i,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function P_(i){const e={},o=c(i,["uri"]);o!=null&&f(e,["uri"],o);const l=c(i,["encodedVideo"]);l!=null&&f(e,["videoBytes"],Ic(l));const r=c(i,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function B_(i){const e={},o=c(i,["gcsUri"]);o!=null&&f(e,["uri"],o);const l=c(i,["bytesBase64Encoded"]);l!=null&&f(e,["videoBytes"],Ic(l));const r=c(i,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lp||(lp={}));var sp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(sp||(sp={}));var ap;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(ap||(ap={}));var St;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(St||(St={}));var rp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(rp||(rp={}));var up;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(up||(up={}));var cp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(cp||(cp={}));var fp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fp||(fp={}));var dp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(dp||(dp={}));var mp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(mp||(mp={}));var hp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(hp||(hp={}));var pp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(pp||(pp={}));var gp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(gp||(gp={}));var yp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(yp||(yp={}));var vp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(vp||(vp={}));var Sp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Sp||(Sp={}));var Tp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Tp||(Tp={}));var Ep;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Ep||(Ep={}));var Cp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cp||(Cp={}));var ha;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ha||(ha={}));var _p;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_p||(_p={}));var Ap;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ap||(Ap={}));var wp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wp||(wp={}));var rc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(rc||(rc={}));var xp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xp||(xp={}));var Np;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Np||(Np={}));var bp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(bp||(bp={}));var Rp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Rp||(Rp={}));var Mp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Mp||(Mp={}));var Dp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Dp||(Dp={}));var Ip;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Ip||(Ip={}));var Lp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Lp||(Lp={}));var Up;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Up||(Up={}));var qp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(qp||(qp={}));var Pp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pp||(Pp={}));var Bp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bp||(Bp={}));var zp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zp||(zp={}));var Gp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gp||(Gp={}));var Hp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Hp||(Hp={}));var Vp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Vp||(Vp={}));var Op;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Op||(Op={}));var kp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(kp||(kp={}));var Fp;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Fp||(Fp={}));var Qp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Qp||(Qp={}));var Jp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Jp||(Jp={}));var Yp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Yp||(Yp={}));var $p;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})($p||($p={}));var Kp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Kp||(Kp={}));var Xp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xp||(Xp={}));var Zp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zp||(Zp={}));var Wp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Wp||(Wp={}));var jp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jp||(jp={}));var eg;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(eg||(eg={}));var tg;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(tg||(tg={}));var Ro;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Ro||(Ro={}));class uc{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ul{get text(){var e,o,l,r,u,d,h,y;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const S=[];for(const E of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[A,M]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(M!==null||M!==void 0)&&S.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,o,l,r,u,d,h,y;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const S of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(S))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,o,l,r,u,d,h,y;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,o,l,r,u,d,h,y,g;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,o,l,r,u,d,h,y,g;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class ng{}class ig{}class z_{}class G_{}class H_{}class V_{}class og{}class lg{}class sg{}class O_{}class pa{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new pa;let r;const u=e;return o?r=x_(u):r=w_(u),Object.assign(l,r),l}}class ag{}class rg{}class ug{}class k_{}class F_{}class Q_{}class Lc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Lc,u=L_(e);return Object.assign(l,u),l}}class J_{}class Y_{}class $_{}class cg{}class K_{get text(){var e,o,l;let r="",u=!1;const d=[];for(const h of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,r+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var e,o,l;let r="";const u=[];for(const d of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(r+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class X_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Uc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Uc,u=jv(e);return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function eS(i,e){const o=Ie(i,e);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function tS(i){return Array.isArray(i)?i.map(e=>ga(e)):[ga(i)]}function ga(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function nS(i){const e=ga(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iS(i){const e=ga(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fg(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function oS(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>fg(e)):[fg(i)]}function cc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function dg(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function mg(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function gt(i){if(i==null)throw new Error("ContentUnion is required");return cc(i)?i:{role:"user",parts:oS(i)}}function qc(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=gt(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(i.isVertexAI()){const o=gt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>gt(o)):[gt(e)]}function en(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(dg(i)||mg(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gt(i)]}const e=[],o=[],l=cc(i[0]);for(const r of i){const u=cc(r);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(r);else{if(dg(r)||mg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return l||e.push({role:"user",parts:oS(o)}),e}function Z_(i,e){i.includes("null")&&(e.nullable=!0);const o=i.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(St).includes(o[0].toUpperCase())?o[0].toUpperCase():St.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(St).includes(l.toUpperCase())?l.toUpperCase():St.TYPE_UNSPECIFIED})}}function Do(i){const e={},o=["items"],l=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=i.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,i=u[1]):u[1].type==="null"&&(e.nullable=!0,i=u[0])),i.type instanceof Array&&Z_(i.type,e);for(const[d,h]of Object.entries(i))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(St).includes(h.toUpperCase())?h.toUpperCase():St.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=Do(h);else if(l.includes(d)){const y=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}y.push(Do(g))}e[d]=y}else if(r.includes(d)){const y={};for(const[g,v]of Object.entries(h))y[g]=Do(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Pc(i){return Do(i)}function Bc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function zc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Po(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Do(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Do(e.response));return i}function Bo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of i)e.push(o);return e}function W_(i,e,o,l=1){const r=!e.startsWith(`${o}/`)&&e.split("/").length===l;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${e}`:e:r?`${o}/${e}`:e}function Gn(i,e){if(typeof e!="string")throw new Error("name must be a string");return W_(i,e,"cachedContents")}function lS(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function pi(i){return Ic(i)}function j_(i){return i!=null&&typeof i=="object"&&"name"in i}function eA(i){return i!=null&&typeof i=="object"&&"video"in i}function tA(i){return i!=null&&typeof i=="object"&&"uri"in i}function sS(i){var e;let o;if(j_(i)&&(o=i.name),!(tA(i)&&(o=i.uri,o===void 0))&&!(eA(i)&&(o=(e=i.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function aS(i,e){let o;return i.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function rS(i){for(const e of["models","tunedModels","publisherModels"])if(nA(i,e))return i[e];return[]}function nA(i,e){return i!==null&&typeof i=="object"&&e in i}function iA(i,e={}){const o=i,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function oA(i,e={}){const o=[],l=new Set;for(const r of i){const u=r.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const d=iA(r,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function uS(i,e){let o;if(typeof e=="string")if(i.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function lA(i){if(typeof i!="string")return i;const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function cS(i){if(typeof i!="object"||i===null)return{};const e=i,o=e.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let u=!1;for(const d of r){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),i}function zo(i,e){const o=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function fS(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sA(i){const e={},o=c(i,["responsesFile"]);o!=null&&f(e,["fileName"],o);const l=c(i,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>HA(d))),f(e,["inlinedResponses"],u)}const r=c(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function aA(i){const e={},o=c(i,["predictionsFormat"]);o!=null&&f(e,["format"],o);const l=c(i,["gcsDestination","outputUriPrefix"]);l!=null&&f(e,["gcsUri"],l);const r=c(i,["bigqueryDestination","outputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function rA(i){const e={},o=c(i,["format"]);o!=null&&f(e,["predictionsFormat"],o);const l=c(i,["gcsUri"]);l!=null&&f(e,["gcsDestination","outputUriPrefix"],l);const r=c(i,["bigqueryUri"]);if(r!=null&&f(e,["bigqueryDestination","outputUri"],r),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ua(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata","displayName"]);l!=null&&f(e,["displayName"],l);const r=c(i,["metadata","state"]);r!=null&&f(e,["state"],fS(r));const u=c(i,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(i,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const h=c(i,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const y=c(i,["metadata","model"]);y!=null&&f(e,["model"],y);const g=c(i,["metadata","output"]);return g!=null&&f(e,["dest"],sA(cS(g))),e}function fc(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["displayName"]);l!=null&&f(e,["displayName"],l);const r=c(i,["state"]);r!=null&&f(e,["state"],fS(r));const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["createTime"]);d!=null&&f(e,["createTime"],d);const h=c(i,["startTime"]);h!=null&&f(e,["startTime"],h);const y=c(i,["endTime"]);y!=null&&f(e,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(e,["updateTime"],g);const v=c(i,["model"]);v!=null&&f(e,["model"],v);const S=c(i,["inputConfig"]);S!=null&&f(e,["src"],uA(S));const E=c(i,["outputConfig"]);E!=null&&f(e,["dest"],aA(cS(E)));const A=c(i,["completionStats"]);return A!=null&&f(e,["completionStats"],A),e}function uA(i){const e={},o=c(i,["instancesFormat"]);o!=null&&f(e,["format"],o);const l=c(i,["gcsSource","uris"]);l!=null&&f(e,["gcsUri"],l);const r=c(i,["bigquerySource","inputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function cA(i,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=c(e,["fileName"]);l!=null&&f(o,["fileName"],l);const r=c(e,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>GA(i,d))),f(o,["requests","requests"],u)}return o}function fA(i){const e={},o=c(i,["format"]);o!=null&&f(e,["instancesFormat"],o);const l=c(i,["gcsUri"]);l!=null&&f(e,["gcsSource","uris"],l);const r=c(i,["bigqueryUri"]);if(r!=null&&f(e,["bigquerySource","inputUri"],r),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function dA(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function mA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function hA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function pA(i){const e={},o=c(i,["content"]);o!=null&&f(e,["content"],o);const l=c(i,["citationMetadata"]);l!=null&&f(e,["citationMetadata"],gA(l));const r=c(i,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const u=c(i,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(i,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(i,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(i,["index"]);y!=null&&f(e,["index"],y);const g=c(i,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["safetyRatings"],E)}const S=c(i,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function gA(i){const e={},o=c(i,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),f(e,["citations"],l)}return e}function dS(i){const e={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>YA(u))),f(e,["parts"],r)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function yA(i,e){const o={},l=c(i,["displayName"]);if(e!==void 0&&l!=null&&f(e,["batch","displayName"],l),c(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function vA(i,e){const o={},l=c(i,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const r=c(i,["dest"]);return e!==void 0&&r!=null&&f(e,["outputConfig"],rA(lA(r))),o}function hg(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["src"]);r!=null&&f(o,["batch","inputConfig"],cA(i,uS(i,r)));const u=c(e,["config"]);return u!=null&&yA(u,o),o}function SA(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["model"],Ie(i,l));const r=c(e,["src"]);r!=null&&f(o,["inputConfig"],fA(uS(i,r)));const u=c(e,["config"]);return u!=null&&vA(u,o),o}function TA(i,e){const o={},l=c(i,["displayName"]);return e!==void 0&&l!=null&&f(e,["batch","displayName"],l),o}function EA(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["src"]);r!=null&&f(o,["batch","inputConfig"],bA(i,r));const u=c(e,["config"]);return u!=null&&TA(u,o),o}function CA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function _A(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function AA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);return u!=null&&f(e,["error"],u),e}function wA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);return u!=null&&f(e,["error"],u),e}function xA(i,e){const o={},l=c(e,["contents"]);if(l!=null){let u=qc(i,l);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["requests[]","request","content"],u)}const r=c(e,["config"]);return r!=null&&(f(o,["_self"],NA(r,o)),__(o,{"requests[].*":"requests[].request.*"})),o}function NA(i,e){const o={},l=c(i,["taskType"]);e!==void 0&&l!=null&&f(e,["requests[]","taskType"],l);const r=c(i,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);const u=c(i,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function bA(i,e){const o={},l=c(e,["fileName"]);l!=null&&f(o,["file_name"],l);const r=c(e,["inlinedRequests"]);return r!=null&&f(o,["requests"],xA(i,r)),o}function RA(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function MA(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const r=c(i,["name"]);if(r!=null&&f(e,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function DA(i){const e={},o=c(i,["mode"]);o!=null&&f(e,["mode"],o);const l=c(i,["allowedFunctionNames"]);if(l!=null&&f(e,["allowedFunctionNames"],l),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function IA(i,e,o){const l={},r=c(e,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],dS(gt(r)));const u=c(e,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(l,["topP"],d);const h=c(e,["topK"]);h!=null&&f(l,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(l,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(l,["logprobs"],E);const A=c(e,["presencePenalty"]);A!=null&&f(l,["presencePenalty"],A);const M=c(e,["frequencyPenalty"]);M!=null&&f(l,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(l,["seed"],R);const k=c(e,["responseMimeType"]);k!=null&&f(l,["responseMimeType"],k);const Y=c(e,["responseSchema"]);Y!=null&&f(l,["responseSchema"],Pc(Y));const W=c(e,["responseJsonSchema"]);if(W!=null&&f(l,["responseJsonSchema"],W),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=c(e,["safetySettings"]);if(o!==void 0&&G!=null){let re=G;Array.isArray(re)&&(re=re.map(ae=>$A(ae))),f(o,["safetySettings"],re)}const K=c(e,["tools"]);if(o!==void 0&&K!=null){let re=Bo(K);Array.isArray(re)&&(re=re.map(ae=>XA(Po(ae)))),f(o,["tools"],re)}const ne=c(e,["toolConfig"]);if(o!==void 0&&ne!=null&&f(o,["toolConfig"],KA(ne)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=c(e,["cachedContent"]);o!==void 0&&j!=null&&f(o,["cachedContent"],Gn(i,j));const V=c(e,["responseModalities"]);V!=null&&f(l,["responseModalities"],V);const L=c(e,["mediaResolution"]);L!=null&&f(l,["mediaResolution"],L);const B=c(e,["speechConfig"]);if(B!=null&&f(l,["speechConfig"],Bc(B)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=c(e,["thinkingConfig"]);F!=null&&f(l,["thinkingConfig"],F);const ie=c(e,["imageConfig"]);return ie!=null&&f(l,["imageConfig"],zA(ie)),l}function LA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>pA(g))),f(e,["candidates"],y)}const r=c(i,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);const u=c(i,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(i,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(i,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function UA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function qA(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],zo(i,l)),o}function PA(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function BA(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function zA(i){const e={},o=c(i,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const l=c(i,["imageSize"]);if(l!=null&&f(e,["imageSize"],l),c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function GA(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["request","model"],Ie(i,l));const r=c(e,["contents"]);if(r!=null){let h=en(r);Array.isArray(h)&&(h=h.map(y=>dS(y))),f(o,["request","contents"],h)}const u=c(e,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(o,["request","generationConfig"],IA(i,d,c(o,["request"],{}))),o}function HA(i){const e={},o=c(i,["response"]);o!=null&&f(e,["response"],LA(o));const l=c(i,["error"]);return l!=null&&f(e,["error"],l),e}function VA(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(i,["pageToken"]);if(e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),c(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function OA(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(i,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const u=c(i,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),o}function kA(i){const e={},o=c(i,["config"]);return o!=null&&VA(o,e),e}function FA(i){const e={},o=c(i,["config"]);return o!=null&&OA(o,e),e}function QA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>ua(d))),f(e,["batchJobs"],u)}return e}function JA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>fc(d))),f(e,["batchJobs"],u)}return e}function YA(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const r=c(i,["executableCode"]);r!=null&&f(e,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],RA(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],MA(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],dA(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function $A(i){const e={},o=c(i,["category"]);if(o!=null&&f(e,["category"],o),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(i,["threshold"]);return l!=null&&f(e,["threshold"],l),e}function KA(i){const e={},o=c(i,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],DA(o));const l=c(i,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],l),e}function XA(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const r=c(i,["computerUse"]);r!=null&&f(e,["computerUse"],r);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],PA(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],BA(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Pn||(Pn={}));class Vi{constructor(e,o,l,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,r)}init(e,o,l){var r,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!l||Object.keys(l).length===0?d={config:{}}:typeof l=="object"?d=Object.assign({},l):d=l,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(r=d.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZA extends zn{constructor(e){super(),this.apiClient=e,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Vi(Pn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=hg(this.apiClient,e),l=o._url,r=le("{model}:batchGenerateContent",l),h=o.batch.inputConfig.requests,y=h.requests,g=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=E,S.request=A}g.push(S)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},r=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${r}`),l.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${r}`;else if(d)l.dest=`${d}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=SA(this.apiClient,e);return h=le("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>fc(v))}else{const g=hg(this.apiClient,e);return h=le("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>ua(v))}}async createEmbeddingsInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=EA(this.apiClient,e);return u=le("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>ua(y))}}async get(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=qA(this.apiClient,e);return h=le("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>fc(v))}else{const g=UA(this.apiClient,e);return h=le("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>ua(v))}}async cancel(e){var o,l,r,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=hA(this.apiClient,e);d=le("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=mA(this.apiClient,e);d=le("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=FA(e);return h=le("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=JA(v),E=new cg;return Object.assign(E,S),E})}else{const g=kA(e);return h=le("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=QA(v),E=new cg;return Object.assign(E,S),E})}}async delete(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=_A(this.apiClient,e);return h=le("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>wA(v))}else{const g=CA(this.apiClient,e);return h=le("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>AA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WA(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function pg(i){const e={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Ew(u))),f(e,["parts"],r)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function jA(i,e){const o={},l=c(i,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const r=c(i,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const u=c(i,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(i,["contents"]);if(e!==void 0&&d!=null){let v=en(d);Array.isArray(v)&&(v=v.map(S=>pg(S))),f(e,["contents"],v)}const h=c(i,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],pg(gt(h)));const y=c(i,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>_w(S))),f(e,["tools"],v)}const g=c(i,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],Cw(g)),c(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function ew(i,e){const o={},l=c(i,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const r=c(i,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const u=c(i,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(i,["contents"]);if(e!==void 0&&d!=null){let S=en(d);Array.isArray(S)&&(S=S.map(E=>E)),f(e,["contents"],S)}const h=c(i,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],gt(h));const y=c(i,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>Aw(E))),f(e,["tools"],S)}const g=c(i,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const v=c(i,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),o}function tw(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["model"],eS(i,l));const r=c(e,["config"]);return r!=null&&jA(r,o),o}function nw(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["model"],eS(i,l));const r=c(e,["config"]);return r!=null&&ew(r,o),o}function iw(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],Gn(i,l)),o}function ow(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],Gn(i,l)),o}function lw(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function sw(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function aw(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function rw(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const r=c(i,["name"]);if(r!=null&&f(e,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uw(i){const e={},o=c(i,["mode"]);o!=null&&f(e,["mode"],o);const l=c(i,["allowedFunctionNames"]);if(l!=null&&f(e,["allowedFunctionNames"],l),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cw(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(i,["description"]);o!=null&&f(e,["description"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const r=c(i,["parameters"]);r!=null&&f(e,["parameters"],r);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const h=c(i,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function fw(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],Gn(i,l)),o}function dw(i,e){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],Gn(i,l)),o}function mw(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function hw(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function pw(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(i,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),o}function gw(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(i,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),o}function yw(i){const e={},o=c(i,["config"]);return o!=null&&pw(o,e),e}function vw(i){const e={},o=c(i,["config"]);return o!=null&&gw(o,e),e}function Sw(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function Tw(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function Ew(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const r=c(i,["executableCode"]);r!=null&&f(e,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],aw(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],rw(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],WA(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function Cw(i){const e={},o=c(i,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],uw(o));const l=c(i,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],l),e}function _w(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const r=c(i,["computerUse"]);r!=null&&f(e,["computerUse"],r);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],mw(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],hw(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function Aw(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>cw(E))),f(e,["functionDeclarations"],S)}const l=c(i,["retrieval"]);l!=null&&f(e,["retrieval"],l);const r=c(i,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(i,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function ww(i,e){const o={},l=c(i,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const r=c(i,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),o}function xw(i,e){const o={},l=c(i,["ttl"]);e!==void 0&&l!=null&&f(e,["ttl"],l);const r=c(i,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),o}function Nw(i,e){const o={},l=c(e,["name"]);l!=null&&f(o,["_url","name"],Gn(i,l));const r=c(e,["config"]);return r!=null&&ww(r,o),o}function bw(i,e){const o={},l=c(e,["name"]);l!=null&&f(o,["_url","name"],Gn(i,l));const r=c(e,["config"]);return r!=null&&xw(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rw extends zn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Vi(Pn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=nw(this.apiClient,e);return h=le("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=tw(this.apiClient,e);return h=le("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=dw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=fw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=ow(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=sw(v),E=new rg;return Object.assign(E,S),E})}else{const g=iw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=lw(v),E=new rg;return Object.assign(E,S),E})}}async update(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=bw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=Nw(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=vw(e);return h=le("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Tw(v),E=new ug;return Object.assign(E,S),E})}else{const g=yw(e);return h=le("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Sw(v),E=new ug;return Object.assign(E,S),E})}}}function gg(i){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&i[e],l=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qe(i){return this instanceof Qe?(this.v=i,this):new Qe(i)}function Io(i,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(i,e||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),r[Symbol.asyncIterator]=function(){return this},r;function d(A){return function(M){return Promise.resolve(M).then(A,S)}}function h(A,M){l[A]&&(r[A]=function(R){return new Promise(function(k,Y){u.push([A,R,k,Y])>1||y(A,R)})},M&&(r[A]=M(r[A])))}function y(A,M){try{g(l[A](M))}catch(R){E(u[0][3],R)}}function g(A){A.value instanceof Qe?Promise.resolve(A.value.v).then(v,S):E(u[0][2],A)}function v(A){y("next",A)}function S(A){y("throw",A)}function E(A,M){A(M),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Bl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],o;return e?e.call(i):(i=typeof gg=="function"?gg(i):i[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(u){o[u]=i[u]&&function(d){return new Promise(function(h,y){d=i[u](d),r(h,y,d.done,d.value)})}}function r(u,d,h,y){Promise.resolve(y).then(function(g){u({value:g,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mw(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const o=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:mS(o)}function mS(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Dw(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function yg(i){if(i===void 0||i.length===0)return[];const e=[],o=i.length;let l=0;for(;l<o;)if(i[l].role==="user")e.push(i[l]),l++;else{const r=[];let u=!0;for(;l<o&&i[l].role==="model";)r.push(i[l]),u&&!mS(i[l])&&(u=!1),l++;u?e.push(...r):e.pop()}return e}class Iw{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new Lw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Lw{constructor(e,o,l,r={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),Dw(u)}async sendMessage(e){var o;await this.sendPromise;const l=gt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,d,h;const y=await r,g=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(S))!==null&&h!==void 0?h:[]);const A=g?[g]:[];this.recordHistory(l,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var o;await this.sendPromise;const l=gt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,l)}getHistory(e=!1){const o=e?yg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,r;return Io(this,arguments,function*(){var d,h,y,g;const v=[];try{for(var S=!0,E=Bl(e),A;A=yield Qe(E.next()),d=A.done,!d;S=!0){g=A.value,S=!1;const M=g;if(Mw(M)){const R=(r=(l=M.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content;R!==void 0&&v.push(R)}yield yield Qe(M)}}catch(M){h={error:M}}finally{try{!S&&!d&&(y=E.return)&&(yield Qe(y.call(E)))}finally{if(h)throw h.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let r=[];o.length>0&&o.every(u=>u.role!==void 0)?r=o:r.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...yg(l)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ba extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ba.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uw(i){const e={},o=c(i,["file"]);return o!=null&&f(e,["file"],o),e}function qw(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Pw(i){const e={},o=c(i,["name"]);return o!=null&&f(e,["_url","file"],sS(o)),e}function Bw(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function zw(i){const e={},o=c(i,["name"]);return o!=null&&f(e,["_url","file"],sS(o)),e}function Gw(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(i,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),o}function Hw(i){const e={},o=c(i,["config"]);return o!=null&&Gw(o,e),e}function Vw(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ow extends zn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Vi(Pn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Hw(e);return u=le("files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=Vw(y),v=new J_;return Object.assign(v,g),v})}}async createInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Uw(e);return u=le("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const g=qw(y),v=new Y_;return Object.assign(v,g),v})}}async get(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zw(e);return u=le("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Pw(e);return u=le("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=Bw(y),v=new $_;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ca(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function kw(i){const e={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>lx(u))),f(e,["parts"],r)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function Fw(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Qw(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const r=c(i,["name"]);if(r!=null&&f(e,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jw(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(i,["description"]);o!=null&&f(e,["description"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const r=c(i,["parameters"]);r!=null&&f(e,["parameters"],r);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const h=c(i,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function Yw(i){const e={},o=c(i,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const l=c(i,["responseJsonSchema"]);l!=null&&f(e,["responseJsonSchema"],l);const r=c(i,["audioTimestamp"]);r!=null&&f(e,["audioTimestamp"],r);const u=c(i,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(i,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(i,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(i,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(i,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=c(i,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=c(i,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const E=c(i,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const A=c(i,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const M=c(i,["responseModalities"]);M!=null&&f(e,["responseModalities"],M);const R=c(i,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const k=c(i,["routingConfig"]);k!=null&&f(e,["routingConfig"],k);const Y=c(i,["seed"]);Y!=null&&f(e,["seed"],Y);const W=c(i,["speechConfig"]);W!=null&&f(e,["speechConfig"],hS(W));const G=c(i,["stopSequences"]);G!=null&&f(e,["stopSequences"],G);const K=c(i,["temperature"]);K!=null&&f(e,["temperature"],K);const ne=c(i,["thinkingConfig"]);ne!=null&&f(e,["thinkingConfig"],ne);const j=c(i,["topK"]);j!=null&&f(e,["topK"],j);const V=c(i,["topP"]);if(V!=null&&f(e,["topP"],V),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $w(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function Kw(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function Xw(i,e){const o={},l=c(i,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],l);const r=c(i,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(i,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],zc(S));const E=c(i,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=c(i,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=c(i,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],kw(gt(M)));const R=c(i,["tools"]);if(e!==void 0&&R!=null){let j=Bo(R);Array.isArray(j)&&(j=j.map(V=>ax(Po(V)))),f(e,["setup","tools"],j)}const k=c(i,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],sx(k));const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","inputAudioTranscription"],Y);const W=c(i,["outputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","outputAudioTranscription"],W);const G=c(i,["realtimeInputConfig"]);e!==void 0&&G!=null&&f(e,["setup","realtimeInputConfig"],G);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ne=c(i,["proactivity"]);return e!==void 0&&ne!=null&&f(e,["setup","proactivity"],ne),o}function Zw(i,e){const o={},l=c(i,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],Yw(l));const r=c(i,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(i,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],hS(zc(S)));const E=c(i,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=c(i,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=c(i,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],gt(M));const R=c(i,["tools"]);if(e!==void 0&&R!=null){let j=Bo(R);Array.isArray(j)&&(j=j.map(V=>rx(Po(V)))),f(e,["setup","tools"],j)}const k=c(i,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],k);const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","inputAudioTranscription"],Y);const W=c(i,["outputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","outputAudioTranscription"],W);const G=c(i,["realtimeInputConfig"]);e!==void 0&&G!=null&&f(e,["setup","realtimeInputConfig"],G);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ne=c(i,["proactivity"]);return e!==void 0&&ne!=null&&f(e,["setup","proactivity"],ne),o}function Ww(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["setup","model"],Ie(i,l));const r=c(e,["config"]);return r!=null&&f(o,["config"],Xw(r,o)),o}function jw(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["setup","model"],Ie(i,l));const r=c(e,["config"]);return r!=null&&f(o,["config"],Zw(r,o)),o}function ex(i){const e={},o=c(i,["musicGenerationConfig"]);return o!=null&&f(e,["musicGenerationConfig"],o),e}function tx(i){const e={},o=c(i,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),f(e,["weightedPrompts"],l)}return e}function nx(i){const e={},o=c(i,["media"]);if(o!=null){let g=tS(o);Array.isArray(g)&&(g=g.map(v=>ca(v))),f(e,["mediaChunks"],g)}const l=c(i,["audio"]);l!=null&&f(e,["audio"],ca(iS(l)));const r=c(i,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const u=c(i,["video"]);u!=null&&f(e,["video"],ca(nS(u)));const d=c(i,["text"]);d!=null&&f(e,["text"],d);const h=c(i,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(i,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function ix(i){const e={},o=c(i,["media"]);if(o!=null){let g=tS(o);Array.isArray(g)&&(g=g.map(v=>v)),f(e,["mediaChunks"],g)}const l=c(i,["audio"]);l!=null&&f(e,["audio"],iS(l));const r=c(i,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const u=c(i,["video"]);u!=null&&f(e,["video"],nS(u));const d=c(i,["text"]);d!=null&&f(e,["text"],d);const h=c(i,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(i,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function ox(i){const e={},o=c(i,["setupComplete"]);o!=null&&f(e,["setupComplete"],o);const l=c(i,["serverContent"]);l!=null&&f(e,["serverContent"],l);const r=c(i,["toolCall"]);r!=null&&f(e,["toolCall"],r);const u=c(i,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(i,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],ux(d));const h=c(i,["goAway"]);h!=null&&f(e,["goAway"],h);const y=c(i,["sessionResumptionUpdate"]);return y!=null&&f(e,["sessionResumptionUpdate"],y),e}function lx(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const r=c(i,["executableCode"]);r!=null&&f(e,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],Fw(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],Qw(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],ca(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function sx(i){const e={},o=c(i,["handle"]);if(o!=null&&f(e,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hS(i){const e={},o=c(i,["languageCode"]);o!=null&&f(e,["languageCode"],o);const l=c(i,["voiceConfig"]);if(l!=null&&f(e,["voiceConfig"],l),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ax(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const r=c(i,["computerUse"]);r!=null&&f(e,["computerUse"],r);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],$w(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],Kw(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function rx(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>Jw(E))),f(e,["functionDeclarations"],S)}const l=c(i,["retrieval"]);l!=null&&f(e,["retrieval"],l);const r=c(i,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(i,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function ux(i){const e={},o=c(i,["promptTokenCount"]);o!=null&&f(e,["promptTokenCount"],o);const l=c(i,["cachedContentTokenCount"]);l!=null&&f(e,["cachedContentTokenCount"],l);const r=c(i,["candidatesTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const u=c(i,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(i,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const h=c(i,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const y=c(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(M=>M)),f(e,["promptTokensDetails"],A)}const g=c(i,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(M=>M)),f(e,["cacheTokensDetails"],A)}const v=c(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(M=>M)),f(e,["responseTokensDetails"],A)}const S=c(i,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(M=>M)),f(e,["toolUsePromptTokensDetails"],A)}const E=c(i,["trafficType"]);return E!=null&&f(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cx(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function fx(i){const e={},o=c(i,["content"]);o!=null&&f(e,["content"],o);const l=c(i,["citationMetadata"]);l!=null&&f(e,["citationMetadata"],dx(l));const r=c(i,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const u=c(i,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(i,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(i,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(i,["index"]);y!=null&&f(e,["index"],y);const g=c(i,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["safetyRatings"],E)}const S=c(i,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function dx(i){const e={},o=c(i,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),f(e,["citations"],l)}return e}function mx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["contents"]);if(r!=null){let u=en(r);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["contents"],u)}return o}function hx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["tokensInfo"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),f(e,["tokensInfo"],r)}return e}function px(i){const e={},o=c(i,["values"]);o!=null&&f(e,["values"],o);const l=c(i,["statistics"]);return l!=null&&f(e,["statistics"],gx(l)),e}function gx(i){const e={},o=c(i,["truncated"]);o!=null&&f(e,["truncated"],o);const l=c(i,["token_count"]);return l!=null&&f(e,["tokenCount"],l),e}function Ra(i){const e={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>wN(u))),f(e,["parts"],r)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function yx(i){const e={},o=c(i,["controlType"]);o!=null&&f(e,["controlType"],o);const l=c(i,["enableControlImageComputation"]);return l!=null&&f(e,["computeControl"],l),e}function vx(i){const e={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Sx(i,e){const o={},l=c(i,["systemInstruction"]);e!==void 0&&l!=null&&f(e,["systemInstruction"],gt(l));const r=c(i,["tools"]);if(e!==void 0&&r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>SS(h))),f(e,["tools"],d)}const u=c(i,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],cN(u)),o}function Tx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["contents"]);if(r!=null){let d=en(r);Array.isArray(d)&&(d=d.map(h=>Ra(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&vx(u),o}function Ex(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["contents"]);if(r!=null){let d=en(r);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&Sx(u,o),o}function Cx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["totalTokens"]);l!=null&&f(e,["totalTokens"],l);const r=c(i,["cachedContentTokenCount"]);return r!=null&&f(e,["cachedContentTokenCount"],r),e}function _x(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["totalTokens"]);return l!=null&&f(e,["totalTokens"],l),e}function Ax(i,e){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],Ie(i,l)),o}function wx(i,e){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],Ie(i,l)),o}function xx(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Nx(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function bx(i,e){const o={},l=c(i,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const r=c(i,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const u=c(i,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(i,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(i,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(i,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(i,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=c(i,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(i,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const E=c(i,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const A=c(i,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const M=c(i,["outputMimeType"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","mimeType"],M);const R=c(i,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const k=c(i,["addWatermark"]);e!==void 0&&k!=null&&f(e,["parameters","addWatermark"],k);const Y=c(i,["labels"]);e!==void 0&&Y!=null&&f(e,["labels"],Y);const W=c(i,["editMode"]);e!==void 0&&W!=null&&f(e,["parameters","editMode"],W);const G=c(i,["baseSteps"]);return e!==void 0&&G!=null&&f(e,["parameters","editConfig","baseSteps"],G),o}function Rx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const u=c(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>DN(y))),f(o,["instances[0]","referenceImages"],h)}const d=c(e,["config"]);return d!=null&&bx(d,o),o}function Mx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>Ma(u))),f(e,["generatedImages"],r)}return e}function Dx(i,e){const o={},l=c(i,["taskType"]);e!==void 0&&l!=null&&f(e,["requests[]","taskType"],l);const r=c(i,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);const u=c(i,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Ix(i,e){const o={},l=c(i,["taskType"]);e!==void 0&&l!=null&&f(e,["instances[]","task_type"],l);const r=c(i,["title"]);e!==void 0&&r!=null&&f(e,["instances[]","title"],r);const u=c(i,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(i,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const h=c(i,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),o}function Lx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["contents"]);if(r!=null){let h=qc(i,r);Array.isArray(h)&&(h=h.map(y=>y)),f(o,["requests[]","content"],h)}const u=c(e,["config"]);u!=null&&Dx(u,o);const d=c(e,["model"]);return d!==void 0&&f(o,["requests[]","model"],Ie(i,d)),o}function Ux(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["contents"]);if(r!=null){let d=qc(i,r);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&Ix(u,o),o}function qx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const r=c(i,["metadata"]);return r!=null&&f(e,["metadata"],r),e}function Px(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>px(d))),f(e,["embeddings"],u)}const r=c(i,["metadata"]);return r!=null&&f(e,["metadata"],r),e}function Bx(i){const e={},o=c(i,["endpoint"]);o!=null&&f(e,["name"],o);const l=c(i,["deployedModelId"]);return l!=null&&f(e,["deployedModelId"],l),e}function zx(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Gx(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const r=c(i,["name"]);if(r!=null&&f(e,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hx(i){const e={},o=c(i,["mode"]);o!=null&&f(e,["mode"],o);const l=c(i,["allowedFunctionNames"]);if(l!=null&&f(e,["allowedFunctionNames"],l),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Vx(i){const e={};if(c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(i,["description"]);o!=null&&f(e,["description"],o);const l=c(i,["name"]);l!=null&&f(e,["name"],l);const r=c(i,["parameters"]);r!=null&&f(e,["parameters"],r);const u=c(i,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(i,["response"]);d!=null&&f(e,["response"],d);const h=c(i,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function Ox(i,e,o){const l={},r=c(e,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],Ra(gt(r)));const u=c(e,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(l,["topP"],d);const h=c(e,["topK"]);h!=null&&f(l,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(l,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(l,["logprobs"],E);const A=c(e,["presencePenalty"]);A!=null&&f(l,["presencePenalty"],A);const M=c(e,["frequencyPenalty"]);M!=null&&f(l,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(l,["seed"],R);const k=c(e,["responseMimeType"]);k!=null&&f(l,["responseMimeType"],k);const Y=c(e,["responseSchema"]);Y!=null&&f(l,["responseSchema"],Pc(Y));const W=c(e,["responseJsonSchema"]);if(W!=null&&f(l,["responseJsonSchema"],W),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=c(e,["safetySettings"]);if(o!==void 0&&G!=null){let re=G;Array.isArray(re)&&(re=re.map(ae=>IN(ae))),f(o,["safetySettings"],re)}const K=c(e,["tools"]);if(o!==void 0&&K!=null){let re=Bo(K);Array.isArray(re)&&(re=re.map(ae=>GN(Po(ae)))),f(o,["tools"],re)}const ne=c(e,["toolConfig"]);if(o!==void 0&&ne!=null&&f(o,["toolConfig"],zN(ne)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=c(e,["cachedContent"]);o!==void 0&&j!=null&&f(o,["cachedContent"],Gn(i,j));const V=c(e,["responseModalities"]);V!=null&&f(l,["responseModalities"],V);const L=c(e,["mediaResolution"]);L!=null&&f(l,["mediaResolution"],L);const B=c(e,["speechConfig"]);if(B!=null&&f(l,["speechConfig"],Bc(B)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=c(e,["thinkingConfig"]);F!=null&&f(l,["thinkingConfig"],F);const ie=c(e,["imageConfig"]);return ie!=null&&f(l,["imageConfig"],pN(ie)),l}function kx(i,e,o){const l={},r=c(e,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],gt(r));const u=c(e,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(l,["topP"],d);const h=c(e,["topK"]);h!=null&&f(l,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(l,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(l,["logprobs"],E);const A=c(e,["presencePenalty"]);A!=null&&f(l,["presencePenalty"],A);const M=c(e,["frequencyPenalty"]);M!=null&&f(l,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&f(l,["seed"],R);const k=c(e,["responseMimeType"]);k!=null&&f(l,["responseMimeType"],k);const Y=c(e,["responseSchema"]);Y!=null&&f(l,["responseSchema"],Pc(Y));const W=c(e,["responseJsonSchema"]);W!=null&&f(l,["responseJsonSchema"],W);const G=c(e,["routingConfig"]);G!=null&&f(l,["routingConfig"],G);const K=c(e,["modelSelectionConfig"]);K!=null&&f(l,["modelConfig"],K);const ne=c(e,["safetySettings"]);if(o!==void 0&&ne!=null){let H=ne;Array.isArray(H)&&(H=H.map(ee=>ee)),f(o,["safetySettings"],H)}const j=c(e,["tools"]);if(o!==void 0&&j!=null){let H=Bo(j);Array.isArray(H)&&(H=H.map(ee=>SS(Po(ee)))),f(o,["tools"],H)}const V=c(e,["toolConfig"]);o!==void 0&&V!=null&&f(o,["toolConfig"],V);const L=c(e,["labels"]);o!==void 0&&L!=null&&f(o,["labels"],L);const B=c(e,["cachedContent"]);o!==void 0&&B!=null&&f(o,["cachedContent"],Gn(i,B));const F=c(e,["responseModalities"]);F!=null&&f(l,["responseModalities"],F);const ie=c(e,["mediaResolution"]);ie!=null&&f(l,["mediaResolution"],ie);const re=c(e,["speechConfig"]);re!=null&&f(l,["speechConfig"],vS(Bc(re)));const ae=c(e,["audioTimestamp"]);ae!=null&&f(l,["audioTimestamp"],ae);const Te=c(e,["thinkingConfig"]);Te!=null&&f(l,["thinkingConfig"],Te);const Le=c(e,["imageConfig"]);return Le!=null&&f(l,["imageConfig"],gN(Le)),l}function vg(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["contents"]);if(r!=null){let d=en(r);Array.isArray(d)&&(d=d.map(h=>Ra(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],Ox(i,u,o)),o}function Sg(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["contents"]);if(r!=null){let d=en(r);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],kx(i,u,o)),o}function Tg(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>fx(g))),f(e,["candidates"],y)}const r=c(i,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);const u=c(i,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(i,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(i,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Eg(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["candidates"],g)}const r=c(i,["createTime"]);r!=null&&f(e,["createTime"],r);const u=c(i,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(i,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const h=c(i,["responseId"]);h!=null&&f(e,["responseId"],h);const y=c(i,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function Fx(i,e){const o={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(i,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const r=c(i,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const u=c(i,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(i,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const h=c(i,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const y=c(i,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const g=c(i,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const v=c(i,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const S=c(i,["outputMimeType"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","mimeType"],S);const E=c(i,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=c(i,["imageSize"]);if(e!==void 0&&A!=null&&f(e,["parameters","sampleImageSize"],A),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Qx(i,e){const o={},l=c(i,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const r=c(i,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const u=c(i,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(i,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(i,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(i,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(i,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=c(i,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(i,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const E=c(i,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const A=c(i,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const M=c(i,["outputMimeType"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","mimeType"],M);const R=c(i,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const k=c(i,["addWatermark"]);e!==void 0&&k!=null&&f(e,["parameters","addWatermark"],k);const Y=c(i,["labels"]);e!==void 0&&Y!=null&&f(e,["labels"],Y);const W=c(i,["imageSize"]);e!==void 0&&W!=null&&f(e,["parameters","sampleImageSize"],W);const G=c(i,["enhancePrompt"]);return e!==void 0&&G!=null&&f(e,["parameters","enhancePrompt"],G),o}function Jx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const u=c(e,["config"]);return u!=null&&Fx(u,o),o}function Yx(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const u=c(e,["config"]);return u!=null&&Qx(u,o),o}function $x(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>sN(d))),f(e,["generatedImages"],u)}const r=c(i,["positivePromptSafetyAttributes"]);return r!=null&&f(e,["positivePromptSafetyAttributes"],gS(r)),e}function Kx(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Ma(d))),f(e,["generatedImages"],u)}const r=c(i,["positivePromptSafetyAttributes"]);return r!=null&&f(e,["positivePromptSafetyAttributes"],yS(r)),e}function Xx(i,e){const o={},l=c(i,["numberOfVideos"]);if(e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=c(i,["durationSeconds"]);if(e!==void 0&&r!=null&&f(e,["parameters","durationSeconds"],r),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(i,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(i,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const h=c(i,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(i,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const g=c(i,["enhancePrompt"]);if(e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g),c(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(i,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Da(v));const S=c(i,["referenceImages"]);if(e!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>WN(A))),f(e,["instances[0]","referenceImages"],E)}if(c(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function Zx(i,e){const o={},l=c(i,["numberOfVideos"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const r=c(i,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const u=c(i,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(i,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const h=c(i,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const y=c(i,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const g=c(i,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const v=c(i,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(i,["pubsubTopic"]);e!==void 0&&S!=null&&f(e,["parameters","pubsubTopic"],S);const E=c(i,["negativePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","negativePrompt"],E);const A=c(i,["enhancePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A);const M=c(i,["generateAudio"]);e!==void 0&&M!=null&&f(e,["parameters","generateAudio"],M);const R=c(i,["lastFrame"]);e!==void 0&&R!=null&&f(e,["instances[0]","lastFrame"],un(R));const k=c(i,["referenceImages"]);if(e!==void 0&&k!=null){let G=k;Array.isArray(G)&&(G=G.map(K=>jN(K))),f(e,["instances[0]","referenceImages"],G)}const Y=c(i,["mask"]);e!==void 0&&Y!=null&&f(e,["instances[0]","mask"],ZN(Y));const W=c(i,["compressionQuality"]);return e!==void 0&&W!=null&&f(e,["parameters","compressionQuality"],W),o}function Wx(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],nN(d)),e}function jx(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],iN(d)),e}function eN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],Da(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],TS(d));const h=c(e,["source"]);h!=null&&oN(h,o);const y=c(e,["config"]);return y!=null&&Xx(y,o),o}function tN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],un(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],ES(d));const h=c(e,["source"]);h!=null&&lN(h,o);const y=c(e,["config"]);return y!=null&&Zx(y,o),o}function nN(i){const e={},o=c(i,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>rN(d))),f(e,["generatedVideos"],u)}const l=c(i,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function iN(i){const e={},o=c(i,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>uN(d))),f(e,["generatedVideos"],u)}const l=c(i,["raiMediaFilteredCount"]);l!=null&&f(e,["raiMediaFilteredCount"],l);const r=c(i,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function oN(i,e){const o={},l=c(i,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const r=c(i,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],Da(r));const u=c(i,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],TS(u)),o}function lN(i,e){const o={},l=c(i,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const r=c(i,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],un(r));const u=c(i,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],ES(u)),o}function sN(i){const e={},o=c(i,["_self"]);o!=null&&f(e,["image"],yN(o));const l=c(i,["raiFilteredReason"]);l!=null&&f(e,["raiFilteredReason"],l);const r=c(i,["_self"]);return r!=null&&f(e,["safetyAttributes"],gS(r)),e}function Ma(i){const e={},o=c(i,["_self"]);o!=null&&f(e,["image"],pS(o));const l=c(i,["raiFilteredReason"]);l!=null&&f(e,["raiFilteredReason"],l);const r=c(i,["_self"]);r!=null&&f(e,["safetyAttributes"],yS(r));const u=c(i,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function aN(i){const e={},o=c(i,["_self"]);o!=null&&f(e,["mask"],pS(o));const l=c(i,["labels"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),f(e,["labels"],r)}return e}function rN(i){const e={},o=c(i,["video"]);return o!=null&&f(e,["video"],KN(o)),e}function uN(i){const e={},o=c(i,["_self"]);return o!=null&&f(e,["video"],XN(o)),e}function cN(i){const e={},o=c(i,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const l=c(i,["responseJsonSchema"]);l!=null&&f(e,["responseJsonSchema"],l);const r=c(i,["audioTimestamp"]);r!=null&&f(e,["audioTimestamp"],r);const u=c(i,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(i,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(i,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(i,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(i,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=c(i,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=c(i,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const E=c(i,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const A=c(i,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const M=c(i,["responseModalities"]);M!=null&&f(e,["responseModalities"],M);const R=c(i,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const k=c(i,["routingConfig"]);k!=null&&f(e,["routingConfig"],k);const Y=c(i,["seed"]);Y!=null&&f(e,["seed"],Y);const W=c(i,["speechConfig"]);W!=null&&f(e,["speechConfig"],vS(W));const G=c(i,["stopSequences"]);G!=null&&f(e,["stopSequences"],G);const K=c(i,["temperature"]);K!=null&&f(e,["temperature"],K);const ne=c(i,["thinkingConfig"]);ne!=null&&f(e,["thinkingConfig"],ne);const j=c(i,["topK"]);j!=null&&f(e,["topK"],j);const V=c(i,["topP"]);if(V!=null&&f(e,["topP"],V),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fN(i,e){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],Ie(i,l)),o}function dN(i,e){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],Ie(i,l)),o}function mN(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function hN(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function pN(i){const e={},o=c(i,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const l=c(i,["imageSize"]);if(l!=null&&f(e,["imageSize"],l),c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function gN(i){const e={},o=c(i,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const l=c(i,["imageSize"]);l!=null&&f(e,["imageSize"],l);const r=c(i,["outputMimeType"]);r!=null&&f(e,["imageOutputOptions","mimeType"],r);const u=c(i,["outputCompressionQuality"]);return u!=null&&f(e,["imageOutputOptions","compressionQuality"],u),e}function yN(i){const e={},o=c(i,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],pi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function pS(i){const e={},o=c(i,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const l=c(i,["bytesBase64Encoded"]);l!=null&&f(e,["imageBytes"],pi(l));const r=c(i,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function Da(i){const e={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(i,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],pi(o));const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function un(i){const e={},o=c(i,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const l=c(i,["imageBytes"]);l!=null&&f(e,["bytesBase64Encoded"],pi(l));const r=c(i,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function vN(i,e,o){const l={},r=c(e,["pageSize"]);o!==void 0&&r!=null&&f(o,["_query","pageSize"],r);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],aS(i,h)),l}function SN(i,e,o){const l={},r=c(e,["pageSize"]);o!==void 0&&r!=null&&f(o,["_query","pageSize"],r);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],aS(i,h)),l}function TN(i,e){const o={},l=c(e,["config"]);return l!=null&&vN(i,l,o),o}function EN(i,e){const o={},l=c(e,["config"]);return l!=null&&SN(i,l,o),o}function CN(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["_self"]);if(r!=null){let u=rS(r);Array.isArray(u)&&(u=u.map(d=>dc(d))),f(e,["models"],u)}return e}function _N(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["_self"]);if(r!=null){let u=rS(r);Array.isArray(u)&&(u=u.map(d=>mc(d))),f(e,["models"],u)}return e}function AN(i){const e={},o=c(i,["maskMode"]);o!=null&&f(e,["maskMode"],o);const l=c(i,["segmentationClasses"]);l!=null&&f(e,["maskClasses"],l);const r=c(i,["maskDilation"]);return r!=null&&f(e,["dilation"],r),e}function dc(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["displayName"]);l!=null&&f(e,["displayName"],l);const r=c(i,["description"]);r!=null&&f(e,["description"],r);const u=c(i,["version"]);u!=null&&f(e,["version"],u);const d=c(i,["_self"]);d!=null&&f(e,["tunedModelInfo"],HN(d));const h=c(i,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const y=c(i,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const g=c(i,["supportedGenerationMethods"]);g!=null&&f(e,["supportedActions"],g);const v=c(i,["temperature"]);v!=null&&f(e,["temperature"],v);const S=c(i,["maxTemperature"]);S!=null&&f(e,["maxTemperature"],S);const E=c(i,["topP"]);E!=null&&f(e,["topP"],E);const A=c(i,["topK"]);A!=null&&f(e,["topK"],A);const M=c(i,["thinking"]);return M!=null&&f(e,["thinking"],M),e}function mc(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["displayName"]);l!=null&&f(e,["displayName"],l);const r=c(i,["description"]);r!=null&&f(e,["description"],r);const u=c(i,["versionId"]);u!=null&&f(e,["version"],u);const d=c(i,["deployedModels"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>Bx(E))),f(e,["endpoints"],S)}const h=c(i,["labels"]);h!=null&&f(e,["labels"],h);const y=c(i,["_self"]);y!=null&&f(e,["tunedModelInfo"],VN(y));const g=c(i,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const v=c(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),f(e,["checkpoints"],S)}return e}function wN(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const r=c(i,["executableCode"]);r!=null&&f(e,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],zx(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],Gx(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],cx(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function xN(i){const e={},o=c(i,["productImage"]);return o!=null&&f(e,["image"],un(o)),e}function NN(i,e){const o={},l=c(i,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const r=c(i,["baseSteps"]);e!==void 0&&r!=null&&f(e,["parameters","baseSteps"],r);const u=c(i,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(i,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const h=c(i,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=c(i,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const g=c(i,["addWatermark"]);e!==void 0&&g!=null&&f(e,["parameters","addWatermark"],g);const v=c(i,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const S=c(i,["outputCompressionQuality"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S);const E=c(i,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const A=c(i,["labels"]);return e!==void 0&&A!=null&&f(e,["labels"],A),o}function bN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["source"]);r!=null&&MN(r,o);const u=c(e,["config"]);return u!=null&&NN(u,o),o}function RN(i){const e={},o=c(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>Ma(r))),f(e,["generatedImages"],l)}return e}function MN(i,e){const o={},l=c(i,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const r=c(i,["personImage"]);e!==void 0&&r!=null&&f(e,["instances[0]","personImage","image"],un(r));const u=c(i,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>xN(h))),f(e,["instances[0]","productImages"],d)}return o}function DN(i){const e={},o=c(i,["referenceImage"]);o!=null&&f(e,["referenceImage"],un(o));const l=c(i,["referenceId"]);l!=null&&f(e,["referenceId"],l);const r=c(i,["referenceType"]);r!=null&&f(e,["referenceType"],r);const u=c(i,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],AN(u));const d=c(i,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],yx(d));const h=c(i,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const y=c(i,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function gS(i){const e={},o=c(i,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const l=c(i,["safetyAttributes","scores"]);l!=null&&f(e,["scores"],l);const r=c(i,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function yS(i){const e={},o=c(i,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const l=c(i,["safetyAttributes","scores"]);l!=null&&f(e,["scores"],l);const r=c(i,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function IN(i){const e={},o=c(i,["category"]);if(o!=null&&f(e,["category"],o),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(i,["threshold"]);return l!=null&&f(e,["threshold"],l),e}function LN(i){const e={},o=c(i,["image"]);return o!=null&&f(e,["image"],un(o)),e}function UN(i,e){const o={},l=c(i,["mode"]);e!==void 0&&l!=null&&f(e,["parameters","mode"],l);const r=c(i,["maxPredictions"]);e!==void 0&&r!=null&&f(e,["parameters","maxPredictions"],r);const u=c(i,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(i,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const h=c(i,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const y=c(i,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),o}function qN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["source"]);r!=null&&BN(r,o);const u=c(e,["config"]);return u!=null&&UN(u,o),o}function PN(i){const e={},o=c(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>aN(r))),f(e,["generatedMasks"],l)}return e}function BN(i,e){const o={},l=c(i,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const r=c(i,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],un(r));const u=c(i,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],LN(u)),o}function vS(i){const e={},o=c(i,["languageCode"]);o!=null&&f(e,["languageCode"],o);const l=c(i,["voiceConfig"]);if(l!=null&&f(e,["voiceConfig"],l),c(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function zN(i){const e={},o=c(i,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],Hx(o));const l=c(i,["retrievalConfig"]);return l!=null&&f(e,["retrievalConfig"],l),e}function GN(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const r=c(i,["computerUse"]);r!=null&&f(e,["computerUse"],r);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],mN(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],hN(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function SS(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>Vx(E))),f(e,["functionDeclarations"],S)}const l=c(i,["retrieval"]);l!=null&&f(e,["retrieval"],l);const r=c(i,["googleSearchRetrieval"]);r!=null&&f(e,["googleSearchRetrieval"],r);const u=c(i,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(i,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(i,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(i,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=c(i,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=c(i,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function HN(i){const e={},o=c(i,["baseModel"]);o!=null&&f(e,["baseModel"],o);const l=c(i,["createTime"]);l!=null&&f(e,["createTime"],l);const r=c(i,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function VN(i){const e={},o=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(e,["baseModel"],o);const l=c(i,["createTime"]);l!=null&&f(e,["createTime"],l);const r=c(i,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function ON(i,e){const o={},l=c(i,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const r=c(i,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const u=c(i,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function kN(i,e){const o={},l=c(i,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const r=c(i,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const u=c(i,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function FN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","name"],Ie(i,l));const r=c(e,["config"]);return r!=null&&ON(r,o),o}function QN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["config"]);return r!=null&&kN(r,o),o}function JN(i,e){const o={},l=c(i,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const r=c(i,["safetyFilterLevel"]);e!==void 0&&r!=null&&f(e,["parameters","safetySetting"],r);const u=c(i,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(i,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const h=c(i,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const y=c(i,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const g=c(i,["enhanceInputImage"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=c(i,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=c(i,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const E=c(i,["numberOfImages"]);e!==void 0&&E!=null&&f(e,["parameters","sampleCount"],E);const A=c(i,["mode"]);return e!==void 0&&A!=null&&f(e,["parameters","mode"],A),o}function YN(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],Ie(i,l));const r=c(e,["image"]);r!=null&&f(o,["instances[0]","image"],un(r));const u=c(e,["upscaleFactor"]);u!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&JN(d,o),o}function $N(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>Ma(u))),f(e,["generatedImages"],r)}return e}function KN(i){const e={},o=c(i,["uri"]);o!=null&&f(e,["uri"],o);const l=c(i,["encodedVideo"]);l!=null&&f(e,["videoBytes"],pi(l));const r=c(i,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function XN(i){const e={},o=c(i,["gcsUri"]);o!=null&&f(e,["uri"],o);const l=c(i,["bytesBase64Encoded"]);l!=null&&f(e,["videoBytes"],pi(l));const r=c(i,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function ZN(i){const e={},o=c(i,["image"]);o!=null&&f(e,["_self"],un(o));const l=c(i,["maskMode"]);return l!=null&&f(e,["maskMode"],l),e}function WN(i){const e={},o=c(i,["image"]);o!=null&&f(e,["image"],Da(o));const l=c(i,["referenceType"]);return l!=null&&f(e,["referenceType"],l),e}function jN(i){const e={},o=c(i,["image"]);o!=null&&f(e,["image"],un(o));const l=c(i,["referenceType"]);return l!=null&&f(e,["referenceType"],l),e}function TS(i){const e={},o=c(i,["uri"]);o!=null&&f(e,["uri"],o);const l=c(i,["videoBytes"]);l!=null&&f(e,["encodedVideo"],pi(l));const r=c(i,["mimeType"]);return r!=null&&f(e,["encoding"],r),e}function ES(i){const e={},o=c(i,["uri"]);o!=null&&f(e,["gcsUri"],o);const l=c(i,["videoBytes"]);l!=null&&f(e,["bytesBase64Encoded"],pi(l));const r=c(i,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eb="Content-Type",tb="X-Server-Timeout",nb="User-Agent",hc="x-goog-api-client",ib="1.30.0",ob=`google-genai-sdk/${ib}`,lb="v1beta1",sb="v1beta",Cg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ab{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:lb,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:sb,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const r=[this.getRequestUrlInternal(o)];return l&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))r.searchParams.append(d,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,r.toString(),e.abortSignal),this.unaryApiCall(r,u,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[r,u]of Object.entries(o))typeof u=="object"?l[r]=Object.assign(Object.assign({},l[r]),u):u!==void 0&&(l[r]=u);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,o,l);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,r.toString(),e.abortSignal),this.streamApiCall(r,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l,r){if(o&&o.timeout||r){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{u.abort()}),e.signal=d}return o&&o.extraBody!==null&&rb(e,o.extraBody),e.headers=await this.getHeadersInternal(o,l),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await _g(r),new uc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await _g(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var o;return Io(this,arguments,function*(){const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:y}=yield Qe(r.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=u.decode(y,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),A=E.status,M=E.code,R=`got status: ${A}. ${JSON.stringify(S)}`;if(M>=400&&M<600)throw new ba({message:R,status:M})}}catch(S){if(S.name==="ApiError")throw S}d+=g;let v=d.match(Cg);for(;v;){const S=v[1];try{const E=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Qe(new uc(E)),d=d.slice(v[0].length),v=d.match(Cg)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{r.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=ob+" "+this.clientOptions.userAgentExtra;return e[nb]=o,e[hc]=o,e[eb]="application/json",e}async getHeadersInternal(e,o){const l=new Headers;if(e&&e.headers){for(const[r,u]of Object.entries(e.headers))l.append(r,u);e.timeout&&e.timeout>0&&l.append(tb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(e){var o;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(e,o){var l;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);r.sizeBytes=String(d.size);const h=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const y={file:r},g=this.getFileName(e),v=le("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,g,y,o==null?void 0:o.httpOptions);return u.upload(e,S,this)}async uploadFileToFileSearchStore(e,o,l){var r;const u=this.clientOptions.uploader,d=await u.stat(o),h=String(d.size),y=(r=l==null?void 0:l.mimeType)!==null&&r!==void 0?r:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),S={};l!=null&&l.customMetadata&&(S.customMetadata=l.customMetadata),l!=null&&l.chunkingConfig&&(S.chunkingConfig=l.chunkingConfig);const E=await this.fetchUploadUrl(g,h,y,v,S,l==null?void 0:l.httpOptions);return u.uploadToFileSearchStore(o,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,l,r,u,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function _g(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let l;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await i.json():l={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(l);throw o>=400&&o<600?new ba({message:r,status:o}):new Error(r)}}function rb(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const u=JSON.parse(i.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,d){const h=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=l(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const r=l(o,e);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ub="mcp_used/unknown";let cb=!1;function CS(i){for(const e of i)if(fb(e)||typeof e=="object"&&"inputSchema"in e)return!0;return cb}function _S(i){var e;const o=(e=i[hc])!==null&&e!==void 0?e:"";i[hc]=(o+` ${ub}`).trimStart()}function fb(i){return i!==null&&typeof i=="object"&&i instanceof Gc}function db(i,e=100){return Io(this,arguments,function*(){let l,r=0;for(;r<e;){const u=yield Qe(i.listTools({cursor:l}));for(const d of u.tools)yield yield Qe(d),r++;if(!u.nextCursor)break;l=u.nextCursor}})}class Gc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Gc(e,o)}async initialize(){var e,o,l,r;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,Bl(db(v))),g;g=await y.next(),e=g.done,!e;h=!0){r=g.value,h=!1;const S=r;d.push(S);const E=S.name;if(u[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);u[E]=v}}catch(S){o={error:S}}finally{try{!h&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),oA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await r.callTool({name:l.name,arguments:l.args},void 0,u);o.push({functionResponse:{name:l.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function mb(i,e,o){const l=new X_;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(l,r),e(l)}class hb{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=yb(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(G=>{g=G}),S=e.callbacks,E=function(){g({})},A=this.apiClient,M={onopen:E,onmessage:G=>{mb(A,S.onmessage,G)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(G){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(G){}},R=this.webSocketFactory.create(y,gb(d),M);R.connect(),await v;const W={setup:{model:Ie(this.apiClient,e.model)}};return R.send(JSON.stringify(W)),new pb(R,this.apiClient)}}class pb{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=tx(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=ex(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ro.PLAY)}pause(){this.sendPlaybackControl(Ro.PAUSE)}stop(){this.sendPlaybackControl(Ro.STOP)}resetContext(){this.sendPlaybackControl(Ro.RESET_CONTEXT)}close(){this.conn.close()}}function gb(i){const e={};return i.forEach((o,l)=>{e[l]=o}),e}function yb(i){const e=new Headers;for(const[o,l]of Object.entries(i))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Sb(i,e,o){const l=new K_;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const u=JSON.parse(r);if(i.isVertexAI()){const d=ox(u);Object.assign(l,d)}else Object.assign(l,u);e(l)}class Tb{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new hb(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,r,u,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&CS(e.config.tools)&&_S(S);const E=Ab(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const B=this.apiClient.getApiKey();let F="BidiGenerateContent",ie="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",ie="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${F}?${ie}=${B}`}let A=()=>{};const M=new Promise(B=>{A=B}),R=e.callbacks,k=function(){var B;(B=R==null?void 0:R.onopen)===null||B===void 0||B.call(R),A({})},Y=this.apiClient,W={onopen:k,onmessage:B=>{Sb(Y,R.onmessage,B)},onerror:(o=R==null?void 0:R.onerror)!==null&&o!==void 0?o:function(B){},onclose:(l=R==null?void 0:R.onclose)!==null&&l!==void 0?l:function(B){}},G=this.webSocketFactory.create(v,_b(E),W);G.connect(),await M;let K=Ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const B=this.apiClient.getProject(),F=this.apiClient.getLocation();K=`projects/${B}/locations/${F}/`+K}let ne={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ha.AUDIO]}:e.config.responseModalities=[ha.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],V=[];for(const B of j)if(this.isCallableTool(B)){const F=B;V.push(await F.tool())}else V.push(B);V.length>0&&(e.config.tools=V);const L={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ne=jw(this.apiClient,L):ne=Ww(this.apiClient,L),delete ne.config,G.send(JSON.stringify(ne)),new Cb(G,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Eb={turnComplete:!0};class Cb{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=en(o.turns),e.isVertexAI()||(l=l.map(r=>Ra(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(vb)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},Eb),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:ix(e)}:o={realtimeInput:nx(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function _b(i){const e={};return i.forEach((o,l)=>{e[l]=o}),e}function Ab(i){const e=new Headers;for(const[o,l]of Object.entries(i))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ag=10;function wg(i){var e,o,l;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const d of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Lo(d)){r=!0;break}if(!r)return!0;const u=(l=i==null?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Lo(i){return"callTool"in i&&typeof i.callTool=="function"}function wb(i){var e,o,l;return(l=(o=(e=i.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(r=>Lo(r)))!==null&&l!==void 0?l:!1}function xg(i){var e;const o=[];return!((e=i==null?void 0:i.config)===null||e===void 0)&&e.tools&&i.config.tools.forEach((l,r)=>{if(Lo(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(r)}),o}function Ng(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xb extends zn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,r,u,d,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!wb(o)||wg(o.config))return await this.generateContentInternal(y);const g=xg(o);if(g.length>0){const R=g.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let v,S;const E=en(y.contents),A=(u=(r=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:Ag;let M=0;for(;M<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const R=v.candidates[0].content,k=[];for(const Y of(h=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Lo(Y)){const G=await Y.callTool(v.functionCalls);k.push(...G)}M++,S={role:"user",parts:k},y.contents=en(y.contents),y.contents.push(R),y.contents.push(S),Ng(y.config)&&(E.push(R),E.push(S))}return Ng(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var l,r,u,d,h;if(this.maybeMoveToResponseJsonSchem(o),wg(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=xg(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(r=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var r;let u;const d=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:l.sdkHttpResponse},h}),this.list=async o=>{var l;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((l=d.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Vi(Pn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var l,r,u,d,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(u=o.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,r;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>Lo(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&CS(e.config.tools)){const y=(r=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),_S(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var o,l,r;const u=new Map;for(const d of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Lo(d)){const h=d,y=await h.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,h)}}return u}async processAfcStream(e){var o,l,r;const u=(r=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&r!==void 0?r:Ag;let d=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(g,v,S){var E,A;return Io(this,arguments,function*(){for(var M,R,k,Y;h<u;){d&&(h++,d=!1);const ne=yield Qe(g.processParamsMaybeAddMcpUsage(S)),j=yield Qe(g.generateContentStreamInternal(ne)),V=[],L=[];try{for(var W=!0,G=(R=void 0,Bl(j)),K;K=yield Qe(G.next()),M=K.done,!M;W=!0){Y=K.value,W=!1;const B=Y;if(yield yield Qe(B),B.candidates&&(!((E=B.candidates[0])===null||E===void 0)&&E.content)){L.push(B.candidates[0].content);for(const F of(A=B.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(h<u&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(F.functionCall.name)){const ie=yield Qe(v.get(F.functionCall.name).callTool([F.functionCall]));V.push(...ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(B){R={error:B}}finally{try{!W&&!M&&(k=G.return)&&(yield Qe(k.call(G)))}finally{if(R)throw R.error}}if(V.length>0){d=!0;const B=new Ul;B.candidates=[{content:{role:"user",parts:V}}],yield yield Qe(B);const F=[];F.push(...L),F.push({role:"user",parts:V});const ie=en(S.contents).concat(F);S.contents=ie}else break}})})(this,y,e)}async generateContentInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Sg(this.apiClient,e);return h=le("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Eg(v),E=new Ul;return Object.assign(E,S),E})}else{const g=vg(this.apiClient,e);return h=le("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Tg(v),E=new Ul;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Sg(this.apiClient,e);return h=le("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),d.then(function(S){return Io(this,arguments,function*(){var E,A,M,R;try{for(var k=!0,Y=Bl(S),W;W=yield Qe(Y.next()),E=W.done,!E;k=!0){R=W.value,k=!1;const G=R,K=Eg(yield Qe(G.json()));K.sdkHttpResponse={headers:G.headers};const ne=new Ul;Object.assign(ne,K),yield yield Qe(ne)}}catch(G){A={error:G}}finally{try{!k&&!E&&(M=Y.return)&&(yield Qe(M.call(Y)))}finally{if(A)throw A.error}}})})}else{const g=vg(this.apiClient,e);return h=le("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(S){return Io(this,arguments,function*(){var E,A,M,R;try{for(var k=!0,Y=Bl(S),W;W=yield Qe(Y.next()),E=W.done,!E;k=!0){R=W.value,k=!1;const G=R,K=Tg(yield Qe(G.json()));K.sdkHttpResponse={headers:G.headers};const ne=new Ul;Object.assign(ne,K),yield yield Qe(ne)}}catch(G){A={error:G}}finally{try{!k&&!E&&(M=Y.return)&&(yield Qe(M.call(Y)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Ux(this.apiClient,e);return h=le("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Px(v),E=new ng;return Object.assign(E,S),E})}else{const g=Lx(this.apiClient,e);return h=le("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=qx(v),E=new ng;return Object.assign(E,S),E})}}async generateImagesInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Yx(this.apiClient,e);return h=le("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Kx(v),E=new ig;return Object.assign(E,S),E})}else{const g=Jx(this.apiClient,e);return h=le("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=$x(v),E=new ig;return Object.assign(E,S),E})}}async editImageInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=Rx(this.apiClient,e);return u=le("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=Mx(y),v=new z_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=YN(this.apiClient,e);return u=le("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=$N(y),v=new G_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=bN(this.apiClient,e);return u=le("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const g=RN(y),v=new H_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=qN(this.apiClient,e);return u=le("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const g=PN(y),v=new V_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=dN(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>mc(v))}else{const g=fN(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>dc(v))}}async listInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=EN(this.apiClient,e);return h=le("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=_N(v),E=new og;return Object.assign(E,S),E})}else{const g=TN(this.apiClient,e);return h=le("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=CN(v),E=new og;return Object.assign(E,S),E})}}async update(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=QN(this.apiClient,e);return h=le("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>mc(v))}else{const g=FN(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>dc(v))}}async delete(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=wx(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Nx(v),E=new lg;return Object.assign(E,S),E})}else{const g=Ax(this.apiClient,e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=xx(v),E=new lg;return Object.assign(E,S),E})}}async countTokens(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=Ex(this.apiClient,e);return h=le("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=_x(v),E=new sg;return Object.assign(E,S),E})}else{const g=Tx(this.apiClient,e);return h=le("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Cx(v),E=new sg;return Object.assign(E,S),E})}}async computeTokens(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=mx(this.apiClient,e);return u=le("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=hx(y),v=new O_;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=tN(this.apiClient,e);return h=le("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>{const S=jx(v),E=new pa;return Object.assign(E,S),E})}else{const g=eN(this.apiClient,e);return h=le("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const S=Wx(v),E=new pa;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nb extends zn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=I_(e);return h=le("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d}else{const g=D_(e);return h=le("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=A_(e);return u=le("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bb(i){const e={},o=c(i,["data"]);if(o!=null&&f(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Rb(i){const e={},o=c(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>zb(u))),f(e,["parts"],r)}const l=c(i,["role"]);return l!=null&&f(e,["role"],l),e}function Mb(i,e,o){const l={},r=c(e,["expireTime"]);o!==void 0&&r!=null&&f(o,["expireTime"],r);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&f(o,["newSessionExpireTime"],u);const d=c(e,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const h=c(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&f(o,["bidiGenerateContentSetup"],Bb(i,h));const y=c(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),l}function Db(i,e){const o={},l=c(e,["config"]);return l!=null&&f(o,["config"],Mb(i,l,o)),o}function Ib(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&f(e,["fileUri"],o);const l=c(i,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Lb(i){const e={},o=c(i,["id"]);o!=null&&f(e,["id"],o);const l=c(i,["args"]);l!=null&&f(e,["args"],l);const r=c(i,["name"]);if(r!=null&&f(e,["name"],r),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ub(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function qb(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function Pb(i,e){const o={},l=c(i,["generationConfig"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig"],l);const r=c(i,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const u=c(i,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(i,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(i,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(i,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(i,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(i,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(i,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],zc(S));const E=c(i,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const A=c(i,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const M=c(i,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],Rb(gt(M)));const R=c(i,["tools"]);if(e!==void 0&&R!=null){let j=Bo(R);Array.isArray(j)&&(j=j.map(V=>Hb(Po(V)))),f(e,["setup","tools"],j)}const k=c(i,["sessionResumption"]);e!==void 0&&k!=null&&f(e,["setup","sessionResumption"],Gb(k));const Y=c(i,["inputAudioTranscription"]);e!==void 0&&Y!=null&&f(e,["setup","inputAudioTranscription"],Y);const W=c(i,["outputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","outputAudioTranscription"],W);const G=c(i,["realtimeInputConfig"]);e!==void 0&&G!=null&&f(e,["setup","realtimeInputConfig"],G);const K=c(i,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ne=c(i,["proactivity"]);return e!==void 0&&ne!=null&&f(e,["setup","proactivity"],ne),o}function Bb(i,e){const o={},l=c(e,["model"]);l!=null&&f(o,["setup","model"],Ie(i,l));const r=c(e,["config"]);return r!=null&&f(o,["config"],Pb(r,o)),o}function zb(i){const e={},o=c(i,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const l=c(i,["codeExecutionResult"]);l!=null&&f(e,["codeExecutionResult"],l);const r=c(i,["executableCode"]);r!=null&&f(e,["executableCode"],r);const u=c(i,["fileData"]);u!=null&&f(e,["fileData"],Ib(u));const d=c(i,["functionCall"]);d!=null&&f(e,["functionCall"],Lb(d));const h=c(i,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(i,["inlineData"]);y!=null&&f(e,["inlineData"],bb(y));const g=c(i,["text"]);g!=null&&f(e,["text"],g);const v=c(i,["thought"]);v!=null&&f(e,["thought"],v);const S=c(i,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(i,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function Gb(i){const e={},o=c(i,["handle"]);if(o!=null&&f(e,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Hb(i){const e={},o=c(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(i,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const r=c(i,["computerUse"]);r!=null&&f(e,["computerUse"],r);const u=c(i,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(i,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(i,["googleMaps"]);h!=null&&f(e,["googleMaps"],Ub(h));const y=c(i,["googleSearch"]);y!=null&&f(e,["googleSearch"],qb(y));const g=c(i,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vb(i){const e=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const l=i[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const r=Object.keys(l).map(u=>`${o}.${u}`);e.push(...r)}else e.push(o)}return e.join(",")}function Ob(i,e){let o=null;const l=i.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(i.bidiGenerateContentSetup=u,o=u):delete i.bidiGenerateContentSetup}else l!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const u=Vb(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?i.fieldMask=u:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class kb extends zn{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=Db(this.apiClient,e);u=le("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=Ob(h,e.config);return r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fb(i,e){const o={},l=c(i,["displayName"]);return e!==void 0&&l!=null&&f(e,["displayName"],l),o}function Qb(i){const e={},o=c(i,["config"]);return o!=null&&Fb(o,e),e}function Jb(i,e){const o={},l=c(i,["force"]);return e!==void 0&&l!=null&&f(e,["_query","force"],l),o}function Yb(i){const e={},o=c(i,["name"]);o!=null&&f(e,["_url","name"],o);const l=c(i,["config"]);return l!=null&&Jb(l,e),e}function $b(i){const e={},o=c(i,["name"]);return o!=null&&f(e,["_url","name"],o),e}function Kb(i,e){const o={},l=c(i,["customMetadata"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const r=c(i,["chunkingConfig"]);return e!==void 0&&r!=null&&f(e,["chunkingConfig"],r),o}function Xb(i){const e={},o=c(i,["name"]);o!=null&&f(e,["name"],o);const l=c(i,["metadata"]);l!=null&&f(e,["metadata"],l);const r=c(i,["done"]);r!=null&&f(e,["done"],r);const u=c(i,["error"]);u!=null&&f(e,["error"],u);const d=c(i,["response"]);return d!=null&&f(e,["response"],Wb(d)),e}function Zb(i){const e={},o=c(i,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const l=c(i,["fileName"]);l!=null&&f(e,["fileName"],l);const r=c(i,["config"]);return r!=null&&Kb(r,e),e}function Wb(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["parent"]);l!=null&&f(e,["parent"],l);const r=c(i,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function jb(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(i,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),o}function e1(i){const e={},o=c(i,["config"]);return o!=null&&jb(o,e),e}function t1(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["fileSearchStores"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function n1(i,e){const o={},l=c(i,["mimeType"]);e!==void 0&&l!=null&&f(e,["mimeType"],l);const r=c(i,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const u=c(i,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),f(e,["customMetadata"],h)}const d=c(i,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),o}function i1(i){const e={},o=c(i,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const l=c(i,["config"]);return l!=null&&n1(l,e),e}function o1(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l1(i,e){const o={},l=c(i,["force"]);return e!==void 0&&l!=null&&f(e,["_query","force"],l),o}function s1(i){const e={},o=c(i,["name"]);o!=null&&f(e,["_url","name"],o);const l=c(i,["config"]);return l!=null&&l1(l,e),e}function a1(i){const e={},o=c(i,["name"]);return o!=null&&f(e,["_url","name"],o),e}function r1(i,e){const o={},l=c(i,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(i,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),o}function u1(i){const e={},o=c(i,["parent"]);o!=null&&f(e,["_url","parent"],o);const l=c(i,["config"]);return l!=null&&r1(l,e),e}function c1(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const l=c(i,["nextPageToken"]);l!=null&&f(e,["nextPageToken"],l);const r=c(i,["documents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f1 extends zn{constructor(e){super(),this.apiClient=e,this.list=async o=>new Vi(Pn.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=a1(e);return u=le("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var o,l;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=s1(e);r=le("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=u1(e);return u=le("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const g=c1(y),v=new k_;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d1 extends zn{constructor(e,o=new f1(e)){super(),this.apiClient=e,this.documents=o,this.list=async(l={})=>new Vi(Pn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Qb(e);return u=le("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$b(e);return u=le("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var o,l;let r="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Yb(e);r=le("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=e1(e);return u=le("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const g=t1(y),v=new F_;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=i1(e);return u=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const g=o1(y),v=new Q_;return Object.assign(v,g),v})}}async importFile(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Zb(e);return u=le("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const g=Xb(y),v=new Lc;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m1(i,e){const o={},l=c(i,["name"]);return l!=null&&f(o,["_url","name"],l),o}function h1(i,e){const o={},l=c(i,["name"]);return l!=null&&f(o,["_url","name"],l),o}function p1(i,e,o){const l={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(i,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&f(e,["displayName"],r),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(i,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(i,["learningRateMultiplier"]);if(d!=null&&f(l,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(i,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const y=c(i,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function g1(i,e,o){const l={};let r=c(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=c(i,["validationDataset"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec"],bg(A))}else if(r==="PREFERENCE_TUNING"){const A=c(i,["validationDataset"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec"],bg(A))}const u=c(i,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(i,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=c(i,["epochCount"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(h==="PREFERENCE_TUNING"){const A=c(i,["epochCount"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=c(i,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=c(i,["learningRateMultiplier"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=c(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=c(i,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=c(i,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=c(i,["adapterSize"]);e!==void 0&&A!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=c(i,["adapterSize"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(c(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=c(i,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const E=c(i,["beta"]);return e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),l}function y1(i,e){const o={},l=c(i,["baseModel"]);l!=null&&f(o,["baseModel"],l);const r=c(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const u=c(i,["trainingDataset"]);u!=null&&b1(u);const d=c(i,["config"]);return d!=null&&p1(d,o),o}function v1(i,e){const o={},l=c(i,["baseModel"]);l!=null&&f(o,["baseModel"],l);const r=c(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const u=c(i,["trainingDataset"]);u!=null&&R1(u,o,e);const d=c(i,["config"]);return d!=null&&g1(d,o,e),o}function S1(i,e){const o={},l=c(i,["name"]);return l!=null&&f(o,["_url","name"],l),o}function T1(i,e){const o={},l=c(i,["name"]);return l!=null&&f(o,["_url","name"],l),o}function E1(i,e,o){const l={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(i,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),l}function C1(i,e,o){const l={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(i,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),l}function _1(i,e){const o={},l=c(i,["config"]);return l!=null&&E1(l,o),o}function A1(i,e){const o={},l=c(i,["config"]);return l!=null&&C1(l,o),o}function w1(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const r=c(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const u=c(i,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>AS(h))),f(o,["tuningJobs"],d)}return o}function x1(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const r=c(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const u=c(i,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>pc(h))),f(o,["tuningJobs"],d)}return o}function N1(i,e){const o={},l=c(i,["name"]);l!=null&&f(o,["model"],l);const r=c(i,["name"]);return r!=null&&f(o,["endpoint"],r),o}function b1(i,e){const o={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=c(i,["examples"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>u)),f(o,["examples","examples"],r)}return o}function R1(i,e,o){const l={};let r=c(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const d=c(i,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(r==="PREFERENCE_TUNING"){const d=c(i,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(i,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(i,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function AS(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const r=c(i,["name"]);r!=null&&f(o,["name"],r);const u=c(i,["state"]);u!=null&&f(o,["state"],lS(u));const d=c(i,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(i,["tuningTask","startTime"]);h!=null&&f(o,["startTime"],h);const y=c(i,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=c(i,["description"]);v!=null&&f(o,["description"],v);const S=c(i,["baseModel"]);S!=null&&f(o,["baseModel"],S);const E=c(i,["_self"]);return E!=null&&f(o,["tunedModel"],N1(E)),o}function pc(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const r=c(i,["name"]);r!=null&&f(o,["name"],r);const u=c(i,["state"]);u!=null&&f(o,["state"],lS(u));const d=c(i,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(i,["startTime"]);h!=null&&f(o,["startTime"],h);const y=c(i,["endTime"]);y!=null&&f(o,["endTime"],y);const g=c(i,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=c(i,["error"]);v!=null&&f(o,["error"],v);const S=c(i,["description"]);S!=null&&f(o,["description"],S);const E=c(i,["baseModel"]);E!=null&&f(o,["baseModel"],E);const A=c(i,["tunedModel"]);A!=null&&f(o,["tunedModel"],A);const M=c(i,["preTunedModel"]);M!=null&&f(o,["preTunedModel"],M);const R=c(i,["supervisedTuningSpec"]);R!=null&&f(o,["supervisedTuningSpec"],R);const k=c(i,["preferenceOptimizationSpec"]);k!=null&&f(o,["preferenceOptimizationSpec"],k);const Y=c(i,["tuningDataStats"]);Y!=null&&f(o,["tuningDataStats"],Y);const W=c(i,["encryptionSpec"]);W!=null&&f(o,["encryptionSpec"],W);const G=c(i,["partnerModelTuningSpec"]);G!=null&&f(o,["partnerModelTuningSpec"],G);const K=c(i,["customBaseModel"]);K!=null&&f(o,["customBaseModel"],K);const ne=c(i,["experiment"]);ne!=null&&f(o,["experiment"],ne);const j=c(i,["labels"]);j!=null&&f(o,["labels"],j);const V=c(i,["outputUri"]);V!=null&&f(o,["outputUri"],V);const L=c(i,["pipelineJob"]);L!=null&&f(o,["pipelineJob"],L);const B=c(i,["serviceAccount"]);B!=null&&f(o,["serviceAccount"],B);const F=c(i,["tunedModelDisplayName"]);F!=null&&f(o,["tunedModelDisplayName"],F);const ie=c(i,["veoTuningSpec"]);return ie!=null&&f(o,["veoTuningSpec"],ie),o}function M1(i,e){const o={},l=c(i,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const r=c(i,["name"]);r!=null&&f(o,["name"],r);const u=c(i,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(i,["done"]);d!=null&&f(o,["done"],d);const h=c(i,["error"]);return h!=null&&f(o,["error"],h),o}function bg(i,e){const o={},l=c(i,["gcsUri"]);l!=null&&f(o,["validationDatasetUri"],l);const r=c(i,["vertexDatasetResource"]);return r!=null&&f(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D1 extends zn{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Vi(Pn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:r});return u.baseModel=void 0,await this.tuneInternal(u)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),u=await this.tuneMldevInternal(r);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:rc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=T1(e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>pc(v))}else{const g=S1(e);return h=le("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>AS(v))}}async listInternal(e){var o,l,r,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const g=A1(e);return h=le("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=x1(v),E=new ag;return Object.assign(E,S),E})}else{const g=_1(e);return h=le("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=w1(v),E=new ag;return Object.assign(E,S),E})}}async cancel(e){var o,l,r,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=h1(e);d=le("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=m1(e);d=le("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=v1(e,e);return u=le("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>pc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=y1(e);return u=le("tunedModels",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>M1(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I1{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const L1=1024*1024*8,U1=3,q1=1e3,P1=2,ya="x-goog-upload-status";async function B1(i,e,o){var l;const r=await wS(i,e,o),u=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[ya])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function z1(i,e,o){var l;const r=await wS(i,e,o),u=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[ya])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=jv(u),h=new Uc;return Object.assign(h,d),h}async function wS(i,e,o){var l,r;let u=0,d=0,h=new uc(new Response),y="upload";for(u=i.size;d<u;){const g=Math.min(L1,u-d),v=i.slice(d,d+g);d+g>=u&&(y+=", finalize");let S=0,E=q1;for(;S<U1&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((l=h==null?void 0:h.headers)===null||l===void 0)&&l[ya]));)S++,await H1(E),E=E*P1;if(d+=g,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[ya])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function G1(i){return{size:i.size,type:i.type}}function H1(i){return new Promise(e=>setTimeout(e,i))}class V1{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await B1(e,o,l)}async uploadToFileSearchStore(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await z1(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await G1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O1{create(e,o,l){return new k1(e,o,l)}}class k1{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg="x-goog-api-key";class F1{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Rg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Rg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q1="gl-node/";class J1{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=C_(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const r=new F1(this.apiKey);this.apiClient=new ab({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Q1+"web",uploader:new V1,downloader:new I1}),this.models=new xb(this.apiClient),this.live=new Tb(this.apiClient,r,new O1),this.batches=new ZA(this.apiClient),this.chats=new Iw(this.models,this.apiClient),this.caches=new Rw(this.apiClient),this.files=new Ow(this.apiClient),this.operations=new Nb(this.apiClient),this.authTokens=new kb(this.apiClient),this.tunings=new D1(this.apiClient),this.fileSearchStores=new d1(this.apiClient)}}const xS=()=>new J1({apiKey:"PLACEHOLDER_API_KEY"});async function Y1(i,e,o){var h,y,g,v;const l=e.openaiApiKey;let r=(h=e.openaiBaseUrl)==null?void 0:h.trim();const u=e.openaiModel||"gpt-3.5-turbo";if(!r)throw new Error("OpenAI Base URL is missing in settings. Please configure it (e.g., https://api.openai.com/v1).");/^https?:\/\//i.test(r)||(r=`https://${r}`),r=r.replace(/\/+$/,"");const d=`You are an empathetic, articulate, and observant writer. 
Your goal is to turn mundane notes into a meaningful narrative that feels personal and warm.
You MUST respond with a valid JSON object matching this schema:
${JSON.stringify(o,null,2)}
Do not wrap the JSON in markdown code blocks. Just return the raw JSON string.`;try{const S=await fetch(`${r}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({model:u,messages:[{role:"system",content:d},{role:"user",content:i}],temperature:.7,response_format:{type:"json_object"}})});if(!S.ok){const R=await S.text();throw new Error(`OpenAI API Error: ${S.status} - ${R}`)}const A=(v=(g=(y=(await S.json()).choices)==null?void 0:y[0])==null?void 0:g.message)==null?void 0:v.content;if(!A)throw new Error("Empty response from OpenAI provider");const M=A.replace(/^```(?:json)?\s*/,"").replace(/\s*```$/,"").trim();return JSON.parse(M)}catch(S){throw console.error("OpenAI Generation Error:",S),S.name==="TypeError"&&S.message==="Failed to fetch"?new Error("Connection failed. Check your Base URL. If you are using a browser, ensure the API endpoint supports CORS."):S}}async function $1(i,e,o,l){var E;const r=l.openaiApiKey;let u=(E=l.openaiBaseUrl)==null?void 0:E.trim();if(!u)throw new Error("OpenAI Base URL is missing.");/^https?:\/\//i.test(u)||(u=`https://${u}`),u=u.replace(/\/+$/,"");const d=atob(i),h=new Array(d.length);for(let A=0;A<d.length;A++)h[A]=d.charCodeAt(A);const y=new Uint8Array(h),g=new Blob([y],{type:e}),v=new FormData,S=e.split("/")[1]||"webm";v.append("file",g,`recording.${S}`),v.append("model","whisper-1"),o==="zh"?v.append("language","zh"):v.append("language","en");try{const A=await fetch(`${u}/audio/transcriptions`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:v});if(!A.ok){const R=await A.text();throw new Error(`OpenAI Transcription Error: ${A.status} - ${R}`)}return(await A.json()).text||""}catch(A){throw console.error("OpenAI Transcription Error:",A),A.name==="TypeError"&&A.message==="Failed to fetch"?new Error("Connection failed during transcription. Check Base URL and CORS."):A}}const K1=async(i,e,o="default",l)=>{if(i.length===0)throw new Error("No fragments to summarize.");const r=i.map(E=>{const A=new Date(E.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),M=E.tags&&E.tags.length>0?` [Tags: ${E.tags.join(", ")}]`:"";return`[${A}] ${E.content}${M}`}).join(`
`),u=e==="zh"?"IMPORTANT: Write the entire response (title, content, mood, reflection, tags) in Simplified Chinese (Mandarin).":"Write in English.";let d="";o!=="default"&&(d=`ADOPT A SPECIFIC TONE: The user explicitly requested a "${o}" writing style. Ensure the vocabulary, sentence structure, and emotional weight reflect this specific persona/vibe.`);const h=`
    Here are my raw fragmented notes from today:
    
    ${r}
    
    Please weave these fragments into a cohesive, beautifully written, first-person diary entry.
    Infer the underlying mood and themes. 
    Add a title that captures the essence of the day.
    Include a short "reflection" that synthesizes a takeaway or philosophical thought based on the events.
    Extract 3-5 relevant keywords/tags.

    ${d}

    ${u}
  `,y={type:St.OBJECT,properties:{title:{type:St.STRING,description:"A creative title for the diary entry"},content:{type:St.STRING,description:"The main body of the diary entry, rich in description and emotion."},mood:{type:St.STRING,description:"One or two words describing the overall mood (e.g., Melancholic, Productive, Serene)"},reflection:{type:St.STRING,description:"A profound or summarizing closing thought."},tags:{type:St.ARRAY,items:{type:St.STRING},description:"Key themes or topics from the day"}},required:["title","content","mood","reflection","tags"],propertyOrdering:["title","mood","content","reflection","tags"]};if(l&&l.provider==="openai")return Y1(h,l,y);const g=xS();let v;const S=3;for(let E=0;E<S;E++)try{const M=(await g.models.generateContent({model:"gemini-2.5-flash",contents:[{parts:[{text:h}]}],config:{responseMimeType:"application/json",responseSchema:y,systemInstruction:"You are an empathetic, articulate, and observant writer. Your goal is to turn mundane notes into a meaningful narrative that feels personal and warm."}})).text;if(!M)throw new Error("Empty response from AI");return JSON.parse(M)}catch(A){console.warn(`Attempt ${E+1} failed:`,A),v=A,E<S-1&&await new Promise(M=>setTimeout(M,1e3*Math.pow(2,E)))}throw console.error("Gemini Service Error after retries:",v),v},X1=async(i,e,o,l)=>{if(l&&l.provider==="openai")return $1(i,e,o,l);const r=xS(),u=o==="zh"?"Transcribe this audio directly into Simplified Chinese text. Do not add any explanations.":"Transcribe this audio directly into English text. Do not add any explanations.";try{return(await r.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:e,data:i}},{text:u}]}})).text||""}catch(d){throw console.error("Transcription Error:",d),d}},bo="fragment_diary_draft",Z1=({onAdd:i,language:e,apiConfig:o})=>{const[l,r]=de.useState(""),[u,d]=de.useState(""),[h,y]=de.useState(!1),[g,v]=de.useState(!1),[S,E]=de.useState(!1),[A,M]=de.useState(!1),R=de.useRef(null),k=de.useRef([]),Y=hi(e);de.useEffect(()=>{const B=localStorage.getItem(bo);if(B)try{const F=JSON.parse(B);(F.text&&F.text.trim()||F.tags&&F.tags.trim())&&M(!0)}catch(F){console.error("Failed to parse draft",F)}},[]),de.useEffect(()=>{if(A&&!l&&!u)return;if(A&&(l||u)&&M(!1),l.trim()||u.trim()){const F={text:l,tags:u};localStorage.setItem(bo,JSON.stringify(F))}else A||localStorage.removeItem(bo)},[l,u,A]);const W=()=>{const B=localStorage.getItem(bo);if(B)try{const F=JSON.parse(B);r(F.text||""),d(F.tags||""),F.tags&&F.tags.trim()&&y(!0),M(!1)}catch{}},G=()=>{localStorage.removeItem(bo),M(!1)},K=de.useCallback(B=>{if(B.preventDefault(),l.trim()){const F=u.split(",").map(ie=>ie.trim()).filter(ie=>ie.length>0);i(l,F),r(""),d(""),y(!1),localStorage.removeItem(bo)}},[l,u,i]),ne=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),K(B))},j=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({audio:!0}),F=new MediaRecorder(B);R.current=F,k.current=[],F.ondataavailable=ie=>{ie.data.size>0&&k.current.push(ie.data)},F.onstop=async()=>{const ie=new Blob(k.current,{type:"audio/webm"});B.getTracks().forEach(re=>re.stop()),await L(ie)},F.start(),v(!0)}catch(B){console.error("Error accessing microphone:",B),alert("Could not access microphone. Please check permissions.")}},V=()=>{R.current&&g&&(R.current.stop(),v(!1))},L=async B=>{E(!0);try{const F=new FileReader;F.readAsDataURL(B),F.onloadend=async()=>{const re=F.result.split(",")[1],ae=await X1(re,"audio/webm",e,o);ae&&r(Te=>Te?`${Te} ${ae}`:ae),E(!1)}}catch(F){console.error("Transcription failed",F),E(!1),alert(Y.transcriptionFailed)}};return _.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 mb-8 transition-shadow focus-within:shadow-md overflow-hidden",children:[A&&_.jsxs("div",{className:"px-4 py-2 bg-indigo-50 border-b border-indigo-100 flex items-center justify-between fade-in slide-in-from-top","data-state":"open",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-indigo-600",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h3.25a.75.75 0 00.75-.75v-3.25z",clipRule:"evenodd"})}),_.jsx("span",{className:"text-xs text-indigo-700 font-medium",children:Y.unsavedDraft})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:W,className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 hover:underline",children:Y.restore}),_.jsx("button",{onClick:G,className:"text-xs text-gray-400 hover:text-gray-600 hover:underline",children:Y.discard})]})]}),_.jsxs("form",{onSubmit:K,className:"flex flex-col",children:[_.jsx("textarea",{value:l,onChange:B=>r(B.target.value),onKeyDown:ne,placeholder:S?Y.transcribing:Y.placeholder,disabled:S,className:`w-full min-h-[100px] p-4 text-gray-700 placeholder-gray-400 bg-transparent outline-none resize-none font-sans text-base ${S?"animate-pulse":""}`,rows:3}),h&&_.jsx("div",{className:"px-4 pb-2 fade-in slide-in-from-top duration-200","data-state":"open",children:_.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-md px-2 border border-gray-200 focus-within:ring-2 focus-within:ring-indigo-100 focus-within:border-indigo-300 transition-all",children:[_.jsx("span",{className:"text-gray-400 text-sm",children:"#"}),_.jsx("input",{type:"text",value:u,onChange:B=>d(B.target.value),onKeyDown:ne,placeholder:Y.fragmentTagPlaceholder,className:"w-full py-2 bg-transparent border-none outline-none text-sm text-gray-600 placeholder-gray-400"})]})}),_.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50/50 border-t border-gray-50",children:[_.jsxs("div",{className:"flex-1 flex items-center gap-3 min-h-[24px]",children:[_.jsx("button",{type:"button",onClick:()=>y(!h),className:`text-gray-400 hover:text-indigo-600 transition-colors p-1 rounded-md hover:bg-indigo-50 ${h?"text-indigo-600 bg-indigo-50":""}`,title:"Add tags",children:_.jsx("span",{className:"font-bold text-lg",children:"#"})}),S&&_.jsx("span",{className:"text-xs text-indigo-500 font-medium animate-pulse bg-indigo-50 px-3 py-1 rounded-full",children:Y.transcribing})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{type:"button",onClick:g?V:j,disabled:S,className:`p-2 rounded-full transition-all flex items-center justify-center w-10 h-10 ${g?"bg-red-500 hover:bg-red-600 text-white animate-pulse shadow-md":"bg-gray-100 hover:bg-gray-200 text-gray-500 hover:text-indigo-600"}`,title:g?Y.stopRecording:Y.startRecording,children:g?_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:_.jsx("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-9a3 3 0 01-3-3v-9z",clipRule:"evenodd"})}):_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:[_.jsx("path",{d:"M8.25 4.5a3.75 3.75 0 117.5 0v8.25a3.75 3.75 0 11-7.5 0V4.5z"}),_.jsx("path",{d:"M6 10.5a.75.75 0 01.75.75v1.5a5.25 5.25 0 1010.5 0v-1.5a.75.75 0 011.5 0v1.5a6.751 6.751 0 01-6 6.709v2.291h3a.75.75 0 010 1.5h-7.5a.75.75 0 010-1.5h3v-2.291a6.751 6.751 0 01-6-6.709v-1.5A.75.75 0 016 10.5z"})]})}),_.jsx("button",{type:"submit",disabled:!l.trim()||g||S,className:`p-2 rounded-full transition-all flex items-center justify-center w-10 h-10 shadow-sm ${!l.trim()||g||S?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200"}`,"aria-label":Y.addNote,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]})]})]})]})},W1=({fragments:i,onDelete:e,onUpdate:o,language:l})=>{const r=de.useRef(null),[u,d]=de.useState(null),[h,y]=de.useState(null),[g,v]=de.useState(null),[S,E]=de.useState(""),[A,M]=de.useState(""),R=hi(l);de.useEffect(()=>{r.current&&(r.current.scrollTop=0)},[i.length]);const k=de.useMemo(()=>{const L=new Set;return i.forEach(B=>{var F;return(F=B.tags)==null?void 0:F.forEach(ie=>L.add(ie))}),Array.from(L).sort()},[i]),Y=de.useMemo(()=>{let L=i;return h&&(L=i.filter(B=>{var F;return(F=B.tags)==null?void 0:F.includes(h)})),[...L].sort((B,F)=>F.timestamp-B.timestamp)},[i,h]),W=L=>{d(L)},G=()=>{u&&(e(u),d(null))},K=()=>{d(null)},ne=L=>{var B;v(L.id),E(L.content),M(((B=L.tags)==null?void 0:B.join(", "))||"")},j=()=>{if(g&&S.trim()){const L=A.split(",").map(B=>B.trim()).filter(B=>B.length>0);o(g,S,L),v(null)}},V=()=>{v(null),E(""),M("")};return i.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 mb-3 opacity-50",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),_.jsx("p",{children:R.noNotes})]}):_.jsxs("div",{className:"flex-grow flex flex-col relative mb-6",children:[k.length>0&&_.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 px-1 fade-in slide-in-from-top duration-300","data-state":"open",children:[_.jsx("button",{onClick:()=>y(null),className:`px-3 py-1 rounded-full text-xs font-medium transition-all ${h===null?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:R.filterAll}),k.map(L=>_.jsxs("button",{onClick:()=>y(h===L?null:L),className:`px-3 py-1 rounded-full text-xs font-medium transition-all border ${h===L?"bg-indigo-100 text-indigo-700 border-indigo-200 shadow-sm":"bg-white text-gray-500 border-gray-200 hover:border-indigo-200 hover:text-indigo-600"}`,children:["#",L]},L))]}),_.jsxs("div",{className:"relative flex-grow",children:[_.jsx("div",{className:"absolute left-[19px] md:left-[50%] top-0 bottom-0 w-3.5 -translate-x-1/2 z-0 flex items-center justify-center",children:_.jsx("div",{className:"w-0.5 h-full bg-gray-200"})}),_.jsx("div",{ref:r,className:"space-y-6 relative z-10 max-h-[60vh] overflow-y-auto pr-2 scroll-smooth py-4",children:Y.length===0?_.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic bg-white/50 rounded-lg",children:["No fragments found with tag #",h]}):Y.map((L,B)=>{const ie=new Date(L.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),re=g===L.id,ae=B%2===0;return _.jsxs("div",{className:`flex md:flex-row flex-col items-start md:items-center group ${ae?"md:flex-row-reverse":""}`,children:[_.jsx("div",{className:`md:w-1/2 w-full flex ${ae?"md:justify-start md:pl-20":"md:justify-end md:pr-20"} pl-10 md:px-0 mb-1 md:mb-0`,children:_.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider font-sans md:text-sm",children:ie})}),_.jsx("div",{className:"absolute left-[19px] md:left-[50%] w-3.5 h-3.5 bg-gradient-to-br from-indigo-500 to-purple-600 border-2 border-white rounded-full -translate-x-1/2 shadow-md shadow-indigo-200 z-20 mt-1.5 md:mt-0 ring-2 ring-indigo-50"}),_.jsx("div",{className:`md:w-1/2 w-full pl-10 ${ae?"md:pr-10 md:pl-0":"md:pl-10"}`,children:re?_.jsxs("div",{className:"relative bg-white p-4 rounded-xl border-2 border-indigo-100 shadow-md z-20",children:[_.jsx("textarea",{value:S,onChange:Te=>E(Te.target.value),className:"w-full text-sm text-gray-700 border-none outline-none resize-none bg-transparent mb-3 font-sans md:text-base",rows:3,autoFocus:!0,placeholder:"Edit note..."}),_.jsxs("div",{className:"flex items-center gap-2 mb-3 bg-gray-50 rounded px-2 border border-gray-100",children:[_.jsx("span",{className:"text-gray-400 text-sm",children:"#"}),_.jsx("input",{value:A,onChange:Te=>M(Te.target.value),className:"w-full py-1 bg-transparent text-sm text-gray-600 outline-none",placeholder:R.fragmentTagPlaceholder})]}),_.jsxs("div",{className:"flex justify-end gap-2 border-t border-gray-50 pt-2",children:[_.jsx("button",{onClick:V,className:"text-xs font-medium px-3 py-1.5 rounded text-gray-500 hover:bg-gray-100",children:R.cancel}),_.jsx("button",{onClick:j,className:"text-xs font-medium px-3 py-1.5 rounded bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm",children:R.save})]})]}):_.jsxs("div",{className:"relative bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow group-hover:border-indigo-100",children:[_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm md:text-base",children:L.content}),L.tags&&L.tags.length>0&&_.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:L.tags.map((Te,Le)=>_.jsxs("span",{className:"text-xs text-indigo-500 bg-indigo-50 px-2 py-1 rounded-md md:text-sm",children:["#",Te]},Le))}),_.jsxs("div",{className:"absolute -top-4 right-3 flex items-center opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out translate-y-1 group-hover:translate-y-0 bg-white shadow-lg shadow-gray-200/50 border border-gray-100 rounded-full overflow-hidden z-10 hover:shadow-xl hover:shadow-gray-300/60",children:[_.jsx("button",{onClick:()=>ne(L),className:"p-2.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50/50 transition-colors border-r border-gray-100/50",title:R.edit,children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[_.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),_.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})}),_.jsx("button",{onClick:()=>W(L.id),className:"p-2.5 text-gray-400 hover:text-red-500 hover:bg-red-50/50 transition-colors",title:R.deleteNote,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})})]})]})})]},L.id)})})]}),u&&_.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/80 backdrop-blur-sm rounded-xl fade-in duration-200","data-state":"open",children:_.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-xl p-6 max-w-xs w-full transform scale-100",children:[_.jsx("h3",{className:"text-lg font-serif font-semibold text-gray-800 mb-2",children:R.deleteConfirmTitle}),_.jsx("p",{className:"text-sm text-gray-500 mb-6",children:R.deleteConfirmMessage}),_.jsxs("div",{className:"flex justify-end gap-3",children:[_.jsx("button",{onClick:K,className:"text-sm font-medium text-gray-600 hover:bg-gray-50 px-4 py-2 rounded-lg transition-colors",children:R.cancel}),_.jsx("button",{onClick:G,className:"text-sm font-medium bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 shadow-sm shadow-red-200 transition-colors",children:R.confirmDelete})]})]})})]})},j1=({entry:i,onBack:e,onUpdate:o,language:l})=>{const r=hi(l),u=l==="zh"?"zh-CN":"en-US",d=new Date().toLocaleDateString(u,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),[h,y]=de.useState(!1),[g,v]=de.useState(i),[S,E]=de.useState(i.tags.join(", "));de.useEffect(()=>{v(i),E(i.tags.join(", "))},[i]);const A=()=>{const R={...g,tags:S.split(",").map(k=>k.trim()).filter(k=>k.length>0)};o(R),y(!1)},M=()=>{v(i),E(i.tags.join(", ")),y(!1)};return _.jsxs("div",{className:"fade-in max-w-3xl mx-auto pb-20","data-state":"open",children:[_.jsxs("div",{className:"bg-paper border border-stone-100 shadow-xl rounded-sm p-8 md:p-12 relative overflow-hidden transition-all",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 opacity-30"}),_.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:h?_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:M,className:"text-xs font-medium px-3 py-1.5 rounded text-gray-500 hover:bg-gray-100 hover:text-gray-700",children:r.cancel}),_.jsx("button",{onClick:A,className:"text-xs font-medium px-3 py-1.5 rounded bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm",children:r.save})]}):_.jsx("button",{onClick:()=>y(!0),className:"p-2 text-gray-400 hover:text-indigo-600 rounded-full hover:bg-indigo-50 transition-colors",title:r.edit,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})}),h?_.jsxs("div",{className:"space-y-6 mt-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:r.moodLabel}),_.jsx("input",{type:"text",value:g.mood,onChange:R=>v({...g,mood:R.target.value}),className:"w-full p-2 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-sans text-sm"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:r.titleLabel}),_.jsx("input",{type:"text",value:g.title,onChange:R=>v({...g,title:R.target.value}),className:"w-full p-2 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-serif text-xl"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:r.contentLabel}),_.jsx("textarea",{value:g.content,onChange:R=>v({...g,content:R.target.value}),rows:10,className:"w-full p-3 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-serif text-base leading-relaxed"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:r.reflectionLabel}),_.jsx("textarea",{value:g.reflection,onChange:R=>v({...g,reflection:R.target.value}),rows:3,className:"w-full p-3 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-serif italic text-gray-600"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:r.tagsLabel}),_.jsx("input",{type:"text",value:S,onChange:R=>E(R.target.value),className:"w-full p-2 border border-gray-200 rounded focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none font-sans text-sm"})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"mb-8 text-center mt-4",children:[_.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-xs font-medium uppercase tracking-wider mb-4",children:i.mood}),_.jsx("h2",{className:"font-serif text-3xl md:text-4xl text-gray-900 mb-2 leading-tight",children:i.title}),_.jsx("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm font-sans",children:_.jsx("span",{children:d})})]}),_.jsx("div",{className:"prose prose-stone prose-lg max-w-none font-serif leading-loose text-gray-800 first-letter:text-5xl first-letter:font-serif first-letter:float-left first-letter:mr-2 first-letter:mt-[-4px] text-justify",children:i.content.split(`
`).map((R,k)=>R.trim()&&_.jsx("p",{className:"mb-4",children:R},k))}),_.jsxs("div",{className:"mt-10 pt-8 border-t border-gray-200",children:[_.jsx("h3",{className:"text-sm font-sans font-bold text-gray-400 uppercase tracking-widest mb-3",children:r.reflectionLabel}),_.jsxs("p",{className:"font-serif italic text-gray-600 text-lg bg-gray-50 p-6 rounded-r-lg border-l-4 border-indigo-300",children:['"',i.reflection,'"']})]}),_.jsx("div",{className:"mt-8 flex flex-wrap gap-2",children:i.tags.map(R=>_.jsxs("span",{className:"text-xs text-gray-500 px-2 py-1 border border-gray-200 rounded hover:bg-gray-50 cursor-default",children:["#",R]},R))})]})]}),_.jsx("div",{className:"mt-8 text-center",children:_.jsxs("button",{onClick:e,className:"text-gray-500 hover:text-gray-900 text-sm font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),r.backToFragments]})})]})},NS=i=>{const e=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),l=String(i.getDate()).padStart(2,"0");return`${e}-${o}-${l}`},gc=()=>NS(new Date),Gl=(i,e="en")=>{const[o,l,r]=i.split("-").map(Number),u=new Date(o,l-1,r),d=new Date;d.setHours(0,0,0,0);const h=new Date(d);h.setDate(d.getDate()-1);const y=Wv[e];if(u.getTime()===d.getTime())return y.today;if(u.getTime()===h.getTime())return y.yesterday;const g=e==="zh"?"zh-CN":"en-US";return u.toLocaleDateString(g,{weekday:"long",month:"short",day:"numeric"})},Mg=(i,e)=>{const[o,l,r]=i.split("-").map(Number),u=new Date(o,l-1,r);return u.setDate(u.getDate()+e),NS(u)},eR=({selectedDate:i,onSelect:e,maxDate:o,language:l,onClose:r})=>{const[u,d,h]=i.split("-").map(Number),[y,g]=de.useState(new Date(u,d-1,1)),v=l==="zh"?["","","","","","",""]:["Su","Mo","Tu","We","Th","Fr","Sa"],S=l==="zh"?["","","","","","","","","","","",""]:["January","February","March","April","May","June","July","August","September","October","November","December"],E=(L,B)=>new Date(L,B+1,0).getDate(),A=(L,B)=>new Date(L,B,1).getDay(),M=y.getFullYear(),R=y.getMonth(),k=E(M,R),Y=A(M,R),W=L=>`${M}-${String(R+1).padStart(2,"0")}-${String(L).padStart(2,"0")}`===i,G=L=>`${M}-${String(R+1).padStart(2,"0")}-${String(L).padStart(2,"0")}`>o,K=L=>{const B=new Date;return B.getDate()===L&&B.getMonth()===R&&B.getFullYear()===M},ne=L=>{L.stopPropagation(),g(new Date(M,R-1,1))},j=L=>{L.stopPropagation(),g(new Date(M,R+1,1))},V=L=>{if(G(L))return;const B=`${M}-${String(R+1).padStart(2,"0")}-${String(L).padStart(2,"0")}`;e(B),r()};return _.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 p-3 w-64 z-50 animate-in zoom-in-95 duration-200 select-none",onClick:L=>L.stopPropagation(),children:[_.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[_.jsx("button",{onClick:ne,className:"p-1 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})}),_.jsxs("div",{className:"font-serif font-semibold text-sm text-gray-800",children:[S[R]," ",M]}),_.jsx("button",{onClick:j,className:"p-1 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})})]}),_.jsx("div",{className:"grid grid-cols-7 mb-1",children:v.map(L=>_.jsx("div",{className:"text-center text-[10px] font-medium text-gray-400 py-1",children:L},L))}),_.jsxs("div",{className:"grid grid-cols-7 gap-0.5",children:[Array.from({length:Y}).map((L,B)=>_.jsx("div",{},`empty-${B}`)),Array.from({length:k}).map((L,B)=>{const F=B+1,ie=W(F),re=G(F),ae=K(F);return _.jsxs("button",{onClick:()=>V(F),disabled:re,className:`
                        h-8 w-8 rounded-full flex items-center justify-center text-xs transition-all relative mx-auto
                        ${ie?"bg-indigo-600 text-white shadow-sm font-bold":re?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:bg-gray-100"}
                        ${ae&&!ie?"bg-indigo-50 text-indigo-700 font-semibold":""}
                    `,children:[F,ae&&!ie&&_.jsx("span",{className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 w-0.5 h-0.5 bg-indigo-400 rounded-full"})]},F)})]}),_.jsx("div",{className:"mt-3 pt-2 border-t border-gray-50 flex justify-center",children:_.jsx("button",{onClick:()=>{const L=new Date,B=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}-${String(L.getDate()).padStart(2,"0")}`;e(B),r()},className:"text-xs font-medium text-indigo-500 hover:text-indigo-700 transition-colors",children:l==="zh"?"":"Jump to Today"})})]})},tR=({currentDate:i,onPrev:e,onNext:o,canGoNext:l,language:r,onDateSelect:u})=>{const d=gc(),[h,y]=de.useState(!1),g=de.useRef(null);return de.useEffect(()=>{const v=S=>{g.current&&!g.current.contains(S.target)&&y(!1)};return h&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[h]),_.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 mb-4 select-none relative z-20",children:[_.jsx("button",{onClick:e,className:"p-1.5 text-gray-400 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-all focus:outline-none focus:ring-2 focus:ring-gray-200 shrink-0 active:scale-95","aria-label":"Previous day",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),_.jsxs("div",{ref:g,className:`
            relative group flex items-center justify-center gap-2 px-4 py-1.5 rounded-full transition-all text-center cursor-pointer border border-transparent min-w-[160px]
            ${h?"bg-white shadow-sm border-indigo-100 text-indigo-600":"hover:bg-white/60 hover:shadow-sm text-gray-700"}
        `,onClick:()=>y(!h),children:[_.jsxs("div",{className:"flex items-center gap-2 relative z-0",children:[_.jsx("h2",{className:"text-xl font-serif font-semibold whitespace-nowrap",children:Gl(i,r)}),_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:`w-3.5 h-3.5 transition-transform duration-200 ${h?"rotate-180":"text-gray-400 group-hover:text-indigo-600"}`,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),h&&_.jsx(eR,{selectedDate:i,maxDate:d,onSelect:u,language:r,onClose:()=>y(!1)})]}),_.jsx("button",{onClick:o,disabled:!l,className:`p-1.5 rounded-full transition-all focus:outline-none focus:ring-2 focus:ring-gray-200 shrink-0 active:scale-95 ${l?"text-gray-400 hover:text-gray-900 hover:bg-gray-100":"text-gray-200 cursor-not-allowed"}`,"aria-label":"Next day",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]})},nR=({isOpen:i,onClose:e,dates:o,onSelectDate:l,activeDate:r,language:u})=>{const d=hi(u);return i?_.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[_.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity",onClick:e}),_.jsxs("div",{className:"relative w-full max-w-sm bg-white shadow-2xl h-full overflow-y-auto slide-in-from-right duration-300 flex flex-col","data-state":"open",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-white sticky top-0 z-10",children:[_.jsx("h2",{className:"font-serif text-xl font-semibold text-gray-800",children:d.historyTitle}),_.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-700 rounded-full hover:bg-gray-100",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"p-4 space-y-3",children:[o.length===0&&_.jsx("p",{className:"text-center text-gray-400 py-8",children:d.noEntries}),o.map(h=>{const y=h===r;return _.jsxs("button",{onClick:()=>{l(h),e()},className:`w-full text-left p-4 rounded-xl transition-all border ${y?"bg-indigo-50 border-indigo-200 shadow-sm ring-1 ring-indigo-200":"bg-white border-gray-100 hover:border-gray-200 hover:shadow-sm"}`,children:[_.jsxs("div",{className:"flex justify-between items-start mb-1",children:[_.jsx("span",{className:`font-semibold ${y?"text-indigo-900":"text-gray-700"}`,children:Gl(h,u)}),_.jsx("span",{className:"text-xs text-gray-400 font-mono",children:h})]}),_.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Click to view"})]},h)})]})]})]}):null},iR=({results:i,query:e,onSelect:o,language:l})=>{const r=hi(l);return i.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400 fade-in","data-state":"open",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 mb-4 text-gray-200",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),_.jsxs("p",{className:"text-lg font-medium text-gray-500",children:[r.noResultsFound,' "',e,'"']})]}):_.jsxs("div",{className:"fade-in duration-500 pb-12","data-state":"open",children:[_.jsxs("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})}),r.searchResults," (",i.length,")"]}),_.jsx("div",{className:"space-y-4",children:i.map((u,d)=>_.jsxs("button",{onClick:()=>o(u.date),className:"w-full text-left bg-white p-5 rounded-xl border border-gray-100 shadow-sm hover:shadow-md hover:border-indigo-200 transition-all group",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-indigo-600 font-semibold text-sm group-hover:underline",children:Gl(u.date,l)}),_.jsx("span",{className:"text-xs text-gray-400",children:u.date})]}),_.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full font-medium uppercase tracking-wider ${u.type==="diary"?"bg-purple-50 text-purple-700":"bg-gray-100 text-gray-600"}`,children:u.type==="diary"?r.diaryCreated:r.fragment})]}),_.jsxs("div",{className:"mb-2",children:[_.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase mr-2",children:[u.matchField,":"]}),_.jsx("span",{className:"text-gray-800 font-medium text-sm font-serif",children:u.preview})]}),_.jsxs("div",{className:"text-xs text-gray-400 italic flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx("span",{children:"Go to entry"}),_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:_.jsx("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z",clipRule:"evenodd"})})]})]},`${u.date}-${d}`))})]})},oR=({isOpen:i,onClose:e,data:o,onImport:l,language:r,apiConfig:u,onSaveConfig:d})=>{const h=hi(r),y=de.useRef(null),[g,v]=de.useState("idle"),[S,E]=de.useState(u),[A,M]=de.useState(!1);if(de.useEffect(()=>{i&&(E(u),M(!1),v("idle"))},[i,u]),!i)return null;const R=()=>{d(S),M(!0),setTimeout(()=>M(!1),3e3)},k=()=>{if(!o){alert("Export functionality temporarily unavailable");return}const G=JSON.stringify(o,null,2),K=new Blob([G],{type:"application/json"}),ne=URL.createObjectURL(K),j=document.createElement("a");j.href=ne,j.download=`fragment-diary-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j)},Y=()=>{if(!o){alert("Export functionality temporarily unavailable");return}let G=`# Fragment to Diary Export
Generated on ${new Date().toLocaleDateString()}

`;Object.keys(o).sort().reverse().forEach(L=>{const B=o[L],F=B.diaryEntry,ie=B.fragments;(!ie||ie.length===0)&&!F||(G+=`## ${L}

`,F&&(G+=`### ${h.diaryCreated}: ${F.title}
`,G+=`**${h.moodLabel}:** ${F.mood} | **${h.tagsLabel}:** ${F.tags.join(", ")}

`,G+=`${F.content}

`,G+=`> *${h.reflectionLabel}: ${F.reflection}*

`),ie&&ie.length>0&&(G+=`### ${h.fragments}
`,[...ie].sort((ae,Te)=>ae.timestamp-Te.timestamp).forEach(ae=>{let Le=`- **${new Date(ae.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}**: ${ae.content}`;ae.tags&&ae.tags.length>0&&(Le+=` _(#${ae.tags.join(", #")})_`),G+=`${Le}
`}),G+=`
`),G+=`---

`)});const ne=new Blob([G],{type:"text/markdown"}),j=URL.createObjectURL(ne),V=document.createElement("a");V.href=j,V.download=`fragment-diary-export-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(V),V.click(),document.body.removeChild(V)},W=G=>{var j;const K=(j=G.target.files)==null?void 0:j[0];if(!K)return;const ne=new FileReader;ne.onload=V=>{var L;try{const B=(L=V.target)==null?void 0:L.result,F=JSON.parse(B);typeof F=="object"&&F!==null&&!Array.isArray(F)&&Object.values(F).every(ae=>ae&&Array.isArray(ae.fragments)&&(ae.diaryEntry===null||typeof ae.diaryEntry=="object"))?(l(F),v("success"),setTimeout(()=>v("idle"),3e3)):v("error")}catch(B){console.error(B),v("error")}},ne.readAsText(K),G.target.value=""};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm fade-in duration-200","data-state":"open",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative zoom-in-95 max-h-[90vh] overflow-y-auto custom-scrollbar","data-state":"open",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-gray-100 pb-4 sticky top-0 bg-white z-10",children:[_.jsx("h2",{className:"text-xl font-serif font-semibold text-gray-800",children:h.settings}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:h.aiConfig}),_.jsxs("div",{className:"p-5 border border-gray-100 rounded-xl bg-gray-50/50 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5",children:h.provider}),_.jsxs("select",{value:S.provider,onChange:G=>E({...S,provider:G.target.value}),className:"w-full p-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500",children:[_.jsx("option",{value:"gemini",children:h.gemini}),_.jsx("option",{value:"openai",children:h.openai})]})]}),S.provider==="openai"&&_.jsxs("div",{className:"space-y-3 fade-in slide-in-from-top","data-state":"open",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5",children:h.baseUrl}),_.jsx("input",{type:"text",value:S.openaiBaseUrl,onChange:G=>E({...S,openaiBaseUrl:G.target.value}),placeholder:"https://api.openai.com/v1",className:"w-full p-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"}),_.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Example: https://api.openai.com/v1 (Ensure CORS is enabled if connecting from browser)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5",children:h.apiKey}),_.jsx("input",{type:"password",value:S.openaiApiKey,onChange:G=>E({...S,openaiApiKey:G.target.value}),placeholder:"sk-...",className:"w-full p-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1.5",children:h.modelName}),_.jsx("input",{type:"text",value:S.openaiModel,onChange:G=>E({...S,openaiModel:G.target.value}),placeholder:"gpt-3.5-turbo",className:"w-full p-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"})]})]}),_.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[_.jsx("button",{onClick:R,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm shadow-indigo-200",children:h.saveConfig}),A&&_.jsxs("span",{className:"text-xs text-green-600 font-medium flex items-center gap-1 fade-in","data-state":"open",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),h.configSaved]})]})]})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:h.exportData}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-indigo-100 transition-colors flex items-center justify-between group",children:[_.jsxs("div",{className:"mr-4",children:[_.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:h.json}),_.jsx("div",{className:"text-xs text-gray-500",children:h.exportJsonDesc})]}),_.jsxs("button",{onClick:k,className:"shrink-0 bg-gray-50 text-gray-600 hover:bg-indigo-600 hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),h.exportButton]})]}),_.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl hover:border-indigo-100 transition-colors flex items-center justify-between group",children:[_.jsxs("div",{className:"mr-4",children:[_.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:h.markdown}),_.jsx("div",{className:"text-xs text-gray-500",children:h.exportMdDesc})]}),_.jsxs("button",{onClick:Y,className:"shrink-0 bg-gray-50 text-gray-600 hover:bg-indigo-600 hover:text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),h.exportButton]})]})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:h.importData}),_.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[_.jsx("div",{className:"text-sm text-gray-600 mb-4",children:h.importDesc}),_.jsx("input",{type:"file",ref:y,onChange:W,accept:".json",className:"hidden"}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:()=>{var G;return(G=y.current)==null?void 0:G.click()},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm shadow-indigo-200",children:h.importButton}),g==="success"&&_.jsxs("span",{className:"text-xs text-green-600 font-medium flex items-center gap-1 fade-in","data-state":"open",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),h.importSuccess]}),g==="error"&&_.jsx("span",{className:"text-xs text-red-500 font-medium fade-in","data-state":"open",children:h.importError})]})]})]})]})})};var mt=(i=>(i.COMPOSING="COMPOSING",i.GENERATING="GENERATING",i.READING="READING",i.ERROR="ERROR",i.SEARCH="SEARCH",i))(mt||{});/*! Capacitor: https://capacitorjs.com/ - MIT License */var qo;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(qo||(qo={}));class ic extends Error{constructor(e,o,l){super(e),this.message=e,this.code=o,this.data=l}}const lR=i=>{var e,o;return i!=null&&i.androidBridge?"android":!((o=(e=i==null?void 0:i.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||o===void 0)&&o.bridge?"ios":"web"},sR=i=>{const e=i.CapacitorCustomPlatform||null,o=i.Capacitor||{},l=o.Plugins=o.Plugins||{},r=()=>e!==null?e.name:lR(i),u=()=>r()!=="web",d=S=>{const E=g.get(S);return!!(E!=null&&E.platforms.has(r())||h(S))},h=S=>{var E;return(E=o.PluginHeaders)===null||E===void 0?void 0:E.find(A=>A.name===S)},y=S=>i.console.error(S),g=new Map,v=(S,E={})=>{const A=g.get(S);if(A)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),A.proxy;const M=r(),R=h(S);let k;const Y=async()=>(!k&&M in E?k=typeof E[M]=="function"?k=await E[M]():k=E[M]:e!==null&&!k&&"web"in E&&(k=typeof E.web=="function"?k=await E.web():k=E.web),k),W=(L,B)=>{var F,ie;if(R){const re=R==null?void 0:R.methods.find(ae=>B===ae.name);if(re)return re.rtype==="promise"?ae=>o.nativePromise(S,B.toString(),ae):(ae,Te)=>o.nativeCallback(S,B.toString(),ae,Te);if(L)return(F=L[B])===null||F===void 0?void 0:F.bind(L)}else{if(L)return(ie=L[B])===null||ie===void 0?void 0:ie.bind(L);throw new ic(`"${S}" plugin is not implemented on ${M}`,qo.Unimplemented)}},G=L=>{let B;const F=(...ie)=>{const re=Y().then(ae=>{const Te=W(ae,L);if(Te){const Le=Te(...ie);return B=Le==null?void 0:Le.remove,Le}else throw new ic(`"${S}.${L}()" is not implemented on ${M}`,qo.Unimplemented)});return L==="addListener"&&(re.remove=async()=>B()),re};return F.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:L,writable:!1,configurable:!1}),F},K=G("addListener"),ne=G("removeListener"),j=(L,B)=>{const F=K({eventName:L},B),ie=async()=>{const ae=await F;ne({eventName:L,callbackId:ae},B)},re=new Promise(ae=>F.then(()=>ae({remove:ie})));return re.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ie()},re},V=new Proxy({},{get(L,B){switch(B){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return R?j:K;case"removeListener":return ne;default:return G(B)}}});return l[S]=V,g.set(S,{name:S,proxy:V,platforms:new Set([...Object.keys(E),...R?[M]:[]])}),V};return o.convertFileSrc||(o.convertFileSrc=S=>S),o.getPlatform=r,o.handleError=y,o.isNativePlatform=u,o.isPluginAvailable=d,o.registerPlugin=v,o.Exception=ic,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o},aR=i=>i.Capacitor=sR(i),va=aR(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Hc=va.registerPlugin;class bS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,o){let l=!1;this.listeners[e]||(this.listeners[e]=[],l=!0),this.listeners[e].push(o);const u=this.windowListeners[e];u&&!u.registered&&this.addWindowListener(u),l&&this.sendRetainedArgumentsForEvent(e);const d=async()=>this.removeListener(e,o);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,o,l){const r=this.listeners[e];if(!r){if(l){let u=this.retainedEventArguments[e];u||(u=[]),u.push(o),this.retainedEventArguments[e]=u}return}r.forEach(u=>u(o))}hasListeners(e){var o;return!!(!((o=this.listeners[e])===null||o===void 0)&&o.length)}registerWindowListener(e,o){this.windowListeners[o]={registered:!1,windowEventName:e,pluginEventName:o,handler:l=>{this.notifyListeners(o,l)}}}unimplemented(e="not implemented"){return new va.Exception(e,qo.Unimplemented)}unavailable(e="not available"){return new va.Exception(e,qo.Unavailable)}async removeListener(e,o){const l=this.listeners[e];if(!l)return;const r=l.indexOf(o);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const o=this.retainedEventArguments[e];o&&(delete this.retainedEventArguments[e],o.forEach(l=>{this.notifyListeners(e,l)}))}}const Dg=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ig=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class rR extends bS{async getCookies(){const e=document.cookie,o={};return e.split(";").forEach(l=>{if(l.length<=0)return;let[r,u]=l.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=Ig(r).trim(),u=Ig(u).trim(),o[r]=u}),o}async setCookie(e){try{const o=Dg(e.key),l=Dg(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,u=(e.path||"/").replace("path=",""),d=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${o}=${l||""}${r}; path=${u}; ${d};`}catch(o){return Promise.reject(o)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const o of e)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Hc("CapacitorCookies",{web:()=>new rR});const uR=async i=>new Promise((e,o)=>{const l=new FileReader;l.onload=()=>{const r=l.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},l.onerror=r=>o(r),l.readAsDataURL(i)}),cR=(i={})=>{const e=Object.keys(i);return Object.keys(i).map(r=>r.toLocaleLowerCase()).reduce((r,u,d)=>(r[u]=i[e[d]],r),{})},fR=(i,e=!0)=>i?Object.entries(i).reduce((l,r)=>{const[u,d]=r;let h,y;return Array.isArray(d)?(y="",d.forEach(g=>{h=e?encodeURIComponent(g):g,y+=`${u}=${h}&`}),y.slice(0,-1)):(h=e?encodeURIComponent(d):d,y=`${u}=${h}`),`${l}&${y}`},"").substr(1):null,dR=(i,e={})=>{const o=Object.assign({method:i.method||"GET",headers:i.headers},e),r=cR(i.headers)["content-type"]||"";if(typeof i.data=="string")o.body=i.data;else if(r.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[d,h]of Object.entries(i.data||{}))u.set(d,h);o.body=u.toString()}else if(r.includes("multipart/form-data")||i.data instanceof FormData){const u=new FormData;if(i.data instanceof FormData)i.data.forEach((h,y)=>{u.append(y,h)});else for(const h of Object.keys(i.data))u.append(h,i.data[h]);o.body=u;const d=new Headers(o.headers);d.delete("content-type"),o.headers=d}else(r.includes("application/json")||typeof i.data=="object")&&(o.body=JSON.stringify(i.data));return o};class mR extends bS{async request(e){const o=dR(e,e.webFetchExtra),l=fR(e.params,e.shouldEncodeUrlParams),r=l?`${e.url}?${l}`:e.url,u=await fetch(r,o),d=u.headers.get("content-type")||"";let{responseType:h="text"}=u.ok?e:{};d.includes("application/json")&&(h="json");let y,g;switch(h){case"arraybuffer":case"blob":g=await u.blob(),y=await uR(g);break;case"json":y=await u.json();break;case"document":case"text":default:y=await u.text()}const v={};return u.headers.forEach((S,E)=>{v[E]=S}),{data:y,headers:v,status:u.status,url:u.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Hc("CapacitorHttp",{web:()=>new mR});const hR="modulepreload",pR=function(i,e){return new URL(i,e).href},Lg={},gR=function(e,o,l){let r=Promise.resolve();if(o&&o.length>0){let d=function(v){return Promise.all(v.map(S=>Promise.resolve(S).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const h=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),g=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));r=d(o.map(v=>{if(v=pR(v,l),v in Lg)return;Lg[v]=!0;const S=v.endsWith(".css"),E=S?'[rel="stylesheet"]':"";if(!!l)for(let R=h.length-1;R>=0;R--){const k=h[R];if(k.href===v&&(!S||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${E}`))return;const M=document.createElement("link");if(M.rel=S?"stylesheet":hR,S||(M.as="script"),M.crossOrigin="",M.href=v,g&&M.setAttribute("nonce",g),document.head.appendChild(M),S)return new Promise((R,k)=>{M.addEventListener("load",R),M.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return r.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})};class yR{constructor(e){this.sqlite=e,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToStore(e){try{return await this.sqlite.saveToStore({database:e}),Promise.resolve()}catch(o){return Promise.reject(o)}}async saveToLocalDisk(e){try{return await this.sqlite.saveToLocalDisk({database:e}),Promise.resolve()}catch(o){return Promise.reject(o)}}async getFromLocalDiskToStore(e){const o=e??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:o}),Promise.resolve()}catch(l){return Promise.reject(l)}}async echo(e){try{const o=await this.sqlite.echo({value:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async isSecretStored(){try{const e=await this.sqlite.isSecretStored();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async setEncryptionSecret(e){try{return await this.sqlite.setEncryptionSecret({passphrase:e}),Promise.resolve()}catch(o){return Promise.reject(o)}}async changeEncryptionSecret(e,o){try{return await this.sqlite.changeEncryptionSecret({passphrase:e,oldpassphrase:o}),Promise.resolve()}catch(l){return Promise.reject(l)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(e){return Promise.reject(e)}}async checkEncryptionSecret(e){try{const o=await this.sqlite.checkEncryptionSecret({passphrase:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async addUpgradeStatement(e,o){try{return e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:e,upgrade:o}),Promise.resolve()}catch(l){return Promise.reject(l)}}async createConnection(e,o,l,r,u){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.createConnection({database:e,encrypted:o,mode:l,version:r,readonly:u});const d=new Ug(e,u,this.sqlite),h=u?`RO_${e}`:`RW_${e}`;return this._connectionDict.set(h,d),Promise.resolve(d)}catch(d){return Promise.reject(d)}}async closeConnection(e,o){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.closeConnection({database:e,readonly:o});const l=o?`RO_${e}`:`RW_${e}`;return this._connectionDict.delete(l),Promise.resolve()}catch(l){return Promise.reject(l)}}async isConnection(e,o){const l={};e.endsWith(".db")&&(e=e.slice(0,-3));const r=o?`RO_${e}`:`RW_${e}`;return l.result=this._connectionDict.has(r),Promise.resolve(l)}async retrieveConnection(e,o){e.endsWith(".db")&&(e=e.slice(0,-3));const l=o?`RO_${e}`:`RW_${e}`;if(this._connectionDict.has(l)){const r=this._connectionDict.get(l);return typeof r<"u"?Promise.resolve(r):Promise.reject(`Connection ${e} is undefined`)}else return Promise.reject(`Connection ${e} does not exist`)}async getNCDatabasePath(e,o){try{const l=await this.sqlite.getNCDatabasePath({path:e,database:o});return Promise.resolve(l)}catch(l){return Promise.reject(l)}}async createNCConnection(e,o){try{await this.sqlite.createNCConnection({databasePath:e,version:o});const l=new Ug(e,!0,this.sqlite),r=`RO_${e})`;return this._connectionDict.set(r,l),Promise.resolve(l)}catch(l){return Promise.reject(l)}}async closeNCConnection(e){try{await this.sqlite.closeNCConnection({databasePath:e});const o=`RO_${e})`;return this._connectionDict.delete(o),Promise.resolve()}catch(o){return Promise.reject(o)}}async isNCConnection(e){const o={},l=`RO_${e})`;return o.result=this._connectionDict.has(l),Promise.resolve(o)}async retrieveNCConnection(e){if(this._connectionDict.has(e)){const o=`RO_${e})`,l=this._connectionDict.get(o);return typeof l<"u"?Promise.resolve(l):Promise.reject(`Connection ${e} is undefined`)}else return Promise.reject(`Connection ${e} does not exist`)}async isNCDatabase(e){try{const o=await this.sqlite.isNCDatabase({databasePath:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const e=new Map;try{for(const o of this._connectionDict.keys()){const l=o.substring(3),r=o.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:l,readonly:r}),e.set(o,null)}for(const o of e.keys())this._connectionDict.delete(o);return Promise.resolve()}catch(o){return Promise.reject(o)}}async checkConnectionsConsistency(){try{const e=[...this._connectionDict.keys()],o=[],l=[];for(const u of e)o.push(u.substring(0,2)),l.push(u.substring(3));const r=await this.sqlite.checkConnectionsConsistency({dbNames:l,openModes:o});return r.result||(this._connectionDict=new Map),Promise.resolve(r)}catch(e){return this._connectionDict=new Map,Promise.reject(e)}}async importFromJson(e){try{const o=await this.sqlite.importFromJson({jsonstring:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async isJsonValid(e){try{const o=await this.sqlite.isJsonValid({jsonstring:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async copyFromAssets(e){const o=e??!0;try{return await this.sqlite.copyFromAssets({overwrite:o}),Promise.resolve()}catch(l){return Promise.reject(l)}}async getFromHTTPRequest(e,o){const l=o??!0;try{return await this.sqlite.getFromHTTPRequest({url:e,overwrite:l}),Promise.resolve()}catch(r){return Promise.reject(r)}}async isDatabaseEncrypted(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const o=await this.sqlite.isDatabaseEncrypted({database:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async isInConfigEncryption(){try{const e=await this.sqlite.isInConfigEncryption();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigBiometricAuth(){try{const e=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDatabase(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const o=await this.sqlite.isDatabase({database:e});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async getDatabaseList(){try{const o=(await this.sqlite.getDatabaseList()).values;o.sort();const l={values:o};return Promise.resolve(l)}catch(e){return Promise.reject(e)}}async getMigratableDbList(e){const o=e||"default";try{const l=await this.sqlite.getMigratableDbList({folderPath:o});return Promise.resolve(l)}catch(l){return Promise.reject(l)}}async addSQLiteSuffix(e,o){const l=e||"default",r=o||[];try{const u=await this.sqlite.addSQLiteSuffix({folderPath:l,dbNameList:r});return Promise.resolve(u)}catch(u){return Promise.reject(u)}}async deleteOldDatabases(e,o){const l=e||"default",r=o||[];try{const u=await this.sqlite.deleteOldDatabases({folderPath:l,dbNameList:r});return Promise.resolve(u)}catch(u){return Promise.reject(u)}}async moveDatabasesAndAddSuffix(e,o){const l=e||"default",r=o||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:l,dbNameList:r})}}class Ug{constructor(e,o,l){this.dbName=e,this.readonly=o,this.sqlite=l}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async beginTransaction(){try{const e=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async commitTransaction(){try{const e=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async rollbackTransaction(){try{const e=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTransactionActive(){try{const e=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async loadExtension(e){try{return await this.sqlite.loadExtension({database:this.dbName,path:e,readonly:this.readonly}),Promise.resolve()}catch(o){return Promise.reject(o)}}async enableLoadExtension(e){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:e,readonly:this.readonly}),Promise.resolve()}catch(o){return Promise.reject(o)}}async getUrl(){try{const e=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getVersion(){try{const e=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getTableList(){try{const e=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async execute(e,o=!0,l=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const r=await this.sqlite.execute({database:this.dbName,statements:e,transaction:o,readonly:!1,isSQL92:l});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}}async query(e,o,l=!0){let r;try{return o&&o.length>0?r=await this.sqlite.query({database:this.dbName,statement:e,values:o,readonly:this.readonly,isSQL92:!0}):r=await this.sqlite.query({database:this.dbName,statement:e,values:[],readonly:this.readonly,isSQL92:l}),r=await this.reorderRows(r),Promise.resolve(r)}catch(u){return Promise.reject(u)}}async run(e,o,l=!0,r="no",u=!0){let d;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(o&&o.length>0?d=await this.sqlite.run({database:this.dbName,statement:e,values:o,transaction:l,readonly:!1,returnMode:r,isSQL92:!0}):d=await this.sqlite.run({database:this.dbName,statement:e,values:[],transaction:l,readonly:!1,returnMode:r,isSQL92:u}),d.changes=await this.reorderRows(d.changes),Promise.resolve(d))}catch(h){return Promise.reject(h)}}async executeSet(e,o=!0,l="no",r=!0){let u;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(u=await this.sqlite.executeSet({database:this.dbName,set:e,transaction:o,readonly:!1,returnMode:l,isSQL92:r}),u.changes=await this.reorderRows(u.changes),Promise.resolve(u))}catch(d){return Promise.reject(d)}}async isExists(){try{const e=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTable(e){try{const o=await this.sqlite.isTableExists({database:this.dbName,table:e,readonly:this.readonly});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async isDBOpen(){try{const e=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const e=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(e)}}catch(e){return Promise.reject(e)}}async setSyncDate(e){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:e,readonly:!1}),Promise.resolve())}catch(o){return Promise.reject(o)}}async getSyncDate(){try{const e=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let o="";return e.syncDate>0&&(o=new Date(e.syncDate*1e3).toISOString()),Promise.resolve(o)}catch(e){return Promise.reject(e)}}async exportToJson(e,o=!1){try{const l=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:e,readonly:this.readonly,encrypted:o});return Promise.resolve(l)}catch(l){return Promise.reject(l)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async executeTransaction(e,o=!0){let l=0,r=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),r=await this.sqlite.isTransactionActive({database:this.dbName}),!r)return Promise.reject("After Begin Transaction, no transaction active");try{for(const h of e){if(typeof h!="object"||!("statement"in h))throw new Error("Error a task.statement must be provided");if("values"in h&&h.values&&h.values.length>0){const y=h.statement.toUpperCase().includes("RETURNING")?"all":"no",g=await this.sqlite.run({database:this.dbName,statement:h.statement,values:h.values,transaction:!1,readonly:!1,returnMode:y,isSQL92:o});if(g.changes.changes<0)throw new Error("Error in transaction method run ");l+=g.changes.changes}else{const y=await this.sqlite.execute({database:this.dbName,statements:h.statement,transaction:!1,readonly:!1});if(y.changes.changes<0)throw new Error("Error in transaction method execute ");l+=y.changes.changes}}const u=await this.sqlite.commitTransaction({database:this.dbName});l+=u.changes.changes;const d={changes:{changes:l}};return Promise.resolve(d)}catch(u){const d=u.message?u.message:u;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(d)}}async reorderRows(e){const o=e;if(e!=null&&e.values&&typeof e.values[0]=="object"&&Object.keys(e.values[0]).includes("ios_columns")){const l=e.values[0].ios_columns,r=[];for(let u=1;u<e.values.length;u++){const d=e.values[u],h={};for(const y of l)h[y]=d[y];r.push(h)}o.values=r}return Promise.resolve(o)}}const vR=Hc("CapacitorSQLite",{web:()=>gR(()=>import("./web-B3ZJWc0c.js"),[],import.meta.url).then(i=>new i.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite}),Z=Symbol.for("drizzle:entityKind");function X(i,e){if(!i||typeof i!="object")return!1;if(i instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Z))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let o=Object.getPrototypeOf(i).constructor;if(o)for(;o;){if(Z in o&&o[Z]===e[Z])return!0;o=Object.getPrototypeOf(o)}return!1}var Yg;Yg=Z;class RS{write(e){console.log(e)}}w(RS,Yg,"ConsoleLogWriter");var $g;$g=Z;class MS{constructor(e){w(this,"writer");this.writer=(e==null?void 0:e.writer)??new RS}logQuery(e,o){const l=o.map(u=>{try{return JSON.stringify(u)}catch{return String(u)}}),r=l.length?` -- params: [${l.join(", ")}]`:"";this.writer.write(`Query: ${e}${r}`)}}w(MS,$g,"DefaultLogger");var Kg;Kg=Z;class DS{logQuery(){}}w(DS,Kg,"NoopLogger");const mi=Symbol.for("drizzle:Name"),fa=Symbol.for("drizzle:Schema"),yc=Symbol.for("drizzle:Columns"),qg=Symbol.for("drizzle:ExtraConfigColumns"),oc=Symbol.for("drizzle:OriginalName"),lc=Symbol.for("drizzle:BaseName"),Sa=Symbol.for("drizzle:IsAlias"),Pg=Symbol.for("drizzle:ExtraConfigBuilder"),SR=Symbol.for("drizzle:IsDrizzleTable");var Xg,Zg,Wg,jg,ey,ty,ny,iy,oy,ly;ly=Z,oy=mi,iy=oc,ny=fa,ty=yc,ey=qg,jg=lc,Wg=Sa,Zg=SR,Xg=Pg;class se{constructor(e,o,l){w(this,oy);w(this,iy);w(this,ny);w(this,ty);w(this,ey);w(this,jg);w(this,Wg,!1);w(this,Zg,!0);w(this,Xg);this[mi]=this[oc]=e,this[fa]=o,this[lc]=l}}w(se,ly,"Table"),w(se,"Symbol",{Name:mi,Schema:fa,OriginalName:oc,Columns:yc,ExtraConfigColumns:qg,BaseName:lc,IsAlias:Sa,ExtraConfigBuilder:Pg});function Mo(i){return i[mi]}function Hl(i){return`${i[fa]??"public"}.${i[mi]}`}var sy;sy=Z;class nt{constructor(e,o){w(this,"name");w(this,"keyAsName");w(this,"primary");w(this,"notNull");w(this,"default");w(this,"defaultFn");w(this,"onUpdateFn");w(this,"hasDefault");w(this,"isUnique");w(this,"uniqueName");w(this,"uniqueType");w(this,"dataType");w(this,"columnType");w(this,"enumValues");w(this,"generated");w(this,"generatedIdentity");w(this,"config");this.table=e,this.config=o,this.name=o.name,this.keyAsName=o.keyAsName,this.notNull=o.notNull,this.default=o.default,this.defaultFn=o.defaultFn,this.onUpdateFn=o.onUpdateFn,this.hasDefault=o.hasDefault,this.primary=o.primaryKey,this.isUnique=o.isUnique,this.uniqueName=o.uniqueName,this.uniqueType=o.uniqueType,this.dataType=o.dataType,this.columnType=o.columnType,this.generated=o.generated,this.generatedIdentity=o.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}w(nt,sy,"Column");var ay;ay=Z;class IS{constructor(e,o,l){w(this,"config");w(this,"$default",this.$defaultFn);w(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:o,columnType:l,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}w(IS,ay,"ColumnBuilder");const Bg=Symbol.for("drizzle:isPgEnum");function TR(i){return!!i&&typeof i=="function"&&Bg in i&&i[Bg]===!0}var ry;ry=Z;class kt{constructor(e,o,l,r=!1,u=[]){this._={brand:"Subquery",sql:e,selectedFields:o,alias:l,isWith:r,usedTables:u}}}w(kt,ry,"Subquery");var uy,cy;class Vc extends(cy=kt,uy=Z,cy){}w(Vc,uy,"WithSubquery");const ER={startActiveSpan(i,e){return e()}},yt=Symbol.for("drizzle:ViewBaseConfig");function LS(i){return i!=null&&typeof i.getSQL=="function"}function CR(i){var o;const e={sql:"",params:[]};for(const l of i)e.sql+=l.sql,e.params.push(...l.params),(o=l.typings)!=null&&o.length&&(e.typings||(e.typings=[]),e.typings.push(...l.typings));return e}var fy;fy=Z;class at{constructor(e){w(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new pe([this])}}w(at,fy,"StringChunk");var dy;dy=Z;const Pi=class Pi{constructor(e){w(this,"decoder",US);w(this,"shouldInlineParams",!1);w(this,"usedTables",[]);this.queryChunks=e;for(const o of e)if(X(o,se)){const l=o[se.Symbol.Schema];this.usedTables.push(l===void 0?o[se.Symbol.Name]:l+"."+o[se.Symbol.Name])}}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return ER.startActiveSpan("drizzle.buildSQL",o=>{const l=this.buildQueryFromSourceParams(this.queryChunks,e);return o==null||o.setAttributes({"drizzle.query.text":l.sql,"drizzle.query.params":JSON.stringify(l.params)}),l})}buildQueryFromSourceParams(e,o){const l=Object.assign({},o,{inlineParams:o.inlineParams||this.shouldInlineParams,paramStartIndex:o.paramStartIndex||{value:0}}),{casing:r,escapeName:u,escapeParam:d,prepareTyping:h,inlineParams:y,paramStartIndex:g}=l;return CR(e.map(v=>{var S;if(X(v,at))return{sql:v.value.join(""),params:[]};if(X(v,Ta))return{sql:u(v.value),params:[]};if(v===void 0)return{sql:"",params:[]};if(Array.isArray(v)){const E=[new at("(")];for(const[A,M]of v.entries())E.push(M),A<v.length-1&&E.push(new at(", "));return E.push(new at(")")),this.buildQueryFromSourceParams(E,l)}if(X(v,Pi))return this.buildQueryFromSourceParams(v.queryChunks,{...l,inlineParams:y||v.shouldInlineParams});if(X(v,se)){const E=v[se.Symbol.Schema],A=v[se.Symbol.Name];return{sql:E===void 0||v[Sa]?u(A):u(E)+"."+u(A),params:[]}}if(X(v,nt)){const E=r.getColumnCasing(v);if(o.invokeSource==="indexes")return{sql:u(E),params:[]};const A=v.table[se.Symbol.Schema];return{sql:v.table[Sa]||A===void 0?u(v.table[se.Symbol.Name])+"."+u(E):u(A)+"."+u(v.table[se.Symbol.Name])+"."+u(E),params:[]}}if(X(v,Oi)){const E=v[yt].schema,A=v[yt].name;return{sql:E===void 0||v[yt].isAlias?u(A):u(E)+"."+u(A),params:[]}}if(X(v,Bn)){if(X(v.value,zi))return{sql:d(g.value++,v),params:[v],typings:["none"]};const E=v.value===null?null:v.encoder.mapToDriverValue(v.value);if(X(E,Pi))return this.buildQueryFromSourceParams([E],l);if(y)return{sql:this.mapInlineParam(E,l),params:[]};let A=["none"];return h&&(A=[h(v.encoder)]),{sql:d(g.value++,E),params:[E],typings:A}}return X(v,zi)?{sql:d(g.value++,v),params:[v],typings:["none"]}:X(v,Pi.Aliased)&&v.fieldAlias!==void 0?{sql:u(v.fieldAlias),params:[]}:X(v,kt)?v._.isWith?{sql:u(v._.alias),params:[]}:this.buildQueryFromSourceParams([new at("("),v._.sql,new at(") "),new Ta(v._.alias)],l):TR(v)?v.schema?{sql:u(v.schema)+"."+u(v.enumName),params:[]}:{sql:u(v.enumName),params:[]}:LS(v)?(S=v.shouldOmitSQLParens)!=null&&S.call(v)?this.buildQueryFromSourceParams([v.getSQL()],l):this.buildQueryFromSourceParams([new at("("),v.getSQL(),new at(")")],l):y?{sql:this.mapInlineParam(v,l),params:[]}:{sql:d(g.value++,v),params:[v],typings:["none"]}}))}mapInlineParam(e,{escapeString:o}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return o(e);if(typeof e=="object"){const l=e.toString();return o(l==="[object Object]"?JSON.stringify(e):l)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Pi.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};w(Pi,dy,"SQL");let pe=Pi;var my;my=Z;class Ta{constructor(e){w(this,"brand");this.value=e}getSQL(){return new pe([this])}}w(Ta,my,"Name");function _R(i){return typeof i=="object"&&i!==null&&"mapToDriverValue"in i&&typeof i.mapToDriverValue=="function"}const US={mapFromDriverValue:i=>i},qS={mapToDriverValue:i=>i};({...US,...qS});var hy;hy=Z;class Bn{constructor(e,o=qS){w(this,"brand");this.value=e,this.encoder=o}getSQL(){return new pe([this])}}w(Bn,hy,"Param");function I(i,...e){const o=[];(e.length>0||i.length>0&&i[0]!=="")&&o.push(new at(i[0]));for(const[l,r]of e.entries())o.push(r,new at(i[l+1]));return new pe(o)}(i=>{function e(){return new pe([])}i.empty=e;function o(y){return new pe(y)}i.fromList=o;function l(y){return new pe([new at(y)])}i.raw=l;function r(y,g){const v=[];for(const[S,E]of y.entries())S>0&&g!==void 0&&v.push(g),v.push(E);return new pe(v)}i.join=r;function u(y){return new Ta(y)}i.identifier=u;function d(y){return new zi(y)}i.placeholder=d;function h(y,g){return new Bn(y,g)}i.param=h})(I||(I={}));(i=>{var o;o=Z;const l=class l{constructor(u,d){w(this,"isSelectionField",!1);this.sql=u,this.fieldAlias=d}getSQL(){return this.sql}clone(){return new l(this.sql,this.fieldAlias)}};w(l,o,"SQL.Aliased");let e=l;i.Aliased=e})(pe||(pe={}));var py;py=Z;class zi{constructor(e){this.name=e}getSQL(){return new pe([this])}}w(zi,py,"Placeholder");function aa(i,e){return i.map(o=>{if(X(o,zi)){if(!(o.name in e))throw new Error(`No value for placeholder "${o.name}" was provided`);return e[o.name]}if(X(o,Bn)&&X(o.value,zi)){if(!(o.value.name in e))throw new Error(`No value for placeholder "${o.value.name}" was provided`);return o.encoder.mapToDriverValue(e[o.value.name])}return o})}const AR=Symbol.for("drizzle:IsDrizzleView");var gy,yy,vy;vy=Z,yy=yt,gy=AR;class Oi{constructor({name:e,schema:o,selectedFields:l,query:r}){w(this,yy);w(this,gy,!0);this[yt]={name:e,originalName:e,schema:o,selectedFields:l,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new pe([this])}}w(Oi,vy,"View");nt.prototype.getSQL=function(){return new pe([this])};se.prototype.getSQL=function(){return new pe([this])};kt.prototype.getSQL=function(){return new pe([this])};function zg(i,e,o){const l={},r=i.reduce((u,{path:d,field:h},y)=>{let g;X(h,nt)?g=h:X(h,pe)?g=h.decoder:g=h.sql.decoder;let v=u;for(const[S,E]of d.entries())if(S<d.length-1)E in v||(v[E]={}),v=v[E];else{const A=e[y],M=v[E]=A===null?null:g.mapFromDriverValue(A);if(o&&X(h,nt)&&d.length===2){const R=d[0];R in l?typeof l[R]=="string"&&l[R]!==Mo(h.table)&&(l[R]=!1):l[R]=M===null?Mo(h.table):!1}}return u},{});if(o&&Object.keys(l).length>0)for(const[u,d]of Object.entries(l))typeof d=="string"&&!o[d]&&(r[u]=null);return r}function Gi(i,e){return Object.entries(i).reduce((o,[l,r])=>{if(typeof l!="string")return o;const u=e?[...e,l]:[l];return X(r,nt)||X(r,pe)||X(r,pe.Aliased)?o.push({path:u,field:r}):X(r,se)?o.push(...Gi(r[se.Symbol.Columns],u)):o.push(...Gi(r,u)),o},[])}function Oc(i,e){const o=Object.keys(i),l=Object.keys(e);if(o.length!==l.length)return!1;for(const[r,u]of o.entries())if(u!==l[r])return!1;return!0}function PS(i,e){const o=Object.entries(e).filter(([,l])=>l!==void 0).map(([l,r])=>X(r,pe)||X(r,nt)?[l,r]:[l,new Bn(r,i[se.Symbol.Columns][l])]);if(o.length===0)throw new Error("No values to set");return Object.fromEntries(o)}function wR(i,e){for(const o of e)for(const l of Object.getOwnPropertyNames(o.prototype))l!=="constructor"&&Object.defineProperty(i.prototype,l,Object.getOwnPropertyDescriptor(o.prototype,l)||Object.create(null))}function xR(i){return i[se.Symbol.Columns]}function vc(i){return X(i,kt)?i._.alias:X(i,Oi)?i[yt].name:X(i,pe)?void 0:i[se.Symbol.IsAlias]?i[se.Symbol.Name]:i[se.Symbol.BaseName]}function kl(i,e){return{name:typeof i=="string"&&i.length>0?i:"",config:typeof i=="object"?i:e}}const BS=typeof TextDecoder>"u"?null:new TextDecoder,Gg=Symbol.for("drizzle:PgInlineForeignKeys"),Hg=Symbol.for("drizzle:EnableRLS");var Sy,Ty,Ey,Cy,_y,Ay;class Sc extends(Ay=se,_y=Z,Cy=Gg,Ey=Hg,Ty=se.Symbol.ExtraConfigBuilder,Sy=se.Symbol.ExtraConfigColumns,Ay){constructor(){super(...arguments);w(this,Cy,[]);w(this,Ey,!1);w(this,Ty);w(this,Sy,{})}}w(Sc,_y,"PgTable"),w(Sc,"Symbol",Object.assign({},se.Symbol,{InlineForeignKeys:Gg,EnableRLS:Hg}));var wy;wy=Z;class zS{constructor(e,o){w(this,"columns");w(this,"name");this.columns=e,this.name=o}build(e){return new GS(e,this.columns,this.name)}}w(zS,wy,"PgPrimaryKeyBuilder");var xy;xy=Z;class GS{constructor(e,o,l){w(this,"columns");w(this,"name");this.table=e,this.columns=o,this.name=l}getName(){return this.name??`${this.table[Sc.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}w(GS,xy,"PgPrimaryKey");function Mt(i,e){return _R(e)&&!LS(i)&&!X(i,Bn)&&!X(i,zi)&&!X(i,nt)&&!X(i,se)&&!X(i,Oi)?new Bn(i,e):i}const HS=(i,e)=>I`${i} = ${Mt(e,i)}`,NR=(i,e)=>I`${i} <> ${Mt(e,i)}`;function Tc(...i){const e=i.filter(o=>o!==void 0);if(e.length!==0)return e.length===1?new pe(e):new pe([new at("("),I.join(e,new at(" and ")),new at(")")])}function bR(...i){const e=i.filter(o=>o!==void 0);if(e.length!==0)return e.length===1?new pe(e):new pe([new at("("),I.join(e,new at(" or ")),new at(")")])}function RR(i){return I`not ${i}`}const MR=(i,e)=>I`${i} > ${Mt(e,i)}`,DR=(i,e)=>I`${i} >= ${Mt(e,i)}`,IR=(i,e)=>I`${i} < ${Mt(e,i)}`,LR=(i,e)=>I`${i} <= ${Mt(e,i)}`;function UR(i,e){return Array.isArray(e)?e.length===0?I`false`:I`${i} in ${e.map(o=>Mt(o,i))}`:I`${i} in ${Mt(e,i)}`}function qR(i,e){return Array.isArray(e)?e.length===0?I`true`:I`${i} not in ${e.map(o=>Mt(o,i))}`:I`${i} not in ${Mt(e,i)}`}function PR(i){return I`${i} is null`}function BR(i){return I`${i} is not null`}function zR(i){return I`exists ${i}`}function GR(i){return I`not exists ${i}`}function HR(i,e,o){return I`${i} between ${Mt(e,i)} and ${Mt(o,i)}`}function VR(i,e,o){return I`${i} not between ${Mt(e,i)} and ${Mt(o,i)}`}function OR(i,e){return I`${i} like ${e}`}function kR(i,e){return I`${i} not like ${e}`}function FR(i,e){return I`${i} ilike ${e}`}function QR(i,e){return I`${i} not ilike ${e}`}function JR(i){return I`${i} asc`}function YR(i){return I`${i} desc`}var Ny;Ny=Z;class kc{constructor(e,o,l){w(this,"referencedTableName");w(this,"fieldName");this.sourceTable=e,this.referencedTable=o,this.relationName=l,this.referencedTableName=o[se.Symbol.Name]}}w(kc,Ny,"Relation");var by;by=Z;class VS{constructor(e,o){this.table=e,this.config=o}}w(VS,by,"Relations");var Ry,My;const Aa=class Aa extends(My=kc,Ry=Z,My){constructor(e,o,l,r){super(e,o,l==null?void 0:l.relationName),this.config=l,this.isNullable=r}withFieldName(e){const o=new Aa(this.sourceTable,this.referencedTable,this.config,this.isNullable);return o.fieldName=e,o}};w(Aa,Ry,"One");let Hi=Aa;var Dy,Iy;const wa=class wa extends(Iy=kc,Dy=Z,Iy){constructor(e,o,l){super(e,o,l==null?void 0:l.relationName),this.config=l}withFieldName(e){const o=new wa(this.sourceTable,this.referencedTable,this.config);return o.fieldName=e,o}};w(wa,Dy,"Many");let Ea=wa;function $R(){return{and:Tc,between:HR,eq:HS,exists:zR,gt:MR,gte:DR,ilike:FR,inArray:UR,isNull:PR,isNotNull:BR,like:OR,lt:IR,lte:LR,ne:NR,not:RR,notBetween:VR,notExists:GR,notLike:kR,notIlike:QR,notInArray:qR,or:bR,sql:I}}function KR(){return{sql:I,asc:JR,desc:YR}}function XR(i,e){var u;Object.keys(i).length===1&&"default"in i&&!X(i.default,se)&&(i=i.default);const o={},l={},r={};for(const[d,h]of Object.entries(i))if(X(h,se)){const y=Hl(h),g=l[y];o[y]=d,r[d]={tsName:d,dbName:h[se.Symbol.Name],schema:h[se.Symbol.Schema],columns:h[se.Symbol.Columns],relations:(g==null?void 0:g.relations)??{},primaryKey:(g==null?void 0:g.primaryKey)??[]};for(const S of Object.values(h[se.Symbol.Columns]))S.primary&&r[d].primaryKey.push(S);const v=(u=h[se.Symbol.ExtraConfigBuilder])==null?void 0:u.call(h,h[se.Symbol.ExtraConfigColumns]);if(v)for(const S of Object.values(v))X(S,zS)&&r[d].primaryKey.push(...S.columns)}else if(X(h,VS)){const y=Hl(h.table),g=o[y],v=h.config(e(h.table));let S;for(const[E,A]of Object.entries(v))if(g){const M=r[g];M.relations[E]=A}else y in l||(l[y]={relations:{},primaryKey:S}),l[y].relations[E]=A}return{tables:r,tableNamesMap:o}}function ZR(i){return function(o,l){return new Hi(i,o,l,(l==null?void 0:l.fields.reduce((r,u)=>r&&u.notNull,!0))??!1)}}function WR(i){return function(o,l){return new Ea(i,o,l)}}function jR(i,e,o){if(X(o,Hi)&&o.config)return{fields:o.config.fields,references:o.config.references};const l=e[Hl(o.referencedTable)];if(!l)throw new Error(`Table "${o.referencedTable[se.Symbol.Name]}" not found in schema`);const r=i[l];if(!r)throw new Error(`Table "${l}" not found in schema`);const u=o.sourceTable,d=e[Hl(u)];if(!d)throw new Error(`Table "${u[se.Symbol.Name]}" not found in schema`);const h=[];for(const y of Object.values(r.relations))(o.relationName&&o!==y&&y.relationName===o.relationName||!o.relationName&&y.referencedTable===o.sourceTable)&&h.push(y);if(h.length>1)throw o.relationName?new Error(`There are multiple relations with name "${o.relationName}" in table "${l}"`):new Error(`There are multiple relations between "${l}" and "${o.sourceTable[se.Symbol.Name]}". Please specify relation name`);if(h[0]&&X(h[0],Hi)&&h[0].config)return{fields:h[0].config.references,references:h[0].config.fields};throw new Error(`There is not enough information to infer relation "${d}.${o.fieldName}"`)}function eM(i){return{one:ZR(i),many:WR(i)}}function Ec(i,e,o,l,r=u=>u){const u={};for(const[d,h]of l.entries())if(h.isJson){const y=e.relations[h.tsKey],g=o[d],v=typeof g=="string"?JSON.parse(g):g;u[h.tsKey]=X(y,Hi)?v&&Ec(i,i[h.relationTableTsKey],v,h.selection,r):v.map(S=>Ec(i,i[h.relationTableTsKey],S,h.selection,r))}else{const y=r(o[d]),g=h.field;let v;X(g,nt)?v=g:X(g,pe)?v=g.decoder:v=g.sql.decoder,u[h.tsKey]=y===null?null:v.mapFromDriverValue(y)}return u}var Ly;Ly=Z;class Vl{constructor(e){this.table=e}get(e,o){return o==="table"?this.table:e[o]}}w(Vl,Ly,"ColumnAliasProxyHandler");var Uy;Uy=Z;class Ia{constructor(e,o){this.alias=e,this.replaceOriginalName=o}get(e,o){if(o===se.Symbol.IsAlias)return!0;if(o===se.Symbol.Name)return this.alias;if(this.replaceOriginalName&&o===se.Symbol.OriginalName)return this.alias;if(o===yt)return{...e[yt],name:this.alias,isAlias:!0};if(o===se.Symbol.Columns){const r=e[se.Symbol.Columns];if(!r)return r;const u={};return Object.keys(r).map(d=>{u[d]=new Proxy(r[d],new Vl(new Proxy(e,this)))}),u}const l=e[o];return X(l,nt)?new Proxy(l,new Vl(new Proxy(e,this))):l}}w(Ia,Uy,"TableAliasProxyHandler");function sc(i,e){return new Proxy(i,new Ia(e,!1))}function Un(i,e){return new Proxy(i,new Vl(new Proxy(i.table,new Ia(e,!1))))}function OS(i,e){return new pe.Aliased(Ca(i.sql,e),i.fieldAlias)}function Ca(i,e){return I.join(i.queryChunks.map(o=>X(o,nt)?Un(o,e):X(o,pe)?Ca(o,e):X(o,pe.Aliased)?OS(o,e):o))}var qy;qy=Z;const xa=class xa{constructor(e){w(this,"config");this.config={...e}}get(e,o){if(o==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(o===yt)return{...e[yt],selectedFields:new Proxy(e[yt].selectedFields,this)};if(typeof o=="symbol")return e[o];const r=(X(e,kt)?e._.selectedFields:X(e,Oi)?e[yt].selectedFields:e)[o];if(X(r,pe.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!r.isSelectionField)return r.sql;const u=r.clone();return u.isSelectionField=!0,u}if(X(r,pe)){if(this.config.sqlBehavior==="sql")return r;throw new Error(`You tried to reference "${o}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return X(r,nt)?this.config.alias?new Proxy(r,new Vl(new Proxy(r.table,new Ia(this.config.alias,this.config.replaceOriginalName??!1)))):r:typeof r!="object"||r===null?r:new Proxy(r,new xa(this.config))}};w(xa,qy,"SelectionProxyHandler");let Tt=xa;var Py,By;By=Z,Py=Symbol.toStringTag;class gi{constructor(){w(this,Py,"QueryPromise")}catch(e){return this.then(void 0,e)}finally(e){return this.then(o=>(e==null||e(),o),o=>{throw e==null||e(),o})}then(e,o){return this.execute().then(e,o)}}w(gi,By,"QueryPromise");var zy;zy=Z;class kS{constructor(e,o){w(this,"reference");w(this,"_onUpdate");w(this,"_onDelete");this.reference=()=>{const{name:l,columns:r,foreignColumns:u}=e();return{name:l,columns:r,foreignTable:u[0].table,foreignColumns:u}},o&&(this._onUpdate=o.onUpdate,this._onDelete=o.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new FS(e,this)}}w(kS,zy,"SQLiteForeignKeyBuilder");var Gy;Gy=Z;class FS{constructor(e,o){w(this,"reference");w(this,"onUpdate");w(this,"onDelete");this.table=e,this.reference=o.reference,this.onUpdate=o._onUpdate,this.onDelete=o._onDelete}getName(){const{name:e,columns:o,foreignColumns:l}=this.reference(),r=o.map(h=>h.name),u=l.map(h=>h.name),d=[this.table[mi],...r,l[0].table[mi],...u];return e??`${d.join("_")}_fk`}}w(FS,Gy,"SQLiteForeignKey");function tM(i,e){return`${i[mi]}_${e.join("_")}_unique`}var Hy,Vy;class tn extends(Vy=IS,Hy=Z,Vy){constructor(){super(...arguments);w(this,"foreignKeyConfigs",[])}references(o,l={}){return this.foreignKeyConfigs.push({ref:o,actions:l}),this}unique(o){return this.config.isUnique=!0,this.config.uniqueName=o,this}generatedAlwaysAs(o,l){return this.config.generated={as:o,type:"always",mode:(l==null?void 0:l.mode)??"virtual"},this}buildForeignKeys(o,l){return this.foreignKeyConfigs.map(({ref:r,actions:u})=>((d,h)=>{const y=new kS(()=>{const g=d();return{columns:[o],foreignColumns:[g]}});return h.onUpdate&&y.onUpdate(h.onUpdate),h.onDelete&&y.onDelete(h.onDelete),y.build(l)})(r,u))}}w(tn,Hy,"SQLiteColumnBuilder");var Oy,ky;class Et extends(ky=nt,Oy=Z,ky){constructor(e,o){o.uniqueName||(o.uniqueName=tM(e,[o.name])),super(e,o),this.table=e}}w(Et,Oy,"SQLiteColumn");var Fy,Qy;class QS extends(Qy=tn,Fy=Z,Qy){constructor(e){super(e,"bigint","SQLiteBigInt")}build(e){return new JS(e,this.config)}}w(QS,Fy,"SQLiteBigIntBuilder");var Jy,Yy;class JS extends(Yy=Et,Jy=Z,Yy){getSQLType(){return"blob"}mapFromDriverValue(e){if(typeof Buffer<"u"&&Buffer.from){const o=Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):e.buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);return BigInt(o.toString("utf8"))}return BigInt(BS.decode(e))}mapToDriverValue(e){return Buffer.from(e.toString())}}w(JS,Jy,"SQLiteBigInt");var $y,Ky;class YS extends(Ky=tn,$y=Z,Ky){constructor(e){super(e,"json","SQLiteBlobJson")}build(e){return new $S(e,this.config)}}w(YS,$y,"SQLiteBlobJsonBuilder");var Xy,Zy;class $S extends(Zy=Et,Xy=Z,Zy){getSQLType(){return"blob"}mapFromDriverValue(e){if(typeof Buffer<"u"&&Buffer.from){const o=Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):e.buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);return JSON.parse(o.toString("utf8"))}return JSON.parse(BS.decode(e))}mapToDriverValue(e){return Buffer.from(JSON.stringify(e))}}w($S,Xy,"SQLiteBlobJson");var Wy,jy;class KS extends(jy=tn,Wy=Z,jy){constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new XS(e,this.config)}}w(KS,Wy,"SQLiteBlobBufferBuilder");var e0,t0;class XS extends(t0=Et,e0=Z,t0){mapFromDriverValue(e){return Buffer.isBuffer(e)?e:Buffer.from(e)}getSQLType(){return"blob"}}w(XS,e0,"SQLiteBlobBuffer");function nM(i,e){const{name:o,config:l}=kl(i,e);return(l==null?void 0:l.mode)==="json"?new YS(o):(l==null?void 0:l.mode)==="bigint"?new QS(o):new KS(o)}var n0,i0;class ZS extends(i0=tn,n0=Z,i0){constructor(e,o,l){super(e,"custom","SQLiteCustomColumn"),this.config.fieldConfig=o,this.config.customTypeParams=l}build(e){return new WS(e,this.config)}}w(ZS,n0,"SQLiteCustomColumnBuilder");var o0,l0;class WS extends(l0=Et,o0=Z,l0){constructor(o,l){super(o,l);w(this,"sqlName");w(this,"mapTo");w(this,"mapFrom");this.sqlName=l.customTypeParams.dataType(l.fieldConfig),this.mapTo=l.customTypeParams.toDriver,this.mapFrom=l.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(o){return typeof this.mapFrom=="function"?this.mapFrom(o):o}mapToDriverValue(o){return typeof this.mapTo=="function"?this.mapTo(o):o}}w(WS,o0,"SQLiteCustomColumn");function iM(i){return(e,o)=>{const{name:l,config:r}=kl(e,o);return new ZS(l,r,i)}}var s0,a0;class La extends(a0=tn,s0=Z,a0){constructor(e,o,l){super(e,o,l),this.config.autoIncrement=!1}primaryKey(e){return e!=null&&e.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}w(La,s0,"SQLiteBaseIntegerBuilder");var r0,u0;class Ua extends(u0=Et,r0=Z,u0){constructor(){super(...arguments);w(this,"autoIncrement",this.config.autoIncrement)}getSQLType(){return"integer"}}w(Ua,r0,"SQLiteBaseInteger");var c0,f0;class jS extends(f0=La,c0=Z,f0){constructor(e){super(e,"number","SQLiteInteger")}build(e){return new eT(e,this.config)}}w(jS,c0,"SQLiteIntegerBuilder");var d0,m0;class eT extends(m0=Ua,d0=Z,m0){}w(eT,d0,"SQLiteInteger");var h0,p0;class tT extends(p0=La,h0=Z,p0){constructor(e,o){super(e,"date","SQLiteTimestamp"),this.config.mode=o}defaultNow(){return this.default(I`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new nT(e,this.config)}}w(tT,h0,"SQLiteTimestampBuilder");var g0,y0;class nT extends(y0=Ua,g0=Z,y0){constructor(){super(...arguments);w(this,"mode",this.config.mode)}mapFromDriverValue(o){return this.config.mode==="timestamp"?new Date(o*1e3):new Date(o)}mapToDriverValue(o){const l=o.getTime();return this.config.mode==="timestamp"?Math.floor(l/1e3):l}}w(nT,g0,"SQLiteTimestamp");var v0,S0;class iT extends(S0=La,v0=Z,S0){constructor(e,o){super(e,"boolean","SQLiteBoolean"),this.config.mode=o}build(e){return new oT(e,this.config)}}w(iT,v0,"SQLiteBooleanBuilder");var T0,E0;class oT extends(E0=Ua,T0=Z,E0){constructor(){super(...arguments);w(this,"mode",this.config.mode)}mapFromDriverValue(o){return Number(o)===1}mapToDriverValue(o){return o?1:0}}w(oT,T0,"SQLiteBoolean");function Fc(i,e){const{name:o,config:l}=kl(i,e);return(l==null?void 0:l.mode)==="timestamp"||(l==null?void 0:l.mode)==="timestamp_ms"?new tT(o,l.mode):(l==null?void 0:l.mode)==="boolean"?new iT(o,l.mode):new jS(o)}var C0,_0;class lT extends(_0=tn,C0=Z,_0){constructor(e){super(e,"string","SQLiteNumeric")}build(e){return new sT(e,this.config)}}w(lT,C0,"SQLiteNumericBuilder");var A0,w0;class sT extends(w0=Et,A0=Z,w0){mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return"numeric"}}w(sT,A0,"SQLiteNumeric");var x0,N0;class aT extends(N0=tn,x0=Z,N0){constructor(e){super(e,"number","SQLiteNumericNumber")}build(e){return new rT(e,this.config)}}w(aT,x0,"SQLiteNumericNumberBuilder");var b0,R0;class rT extends(R0=Et,b0=Z,R0){constructor(){super(...arguments);w(this,"mapToDriverValue",String)}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}getSQLType(){return"numeric"}}w(rT,b0,"SQLiteNumericNumber");var M0,D0;class uT extends(D0=tn,M0=Z,D0){constructor(e){super(e,"bigint","SQLiteNumericBigInt")}build(e){return new cT(e,this.config)}}w(uT,M0,"SQLiteNumericBigIntBuilder");var I0,L0;class cT extends(L0=Et,I0=Z,L0){constructor(){super(...arguments);w(this,"mapFromDriverValue",BigInt);w(this,"mapToDriverValue",String)}getSQLType(){return"numeric"}}w(cT,I0,"SQLiteNumericBigInt");function oM(i,e){const{name:o,config:l}=kl(i,e),r=l==null?void 0:l.mode;return r==="number"?new aT(o):r==="bigint"?new uT(o):new lT(o)}var U0,q0;class fT extends(q0=tn,U0=Z,q0){constructor(e){super(e,"number","SQLiteReal")}build(e){return new dT(e,this.config)}}w(fT,U0,"SQLiteRealBuilder");var P0,B0;class dT extends(B0=Et,P0=Z,B0){getSQLType(){return"real"}}w(dT,P0,"SQLiteReal");function lM(i){return new fT(i??"")}var z0,G0;class mT extends(G0=tn,z0=Z,G0){constructor(e,o){super(e,"string","SQLiteText"),this.config.enumValues=o.enum,this.config.length=o.length}build(e){return new hT(e,this.config)}}w(mT,z0,"SQLiteTextBuilder");var H0,V0;class hT extends(V0=Et,H0=Z,V0){constructor(o,l){super(o,l);w(this,"enumValues",this.config.enumValues);w(this,"length",this.config.length)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}w(hT,H0,"SQLiteText");var O0,k0;class pT extends(k0=tn,O0=Z,k0){constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new gT(e,this.config)}}w(pT,O0,"SQLiteTextJsonBuilder");var F0,Q0;class gT extends(Q0=Et,F0=Z,Q0){getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}w(gT,F0,"SQLiteTextJson");function rn(i,e={}){const{name:o,config:l}=kl(i,e);return l.mode==="json"?new pT(o):new mT(o,l)}function sM(){return{blob:nM,customType:iM,integer:Fc,numeric:oM,real:lM,text:rn}}const Cc=Symbol.for("drizzle:SQLiteInlineForeignKeys");var J0,Y0,$0,K0,X0;class Ot extends(X0=se,K0=Z,$0=se.Symbol.Columns,Y0=Cc,J0=se.Symbol.ExtraConfigBuilder,X0){constructor(){super(...arguments);w(this,$0);w(this,Y0,[]);w(this,J0)}}w(Ot,K0,"SQLiteTable"),w(Ot,"Symbol",Object.assign({},se.Symbol,{InlineForeignKeys:Cc}));function aM(i,e,o,l,r=i){const u=new Ot(i,l,r),d=typeof e=="function"?e(sM()):e,h=Object.fromEntries(Object.entries(d).map(([g,v])=>{const S=v;S.setName(g);const E=S.build(u);return u[Cc].push(...S.buildForeignKeys(E,u)),[g,E]})),y=Object.assign(u,h);return y[se.Symbol.Columns]=h,y[se.Symbol.ExtraConfigColumns]=h,y}const yT=(i,e,o)=>aM(i,e);function Bi(i){return X(i,Ot)?[`${i[se.Symbol.BaseName]}`]:X(i,kt)?i._.usedTables??[]:X(i,pe)?i.usedTables??[]:[]}var Z0,W0;class _c extends(W0=gi,Z0=Z,W0){constructor(o,l,r,u){super();w(this,"config");w(this,"run",o=>this._prepare().run(o));w(this,"all",o=>this._prepare().all(o));w(this,"get",o=>this._prepare().get(o));w(this,"values",o=>this._prepare().values(o));this.table=o,this.session=l,this.dialect=r,this.config={table:o,withList:u}}where(o){return this.config.where=o,this}orderBy(...o){if(typeof o[0]=="function"){const l=o[0](new Proxy(this.config.table[se.Symbol.Columns],new Tt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(l)?l:[l];this.config.orderBy=r}else{const l=o;this.config.orderBy=l}return this}limit(o){return this.config.limit=o,this}returning(o=this.table[Ot.Symbol.Columns]){return this.config.returning=Gi(o),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"delete",tables:Bi(this.config.table)})}prepare(){return this._prepare(!1)}async execute(o){return this._prepare().execute(o)}$dynamic(){return this}}w(_c,Z0,"SQLiteDelete");function rM(i){return(i.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(o=>o.toLowerCase()).join("_")}function uM(i){return(i.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((o,l,r)=>{const u=r===0?l.toLowerCase():`${l[0].toUpperCase()}${l.slice(1)}`;return o+u},"")}function cM(i){return i}var j0;j0=Z;class vT{constructor(e){w(this,"cache",{});w(this,"cachedTables",{});w(this,"convert");this.convert=e==="snake_case"?rM:e==="camelCase"?uM:cM}getColumnCasing(e){if(!e.keyAsName)return e.name;const o=e.table[se.Symbol.Schema]??"public",l=e.table[se.Symbol.OriginalName],r=`${o}.${l}.${e.name}`;return this.cache[r]||this.cacheTable(e.table),this.cache[r]}cacheTable(e){const o=e[se.Symbol.Schema]??"public",l=e[se.Symbol.OriginalName],r=`${o}.${l}`;if(!this.cachedTables[r]){for(const u of Object.values(e[se.Symbol.Columns])){const d=`${r}.${u.name}`;this.cache[d]=this.convert(u.name)}this.cachedTables[r]=!0}}clearCache(){this.cache={},this.cachedTables={}}}w(vT,j0,"CasingCache");var ev,tv;class qa extends(tv=Error,ev=Z,tv){constructor({message:e,cause:o}){super(e),this.name="DrizzleError",this.cause=o}}w(qa,ev,"DrizzleError");class di extends Error{constructor(e,o,l){super(`Failed query: ${e}
params: ${o}`),this.query=e,this.params=o,this.cause=l,Error.captureStackTrace(this,di),l&&(this.cause=l)}}var nv,iv;class ST extends(iv=qa,nv=Z,iv){constructor(){super({message:"Rollback"})}}w(ST,nv,"TransactionRollbackError");var ov,lv;class Pa extends(lv=Oi,ov=Z,lv){}w(Pa,ov,"SQLiteViewBase");var sv;sv=Z;class Ol{constructor(e){w(this,"casing");this.casing=new vT(e==null?void 0:e.casing)}escapeName(e){return`"${e}"`}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!(e!=null&&e.length))return;const o=[I`with `];for(const[l,r]of e.entries())o.push(I`${I.identifier(r._.alias)} as (${r._.sql})`),l<e.length-1&&o.push(I`, `);return o.push(I` `),I.join(o)}buildDeleteQuery({table:e,where:o,returning:l,withList:r,limit:u,orderBy:d}){const h=this.buildWithCTE(r),y=l?I` returning ${this.buildSelection(l,{isSingleTable:!0})}`:void 0,g=o?I` where ${o}`:void 0,v=this.buildOrderBy(d),S=this.buildLimit(u);return I`${h}delete from ${e}${g}${y}${v}${S}`}buildUpdateSet(e,o){const l=e[se.Symbol.Columns],r=Object.keys(l).filter(d=>{var h;return o[d]!==void 0||((h=l[d])==null?void 0:h.onUpdateFn)!==void 0}),u=r.length;return I.join(r.flatMap((d,h)=>{const y=l[d],g=o[d]??I.param(y.onUpdateFn(),y),v=I`${I.identifier(this.casing.getColumnCasing(y))} = ${g}`;return h<u-1?[v,I.raw(", ")]:[v]}))}buildUpdateQuery({table:e,set:o,where:l,returning:r,withList:u,joins:d,from:h,limit:y,orderBy:g}){const v=this.buildWithCTE(u),S=this.buildUpdateSet(e,o),E=h&&I.join([I.raw(" from "),this.buildFromTable(h)]),A=this.buildJoins(d),M=r?I` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,R=l?I` where ${l}`:void 0,k=this.buildOrderBy(g),Y=this.buildLimit(y);return I`${v}update ${e} set ${S}${E}${A}${R}${M}${k}${Y}`}buildSelection(e,{isSingleTable:o=!1}={}){const l=e.length,r=e.flatMap(({field:u},d)=>{const h=[];if(X(u,pe.Aliased)&&u.isSelectionField)h.push(I.identifier(u.fieldAlias));else if(X(u,pe.Aliased)||X(u,pe)){const y=X(u,pe.Aliased)?u.sql:u;o?h.push(new pe(y.queryChunks.map(g=>X(g,nt)?I.identifier(this.casing.getColumnCasing(g)):g))):h.push(y),X(u,pe.Aliased)&&h.push(I` as ${I.identifier(u.fieldAlias)}`)}else if(X(u,nt)){const y=u.table[se.Symbol.Name];u.columnType==="SQLiteNumericBigInt"?o?h.push(I`cast(${I.identifier(this.casing.getColumnCasing(u))} as text)`):h.push(I`cast(${I.identifier(y)}.${I.identifier(this.casing.getColumnCasing(u))} as text)`):o?h.push(I.identifier(this.casing.getColumnCasing(u))):h.push(I`${I.identifier(y)}.${I.identifier(this.casing.getColumnCasing(u))}`)}return d<l-1&&h.push(I`, `),h});return I.join(r)}buildJoins(e){if(!e||e.length===0)return;const o=[];if(e)for(const[l,r]of e.entries()){l===0&&o.push(I` `);const u=r.table,d=r.on?I` on ${r.on}`:void 0;if(X(u,Ot)){const h=u[Ot.Symbol.Name],y=u[Ot.Symbol.Schema],g=u[Ot.Symbol.OriginalName],v=h===g?void 0:r.alias;o.push(I`${I.raw(r.joinType)} join ${y?I`${I.identifier(y)}.`:void 0}${I.identifier(g)}${v&&I` ${I.identifier(v)}`}${d}`)}else o.push(I`${I.raw(r.joinType)} join ${u}${d}`);l<e.length-1&&o.push(I` `)}return I.join(o)}buildLimit(e){return typeof e=="object"||typeof e=="number"&&e>=0?I` limit ${e}`:void 0}buildOrderBy(e){const o=[];if(e)for(const[l,r]of e.entries())o.push(r),l<e.length-1&&o.push(I`, `);return o.length>0?I` order by ${I.join(o)}`:void 0}buildFromTable(e){return X(e,se)&&e[se.Symbol.IsAlias]?I`${I`${I.identifier(e[se.Symbol.Schema]??"")}.`.if(e[se.Symbol.Schema])}${I.identifier(e[se.Symbol.OriginalName])} ${I.identifier(e[se.Symbol.Name])}`:e}buildSelectQuery({withList:e,fields:o,fieldsFlat:l,where:r,having:u,table:d,joins:h,orderBy:y,groupBy:g,limit:v,offset:S,distinct:E,setOperators:A}){const M=l??Gi(o);for(const ae of M)if(X(ae.field,nt)&&Mo(ae.field.table)!==(X(d,kt)?d._.alias:X(d,Pa)?d[yt].name:X(d,pe)?void 0:Mo(d))&&!(Te=>h==null?void 0:h.some(({alias:Le})=>Le===(Te[se.Symbol.IsAlias]?Mo(Te):Te[se.Symbol.BaseName])))(ae.field.table)){const Te=Mo(ae.field.table);throw new Error(`Your "${ae.path.join("->")}" field references a column "${Te}"."${ae.field.name}", but the table "${Te}" is not part of the query! Did you forget to join it?`)}const R=!h||h.length===0,k=this.buildWithCTE(e),Y=E?I` distinct`:void 0,W=this.buildSelection(M,{isSingleTable:R}),G=this.buildFromTable(d),K=this.buildJoins(h),ne=r?I` where ${r}`:void 0,j=u?I` having ${u}`:void 0,V=[];if(g)for(const[ae,Te]of g.entries())V.push(Te),ae<g.length-1&&V.push(I`, `);const L=V.length>0?I` group by ${I.join(V)}`:void 0,B=this.buildOrderBy(y),F=this.buildLimit(v),ie=S?I` offset ${S}`:void 0,re=I`${k}select${Y} ${W} from ${G}${K}${ne}${L}${j}${B}${F}${ie}`;return A.length>0?this.buildSetOperations(re,A):re}buildSetOperations(e,o){const[l,...r]=o;if(!l)throw new Error("Cannot pass undefined values to any set operator");return r.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:l}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:l}),r)}buildSetOperationQuery({leftSelect:e,setOperator:{type:o,isAll:l,rightSelect:r,limit:u,orderBy:d,offset:h}}){const y=I`${e.getSQL()} `,g=I`${r.getSQL()}`;let v;if(d&&d.length>0){const M=[];for(const R of d)if(X(R,Et))M.push(I.identifier(R.name));else if(X(R,pe)){for(let k=0;k<R.queryChunks.length;k++){const Y=R.queryChunks[k];X(Y,Et)&&(R.queryChunks[k]=I.identifier(this.casing.getColumnCasing(Y)))}M.push(I`${R}`)}else M.push(I`${R}`);v=I` order by ${I.join(M,I`, `)}`}const S=typeof u=="object"||typeof u=="number"&&u>=0?I` limit ${u}`:void 0,E=I.raw(`${o} ${l?"all ":""}`),A=h?I` offset ${h}`:void 0;return I`${y}${E}${g}${v}${S}${A}`}buildInsertQuery({table:e,values:o,onConflict:l,returning:r,withList:u,select:d}){const h=[],y=e[se.Symbol.Columns],g=Object.entries(y).filter(([R,k])=>!k.shouldDisableInsert()),v=g.map(([,R])=>I.identifier(this.casing.getColumnCasing(R)));if(d){const R=o;X(R,pe)?h.push(R):h.push(R.getSQL())}else{const R=o;h.push(I.raw("values "));for(const[k,Y]of R.entries()){const W=[];for(const[G,K]of g){const ne=Y[G];if(ne===void 0||X(ne,Bn)&&ne.value===void 0){let j;if(K.default!==null&&K.default!==void 0)j=X(K.default,pe)?K.default:I.param(K.default,K);else if(K.defaultFn!==void 0){const V=K.defaultFn();j=X(V,pe)?V:I.param(V,K)}else if(!K.default&&K.onUpdateFn!==void 0){const V=K.onUpdateFn();j=X(V,pe)?V:I.param(V,K)}else j=I`null`;W.push(j)}else W.push(ne)}h.push(W),k<R.length-1&&h.push(I`, `)}}const S=this.buildWithCTE(u),E=I.join(h),A=r?I` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,M=l!=null&&l.length?I.join(l):void 0;return I`${S}insert into ${e} ${v} ${E}${M}${A}`}sqlToQuery(e,o){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:o})}buildRelationalQuery({fullSchema:e,schema:o,tableNamesMap:l,table:r,tableConfig:u,queryConfig:d,tableAlias:h,nestedQueryRelation:y,joinOn:g}){let v=[],S,E,A=[],M;const R=[];if(d===!0)v=Object.entries(u.columns).map(([W,G])=>({dbKey:G.name,tsKey:W,field:Un(G,h),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const Y=Object.fromEntries(Object.entries(u.columns).map(([V,L])=>[V,Un(L,h)]));if(d.where){const V=typeof d.where=="function"?d.where(Y,$R()):d.where;M=V&&Ca(V,h)}const W=[];let G=[];if(d.columns){let V=!1;for(const[L,B]of Object.entries(d.columns))B!==void 0&&L in u.columns&&(!V&&B===!0&&(V=!0),G.push(L));G.length>0&&(G=V?G.filter(L=>{var B;return((B=d.columns)==null?void 0:B[L])===!0}):Object.keys(u.columns).filter(L=>!G.includes(L)))}else G=Object.keys(u.columns);for(const V of G){const L=u.columns[V];W.push({tsKey:V,value:L})}let K=[];d.with&&(K=Object.entries(d.with).filter(V=>!!V[1]).map(([V,L])=>({tsKey:V,queryConfig:L,relation:u.relations[V]})));let ne;if(d.extras){ne=typeof d.extras=="function"?d.extras(Y,{sql:I}):d.extras;for(const[V,L]of Object.entries(ne))W.push({tsKey:V,value:OS(L,h)})}for(const{tsKey:V,value:L}of W)v.push({dbKey:X(L,pe.Aliased)?L.fieldAlias:u.columns[V].name,tsKey:V,field:X(L,nt)?Un(L,h):L,relationTableTsKey:void 0,isJson:!1,selection:[]});let j=typeof d.orderBy=="function"?d.orderBy(Y,KR()):d.orderBy??[];Array.isArray(j)||(j=[j]),A=j.map(V=>X(V,nt)?Un(V,h):Ca(V,h)),S=d.limit,E=d.offset;for(const{tsKey:V,queryConfig:L,relation:B}of K){const F=jR(o,l,B),ie=Hl(B.referencedTable),re=l[ie],ae=`${h}_${V}`,Te=Tc(...F.fields.map((ee,he)=>HS(Un(F.references[he],ae),Un(ee,h)))),Le=this.buildRelationalQuery({fullSchema:e,schema:o,tableNamesMap:l,table:e[re],tableConfig:o[re],queryConfig:X(B,Hi)?L===!0?{limit:1}:{...L,limit:1}:L,tableAlias:ae,joinOn:Te,nestedQueryRelation:B}),H=I`(${Le.sql})`.as(V);v.push({dbKey:V,tsKey:V,field:H,relationTableTsKey:re,isJson:!0,selection:Le.selection})}}if(v.length===0)throw new qa({message:`No fields selected for table "${u.tsName}" ("${h}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});let k;if(M=Tc(g,M),y){let Y=I`json_array(${I.join(v.map(({field:K})=>X(K,Et)?I.identifier(this.casing.getColumnCasing(K)):X(K,pe.Aliased)?K.sql:K),I`, `)})`;X(y,Ea)&&(Y=I`coalesce(json_group_array(${Y}), json_array())`);const W=[{dbKey:"data",tsKey:"data",field:Y.as("data"),isJson:!0,relationTableTsKey:u.tsName,selection:v}];S!==void 0||E!==void 0||A.length>0?(k=this.buildSelectQuery({table:sc(r,h),fields:{},fieldsFlat:[{path:[],field:I.raw("*")}],where:M,limit:S,offset:E,orderBy:A,setOperators:[]}),M=void 0,S=void 0,E=void 0,A=void 0):k=sc(r,h),k=this.buildSelectQuery({table:X(k,Ot)?k:new kt(k,{},h),fields:{},fieldsFlat:W.map(({field:K})=>({path:[],field:X(K,nt)?Un(K,h):K})),joins:R,where:M,limit:S,offset:E,orderBy:A,setOperators:[]})}else k=this.buildSelectQuery({table:sc(r,h),fields:{},fieldsFlat:v.map(({field:Y})=>({path:[],field:X(Y,nt)?Un(Y,h):Y})),joins:R,where:M,limit:S,offset:E,orderBy:A,setOperators:[]});return{tableTsKey:u.tsName,sql:k,selection:v}}}w(Ol,sv,"SQLiteDialect");var av,rv;class TT extends(rv=Ol,av=Z,rv){migrate(e,o,l){const r=l===void 0||typeof l=="string"?"__drizzle_migrations":l.migrationsTable??"__drizzle_migrations",u=I`
			CREATE TABLE IF NOT EXISTS ${I.identifier(r)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;o.run(u);const h=o.values(I`SELECT id, hash, created_at FROM ${I.identifier(r)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;o.run(I`BEGIN`);try{for(const y of e)if(!h||Number(h[2])<y.folderMillis){for(const g of y.sql)o.run(I.raw(g));o.run(I`INSERT INTO ${I.identifier(r)} ("hash", "created_at") VALUES(${y.hash}, ${y.folderMillis})`)}o.run(I`COMMIT`)}catch(y){throw o.run(I`ROLLBACK`),y}}}w(TT,av,"SQLiteSyncDialect");var uv,cv;class ET extends(cv=Ol,uv=Z,cv){async migrate(e,o,l){const r=l===void 0||typeof l=="string"?"__drizzle_migrations":l.migrationsTable??"__drizzle_migrations",u=I`
			CREATE TABLE IF NOT EXISTS ${I.identifier(r)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await o.run(u);const h=(await o.values(I`SELECT id, hash, created_at FROM ${I.identifier(r)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await o.transaction(async y=>{for(const g of e)if(!h||Number(h[2])<g.folderMillis){for(const v of g.sql)await y.run(I.raw(v));await y.run(I`INSERT INTO ${I.identifier(r)} ("hash", "created_at") VALUES(${g.hash}, ${g.folderMillis})`)}})}}w(ET,uv,"SQLiteAsyncDialect");var fv;fv=Z;class CT{getSelectedFields(){return this._.selectedFields}}w(CT,fv,"TypedQueryBuilder");var dv;dv=Z;class qn{constructor(e){w(this,"fields");w(this,"session");w(this,"dialect");w(this,"withList");w(this,"distinct");this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,this.withList=e.withList,this.distinct=e.distinct}from(e){const o=!!this.fields;let l;return this.fields?l=this.fields:X(e,kt)?l=Object.fromEntries(Object.keys(e._.selectedFields).map(r=>[r,e[r]])):X(e,Pa)?l=e[yt].selectedFields:X(e,pe)?l={}:l=xR(e),new Qc({table:e,fields:l,isPartialSelect:o,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}w(qn,dv,"SQLiteSelectBuilder");var mv,hv;class _T extends(hv=CT,mv=Z,hv){constructor({table:o,fields:l,isPartialSelect:r,session:u,dialect:d,withList:h,distinct:y}){super();w(this,"_");w(this,"config");w(this,"joinsNotNullableMap");w(this,"tableName");w(this,"isPartialSelect");w(this,"session");w(this,"dialect");w(this,"cacheConfig");w(this,"usedTables",new Set);w(this,"leftJoin",this.createJoin("left"));w(this,"rightJoin",this.createJoin("right"));w(this,"innerJoin",this.createJoin("inner"));w(this,"fullJoin",this.createJoin("full"));w(this,"crossJoin",this.createJoin("cross"));w(this,"union",this.createSetOperator("union",!1));w(this,"unionAll",this.createSetOperator("union",!0));w(this,"intersect",this.createSetOperator("intersect",!1));w(this,"except",this.createSetOperator("except",!1));this.config={withList:h,table:o,fields:{...l},distinct:y,setOperators:[]},this.isPartialSelect=r,this.session=u,this.dialect=d,this._={selectedFields:l,config:this.config},this.tableName=vc(o),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(const g of Bi(o))this.usedTables.add(g)}getUsedTables(){return[...this.usedTables]}createJoin(o){return(l,r)=>{var h;const u=this.tableName,d=vc(l);for(const y of Bi(l))this.usedTables.add(y);if(typeof d=="string"&&((h=this.config.joins)!=null&&h.some(y=>y.alias===d)))throw new Error(`Alias "${d}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof u=="string"&&(this.config.fields={[u]:this.config.fields}),typeof d=="string"&&!X(l,pe))){const y=X(l,kt)?l._.selectedFields:X(l,Oi)?l[yt].selectedFields:l[se.Symbol.Columns];this.config.fields[d]=y}if(typeof r=="function"&&(r=r(new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:l,joinType:o,alias:d}),typeof d=="string")switch(o){case"left":{this.joinsNotNullableMap[d]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([y])=>[y,!1])),this.joinsNotNullableMap[d]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[d]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([y])=>[y,!1])),this.joinsNotNullableMap[d]=!1;break}}return this}}createSetOperator(o,l){return r=>{const u=typeof r=="function"?r(fM()):r;if(!Oc(this.getSelectedFields(),u.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:o,isAll:l,rightSelect:u}),this}}addSetOperators(o){return this.config.setOperators.push(...o),this}where(o){return typeof o=="function"&&(o=o(new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=o,this}having(o){return typeof o=="function"&&(o=o(new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=o,this}groupBy(...o){if(typeof o[0]=="function"){const l=o[0](new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(l)?l:[l]}else this.config.groupBy=o;return this}orderBy(...o){if(typeof o[0]=="function"){const l=o[0](new Proxy(this.config.fields,new Tt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(l)?l:[l];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else{const l=o;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=l:this.config.orderBy=l}return this}limit(o){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=o:this.config.limit=o,this}offset(o){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=o:this.config.offset=o,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}as(o){const l=[];if(l.push(...Bi(this.config.table)),this.config.joins)for(const r of this.config.joins)l.push(...Bi(r.table));return new Proxy(new kt(this.getSQL(),this.config.fields,o,!1,[...new Set(l)]),new Tt({alias:o,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Tt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}w(_T,mv,"SQLiteSelectQueryBuilder");var pv,gv;class Qc extends(gv=_T,pv=Z,gv){constructor(){super(...arguments);w(this,"run",o=>this._prepare().run(o));w(this,"all",o=>this._prepare().all(o));w(this,"get",o=>this._prepare().get(o));w(this,"values",o=>this._prepare().values(o))}_prepare(o=!0){if(!this.session)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");const l=Gi(this.config.fields),r=this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),l,"all",!0,void 0,{type:"select",tables:[...this.usedTables]},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}$withCache(o){return this.cacheConfig=o===void 0?{config:{},enable:!0,autoInvalidate:!0}:o===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...o},this}prepare(){return this._prepare(!1)}async execute(){return this.all()}}w(Qc,pv,"SQLiteSelect");wR(Qc,[gi]);function Ba(i,e){return(o,l,...r)=>{const u=[l,...r].map(d=>({type:i,isAll:e,rightSelect:d}));for(const d of u)if(!Oc(o.getSelectedFields(),d.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return o.addSetOperators(u)}}const fM=()=>({union:dM,unionAll:mM,intersect:hM,except:pM}),dM=Ba("union",!1),mM=Ba("union",!0),hM=Ba("intersect",!1),pM=Ba("except",!1);var yv;yv=Z;class Jc{constructor(e){w(this,"dialect");w(this,"dialectConfig");w(this,"$with",(e,o)=>{const l=this;return{as:u=>(typeof u=="function"&&(u=u(l)),new Proxy(new Vc(u.getSQL(),o??("getSelectedFields"in u?u.getSelectedFields()??{}:{}),e,!0),new Tt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});this.dialect=X(e,Ol)?e:void 0,this.dialectConfig=X(e,Ol)?void 0:e}with(...e){const o=this;function l(u){return new qn({fields:u??void 0,session:void 0,dialect:o.getDialect(),withList:e})}function r(u){return new qn({fields:u??void 0,session:void 0,dialect:o.getDialect(),withList:e,distinct:!0})}return{select:l,selectDistinct:r}}select(e){return new qn({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new qn({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new TT(this.dialectConfig)),this.dialect}}w(Jc,yv,"SQLiteQueryBuilder");var vv;vv=Z;class Ac{constructor(e,o,l,r){this.table=e,this.session=o,this.dialect=l,this.withList=r}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const o=e.map(l=>{const r={},u=this.table[se.Symbol.Columns];for(const d of Object.keys(l)){const h=l[d];r[d]=X(h,pe)?h:new Bn(h,u[d])}return r});return new wc(this.table,o,this.session,this.dialect,this.withList)}select(e){const o=typeof e=="function"?e(new Jc):e;if(!X(o,pe)&&!Oc(this.table[yc],o._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new wc(this.table,o,this.session,this.dialect,this.withList,!0)}}w(Ac,vv,"SQLiteInsertBuilder");var Sv,Tv;class wc extends(Tv=gi,Sv=Z,Tv){constructor(o,l,r,u,d,h){super();w(this,"config");w(this,"run",o=>this._prepare().run(o));w(this,"all",o=>this._prepare().all(o));w(this,"get",o=>this._prepare().get(o));w(this,"values",o=>this._prepare().values(o));this.session=r,this.dialect=u,this.config={table:o,values:l,withList:d,select:h}}returning(o=this.config.table[Ot.Symbol.Columns]){return this.config.returning=Gi(o),this}onConflictDoNothing(o={}){if(this.config.onConflict||(this.config.onConflict=[]),o.target===void 0)this.config.onConflict.push(I` on conflict do nothing`);else{const l=Array.isArray(o.target)?I`${o.target}`:I`${[o.target]}`,r=o.where?I` where ${o.where}`:I``;this.config.onConflict.push(I` on conflict ${l} do nothing${r}`)}return this}onConflictDoUpdate(o){if(o.where&&(o.targetWhere||o.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);const l=o.where?I` where ${o.where}`:void 0,r=o.targetWhere?I` where ${o.targetWhere}`:void 0,u=o.setWhere?I` where ${o.setWhere}`:void 0,d=Array.isArray(o.target)?I`${o.target}`:I`${[o.target]}`,h=this.dialect.buildUpdateSet(this.config.table,PS(this.config.table,o.set));return this.config.onConflict.push(I` on conflict ${d}${r} do update set ${h}${l}${u}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:Bi(this.config.table)})}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}w(wc,Sv,"SQLiteInsert");var Ev;Ev=Z;class xc{constructor(e,o,l,r){this.table=e,this.session=o,this.dialect=l,this.withList=r}set(e){return new AT(this.table,PS(this.table,e),this.session,this.dialect,this.withList)}}w(xc,Ev,"SQLiteUpdateBuilder");var Cv,_v;class AT extends(_v=gi,Cv=Z,_v){constructor(o,l,r,u,d){super();w(this,"config");w(this,"leftJoin",this.createJoin("left"));w(this,"rightJoin",this.createJoin("right"));w(this,"innerJoin",this.createJoin("inner"));w(this,"fullJoin",this.createJoin("full"));w(this,"run",o=>this._prepare().run(o));w(this,"all",o=>this._prepare().all(o));w(this,"get",o=>this._prepare().get(o));w(this,"values",o=>this._prepare().values(o));this.session=r,this.dialect=u,this.config={set:l,table:o,withList:d,joins:[]}}from(o){return this.config.from=o,this}createJoin(o){return(l,r)=>{const u=vc(l);if(typeof u=="string"&&this.config.joins.some(d=>d.alias===u))throw new Error(`Alias "${u}" is already used in this query`);if(typeof r=="function"){const d=this.config.from?X(l,Ot)?l[se.Symbol.Columns]:X(l,kt)?l._.selectedFields:X(l,Pa)?l[yt].selectedFields:void 0:void 0;r=r(new Proxy(this.config.table[se.Symbol.Columns],new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),d&&new Proxy(d,new Tt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:r,table:l,joinType:o,alias:u}),this}}where(o){return this.config.where=o,this}orderBy(...o){if(typeof o[0]=="function"){const l=o[0](new Proxy(this.config.table[se.Symbol.Columns],new Tt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(l)?l:[l];this.config.orderBy=r}else{const l=o;this.config.orderBy=l}return this}limit(o){return this.config.limit=o,this}returning(o=this.config.table[Ot.Symbol.Columns]){return this.config.returning=Gi(o),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:o,...l}=this.dialect.sqlToQuery(this.getSQL());return l}_prepare(o=!0){return this.session[o?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0,void 0,{type:"insert",tables:Bi(this.config.table)})}prepare(){return this._prepare(!1)}async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}w(AT,Cv,"SQLiteUpdate");var Av,wv,xv;const zl=class zl extends(xv=pe,wv=Z,Av=Symbol.toStringTag,xv){constructor(o){super(zl.buildEmbeddedCount(o.source,o.filters).queryChunks);w(this,"sql");w(this,Av,"SQLiteCountBuilderAsync");w(this,"session");this.params=o,this.session=o.session,this.sql=zl.buildCount(o.source,o.filters)}static buildEmbeddedCount(o,l){return I`(select count(*) from ${o}${I.raw(" where ").if(l)}${l})`}static buildCount(o,l){return I`select count(*) from ${o}${I.raw(" where ").if(l)}${l}`}then(o,l){return Promise.resolve(this.session.count(this.sql)).then(o,l)}catch(o){return this.then(void 0,o)}finally(o){return this.then(l=>(o==null||o(),l),l=>{throw o==null||o(),l})}};w(zl,wv,"SQLiteCountBuilderAsync");let Nc=zl;var Nv;Nv=Z;class wT{constructor(e,o,l,r,u,d,h,y){this.mode=e,this.fullSchema=o,this.schema=l,this.tableNamesMap=r,this.table=u,this.tableConfig=d,this.dialect=h,this.session=y}findMany(e){return this.mode==="sync"?new bc(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many"):new _a(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return this.mode==="sync"?new bc(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first"):new _a(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}w(wT,Nv,"SQLiteAsyncRelationalQueryBuilder");var bv,Rv;class _a extends(Rv=gi,bv=Z,Rv){constructor(o,l,r,u,d,h,y,g,v){super();w(this,"mode");this.fullSchema=o,this.schema=l,this.tableNamesMap=r,this.table=u,this.tableConfig=d,this.dialect=h,this.session=y,this.config=g,this.mode=v}getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(o=!1){const{query:l,builtQuery:r}=this._toSQL();return this.session[o?"prepareOneTimeQuery":"prepareQuery"](r,void 0,this.mode==="first"?"get":"all",!0,(u,d)=>{const h=u.map(y=>Ec(this.schema,this.tableConfig,y,l.selection,d));return this.mode==="first"?h[0]:h})}prepare(){return this._prepare(!1)}_toSQL(){const o=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),l=this.dialect.sqlToQuery(o.sql);return{query:o,builtQuery:l}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return this.mode==="first"?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}w(_a,bv,"SQLiteAsyncRelationalQuery");var Mv,Dv;class bc extends(Dv=_a,Mv=Z,Dv){sync(){return this.executeRaw()}}w(bc,Mv,"SQLiteSyncRelationalQuery");var Iv,Lv;class Pl extends(Lv=gi,Iv=Z,Lv){constructor(o,l,r,u,d){super();w(this,"config");this.execute=o,this.getSQL=l,this.dialect=u,this.mapBatchResult=d,this.config={action:r}}getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(o,l){return l?this.mapBatchResult(o):o}_prepare(){return this}isResponseInArrayMode(){return!1}}w(Pl,Iv,"SQLiteRaw");var Uv;Uv=Z;class Yc{constructor(e,o,l,r){w(this,"query");w(this,"$with",(e,o)=>{const l=this;return{as:u=>(typeof u=="function"&&(u=u(new Jc(l.dialect))),new Proxy(new Vc(u.getSQL(),o??("getSelectedFields"in u?u.getSelectedFields()??{}:{}),e,!0),new Tt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}});w(this,"$cache");this.resultKind=e,this.dialect=o,this.session=l,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};const u=this.query;if(this._.schema)for(const[d,h]of Object.entries(this._.schema))u[d]=new wT(e,r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[d],h,o,l);this.$cache={invalidate:async d=>{}}}$count(e,o){return new Nc({source:e,filters:o,session:this.session})}with(...e){const o=this;function l(y){return new qn({fields:y??void 0,session:o.session,dialect:o.dialect,withList:e})}function r(y){return new qn({fields:y??void 0,session:o.session,dialect:o.dialect,withList:e,distinct:!0})}function u(y){return new xc(y,o.session,o.dialect,e)}function d(y){return new Ac(y,o.session,o.dialect,e)}function h(y){return new _c(y,o.session,o.dialect,e)}return{select:l,selectDistinct:r,update:u,insert:d,delete:h}}select(e){return new qn({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new qn({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new xc(e,this.session,this.dialect)}insert(e){return new Ac(e,this.session,this.dialect)}delete(e){return new _c(e,this.session,this.dialect)}run(e){const o=typeof e=="string"?I.raw(e):e.getSQL();return this.resultKind==="async"?new Pl(async()=>this.session.run(o),()=>o,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(o)}all(e){const o=typeof e=="string"?I.raw(e):e.getSQL();return this.resultKind==="async"?new Pl(async()=>this.session.all(o),()=>o,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(o)}get(e){const o=typeof e=="string"?I.raw(e):e.getSQL();return this.resultKind==="async"?new Pl(async()=>this.session.get(o),()=>o,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(o)}values(e){const o=typeof e=="string"?I.raw(e):e.getSQL();return this.resultKind==="async"?new Pl(async()=>this.session.values(o),()=>o,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(o)}transaction(e,o){return this.session.transaction(e,o)}}w(Yc,Uv,"BaseSQLiteDatabase");var qv;qv=Z;class xT{}w(xT,qv,"Cache");var Pv,Bv;class $c extends(Bv=xT,Pv=Z,Bv){strategy(){return"all"}async get(e){}async put(e,o,l,r){}async onMutate(e){}}w($c,Pv,"NoopCache");async function Vg(i,e){const o=`${i}-${JSON.stringify(e)}`,r=new TextEncoder().encode(o),u=await crypto.subtle.digest("SHA-256",r);return[...new Uint8Array(u)].map(y=>y.toString(16).padStart(2,"0")).join("")}var zv,Gv;class NT extends(Gv=gi,zv=Z,Gv){constructor(e){super(),this.resultCb=e}async execute(){return this.resultCb()}sync(){return this.resultCb()}}w(NT,zv,"ExecuteResultSync");var Hv;Hv=Z;class bT{constructor(e,o,l,r,u,d){w(this,"joinsNotNullableMap");var h;this.mode=e,this.executeMethod=o,this.query=l,this.cache=r,this.queryMetadata=u,this.cacheConfig=d,r&&r.strategy()==="all"&&d===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),(h=this.cacheConfig)!=null&&h.enable||(this.cacheConfig=void 0)}async queryWithCache(e,o,l){if(this.cache===void 0||X(this.cache,$c)||this.queryMetadata===void 0)try{return await l()}catch(r){throw new di(e,o,r)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await l()}catch(r){throw new di(e,o,r)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{const[r]=await Promise.all([l(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return r}catch(r){throw new di(e,o,r)}if(!this.cacheConfig)try{return await l()}catch(r){throw new di(e,o,r)}if(this.queryMetadata.type==="select"){const r=await this.cache.get(this.cacheConfig.tag??await Vg(e,o),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(r===void 0){let u;try{u=await l()}catch(d){throw new di(e,o,d)}return await this.cache.put(this.cacheConfig.tag??await Vg(e,o),u,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),u}return r}try{return await l()}catch(r){throw new di(e,o,r)}}getQuery(){return this.query}mapRunResult(e,o){return e}mapAllResult(e,o){throw new Error("Not implemented")}mapGetResult(e,o){throw new Error("Not implemented")}execute(e){return this.mode==="async"?this[this.executeMethod](e):new NT(()=>this[this.executeMethod](e))}mapResult(e,o){switch(this.executeMethod){case"run":return this.mapRunResult(e,o);case"all":return this.mapAllResult(e,o);case"get":return this.mapGetResult(e,o)}}}w(bT,Hv,"PreparedQuery");var Vv;Vv=Z;class RT{constructor(e){this.dialect=e}prepareOneTimeQuery(e,o,l,r,u,d,h){return this.prepareQuery(e,o,l,r,u,d,h)}run(e){const o=this.dialect.sqlToQuery(e);try{return this.prepareOneTimeQuery(o,void 0,"run",!1).run()}catch(l){throw new qa({cause:l,message:`Failed to run the query '${o.sql}'`})}}extractRawRunValueFromBatchResult(e){return e}all(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).all()}extractRawAllValueFromBatchResult(e){throw new Error("Not implemented")}get(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).get()}extractRawGetValueFromBatchResult(e){throw new Error("Not implemented")}values(e){return this.prepareOneTimeQuery(this.dialect.sqlToQuery(e),void 0,"run",!1).values()}async count(e){return(await this.values(e))[0][0]}extractRawValuesValueFromBatchResult(e){throw new Error("Not implemented")}}w(RT,Vv,"SQLiteSession");var Ov,kv;class MT extends(kv=Yc,Ov=Z,kv){constructor(e,o,l,r,u=0){super(e,o,l,r),this.schema=r,this.nestedIndex=u}rollback(){throw new ST}}w(MT,Ov,"SQLiteTransaction");var Fv,Qv;class DT extends(Qv=RT,Fv=Z,Qv){constructor(o,l,r,u,d={}){super(l);w(this,"logger");w(this,"cache");this.client=o,this.schema=r,this.batchCLient=u,this.logger=d.logger??new DS,this.cache=d.cache??new $c}prepareQuery(o,l,r,u,d,h,y){return new IT(this.client,o,this.logger,this.cache,h,y,l,r,u,d)}async batch(o){const l=[],r=[];for(const d of o){const h=d._prepare(),y=h.getQuery();l.push(h),r.push({sql:y.sql,params:y.params,method:y.method})}return(await this.batchCLient(r)).map((d,h)=>l[h].mapResult(d,!0))}async transaction(o,l){const r=new Rc("async",this.dialect,this,this.schema);await this.run(I.raw(`begin${l!=null&&l.behavior?" "+l.behavior:""}`));try{const u=await o(r);return await this.run(I`commit`),u}catch(u){throw await this.run(I`rollback`),u}}extractRawAllValueFromBatchResult(o){return o.rows}extractRawGetValueFromBatchResult(o){return o.rows[0]}extractRawValuesValueFromBatchResult(o){return o.rows}}w(DT,Fv,"SQLiteRemoteSession");var Jv,Yv;const Na=class Na extends(Yv=MT,Jv=Z,Yv){async transaction(e){const o=`sp${this.nestedIndex}`,l=new Na("async",this.dialect,this.session,this.schema,this.nestedIndex+1);await this.session.run(I.raw(`savepoint ${o}`));try{const r=await e(l);return await this.session.run(I.raw(`release savepoint ${o}`)),r}catch(r){throw await this.session.run(I.raw(`rollback to savepoint ${o}`)),r}}};w(Na,Jv,"SQLiteProxyTransaction");let Rc=Na;var $v,Kv;class IT extends(Kv=bT,$v=Z,Kv){constructor(o,l,r,u,d,h,y,g,v,S){super("async",g,l,u,d,h);w(this,"method");this.client=o,this.logger=r,this.fields=y,this._isResponseInArrayMode=v,this.customResultMapper=S,this.customResultMapper=S,this.method=g}getQuery(){return{...this.query,method:this.method}}async run(o){const l=aa(this.query.params,o??{});return this.logger.logQuery(this.query.sql,l),await this.queryWithCache(this.query.sql,l,async()=>await this.client(this.query.sql,l,"run"))}mapAllResult(o,l){return l&&(o=o.rows),!this.fields&&!this.customResultMapper?o:this.customResultMapper?this.customResultMapper(o):o.map(r=>zg(this.fields,r,this.joinsNotNullableMap))}async all(o){const{query:l,logger:r,client:u}=this,d=aa(l.params,o??{});r.logQuery(l.sql,d);const{rows:h}=await this.queryWithCache(l.sql,d,async()=>await u(l.sql,d,"all"));return this.mapAllResult(h)}async get(o){const{query:l,logger:r,client:u}=this,d=aa(l.params,o??{});r.logQuery(l.sql,d);const h=await this.queryWithCache(l.sql,d,async()=>await u(l.sql,d,"get"));return this.mapGetResult(h.rows)}mapGetResult(o,l){l&&(o=o.rows);const r=o;if(!this.fields&&!this.customResultMapper)return r;if(r)return this.customResultMapper?this.customResultMapper([o]):zg(this.fields,r,this.joinsNotNullableMap)}async values(o){const l=aa(this.query.params,o??{});return this.logger.logQuery(this.query.sql,l),(await this.queryWithCache(this.query.sql,l,async()=>await this.client(this.query.sql,l,"values"))).rows}isResponseInArrayMode(){return this._isResponseInArrayMode}}w(IT,$v,"SQLiteProxyPreparedQuery");var Xv,Zv;class LT extends(Zv=Yc,Xv=Z,Zv){async batch(e){return this.session.batch(e)}}w(LT,Xv,"SqliteRemoteDatabase");function Og(i,e,o){const l=new ET({casing:o==null?void 0:o.casing});let r,u,d,h={};e&&(typeof e=="function"?(d=e,h={}):(d=void 0,h=e),h.logger===!0?r=new MS:h.logger!==!1&&(r=h.logger,u=h.cache));let y;if(h.schema){const S=XR(h.schema,eM);y={fullSchema:h.schema,schema:S.tables,tableNamesMap:S.tableNamesMap}}const g=new DT(i,l,y,d,{logger:r,cache:u}),v=new LT("async",l,g,y);return v.$cache=u,v.$cache&&(v.$cache.invalidate=u==null?void 0:u.onMutate),v}const gM=yT("fragments",{id:rn("id").primaryKey(),date:rn("date").notNull(),content:rn("content").notNull(),timestamp:Fc("timestamp").notNull(),tags:rn("tags")}),yM=yT("diary_entries",{date:rn("date").primaryKey(),title:rn("title").notNull(),content:rn("content").notNull(),mood:rn("mood").notNull(),reflection:rn("reflection").notNull(),tags:rn("tags").notNull(),createdAt:Fc("created_at").$defaultFn(()=>Date.now())}),kg=Object.freeze(Object.defineProperty({__proto__:null,diaryEntries:yM,fragments:gM},Symbol.toStringTag,{value:"Module"}));let ra=null,ql=null;const UT=async()=>{if(ra)return ra;if(ql)return ql;ql=(async()=>{if(va.isNativePlatform()){console.log("Initializing Native SQLite Database...");const u=await new yR(vR).createConnection("nimo_db",!1,"no-encryption",1,!1);await u.open();const d=Og(async(h,y,g)=>{try{return g==="run"?(await u.run(h,y),{rows:[]}):{rows:(await u.query(h,y)).values||[]}}catch(v){throw console.error("Native DB Error:",v),v}},{schema:kg});return d.backendType="Native SQLite",d}console.log("Initializing Web SQLite Database (Worker)...");const i=new Worker(new URL(""+new URL("worker-nnvcyQz4.js",import.meta.url).href,import.meta.url),{type:"module"}),e=await new Promise((r,u)=>{const d=crypto.randomUUID(),h=y=>{y.data.id===d&&y.data.type==="init_result"&&(i.removeEventListener("message",h),r(y.data.backend||"Unknown"))};i.addEventListener("message",h),i.postMessage({id:d,type:"init"})}),o=async(r,u,d)=>{const h=crypto.randomUUID();return new Promise((y,g)=>{const v=S=>{S.data.id===h&&(i.removeEventListener("message",v),S.data.success?y(S.data.data):g(new Error(S.data.error)))};i.addEventListener("message",v),i.postMessage({id:h,sql:r,params:u,method:d})})},l=Og(async(r,u,d)=>{try{const h=await o(r,u,d);return console.log("[drizzleProxy] Worker returned:",h),console.log("[drizzleProxy] Type:",typeof h,"IsArray:",Array.isArray(h)),Array.isArray(h)&&h.length>0&&console.log("[drizzleProxy] First row:",h[0]),{rows:h}}catch(h){return console.error("Error from worker:",h),{rows:[]}}},{schema:kg});return l.execute=async({sql:r,args:u})=>{const d=await o(r,u||[],"all");return{rows:Array.isArray(d)?d:[]}},l.backendType=e,l})();try{return ra=await ql,ra}catch(i){throw ql=null,i}};let Uo=null;const vM=async()=>(Uo||(Uo=await UT()),Uo),hn=async()=>(Uo||(Uo=await UT()),Uo),SM=async i=>{const o=await(await hn()).execute({sql:"SELECT id, date, content, timestamp, tags FROM fragments WHERE date = ? ORDER BY timestamp",args:[i]});return console.log("[getFragmentsByDate] Raw results from DB:",o),o.rows&&o.rows.length>0&&console.log("[getFragmentsByDate] First row:",o.rows[0]),(o.rows||[]).map(l=>({id:l.id,content:l.content,timestamp:l.timestamp,tags:l.tags?JSON.parse(l.tags):[]}))},Mc=async(i,e)=>{await(await hn()).execute({sql:"INSERT INTO fragments (id, date, content, timestamp, tags) VALUES (?, ?, ?, ?, ?)",args:[e.id,i,e.content,e.timestamp,e.tags?JSON.stringify(e.tags):null]})},TM=async(i,e,o)=>{await(await hn()).execute({sql:"UPDATE fragments SET content = ?, tags = ? WHERE id = ?",args:[e,JSON.stringify(o),i]})},EM=async i=>{await(await hn()).execute({sql:"DELETE FROM fragments WHERE id = ?",args:[i]})},CM=async i=>{const o=await(await hn()).execute({sql:"SELECT title, content, mood, reflection, tags FROM diary_entries WHERE date = ?",args:[i]});if(!o.rows||o.rows.length===0)return null;const l=o.rows[0];return{title:l.title,content:l.content,mood:l.mood,reflection:l.reflection,tags:JSON.parse(l.tags)}},da=async(i,e)=>{await(await hn()).execute({sql:`INSERT OR REPLACE INTO diary_entries (date, title, content, mood, reflection, tags, created_at) 
              VALUES (?, ?, ?, ?, ?, ?, ?)`,args:[i,e.title,e.content,e.mood,e.reflection,JSON.stringify(e.tags),Date.now()]})},_M=async()=>{const i=await hn(),e=await i.execute({sql:"SELECT DISTINCT date FROM fragments"}),o=await i.execute({sql:"SELECT date FROM diary_entries"}),l=new Set([...(e.rows||[]).map(r=>r.date),...(o.rows||[]).map(r=>r.date)]);return Array.from(l).sort().reverse()},AM=async i=>{const e=await hn();await e.execute({sql:"DELETE FROM fragments WHERE date = ?",args:[i]}),await e.execute({sql:"DELETE FROM diary_entries WHERE date = ?",args:[i]})},wM=async i=>{const e=await hn(),o=`%${i.toLowerCase()}%`;return((await e.execute({sql:`SELECT id, date, content, timestamp, tags FROM fragments 
              WHERE LOWER(content) LIKE ? OR LOWER(tags) LIKE ? 
              ORDER BY timestamp DESC`,args:[o,o]})).rows||[]).map(r=>({date:r.date,fragment:{id:r.id,content:r.content,timestamp:r.timestamp,tags:r.tags?JSON.parse(r.tags):[]}}))},xM=async i=>{const e=await hn(),o=`%${i.toLowerCase()}%`;return((await e.execute({sql:`SELECT date, title, content, mood, reflection, tags FROM diary_entries 
              WHERE LOWER(title) LIKE ? OR LOWER(content) LIKE ? OR LOWER(mood) LIKE ? 
                 OR LOWER(reflection) LIKE ? OR LOWER(tags) LIKE ? 
              ORDER BY date DESC`,args:[o,o,o,o,o]})).rows||[]).map(r=>({date:r.date,entry:{title:r.title,content:r.content,mood:r.mood,reflection:r.reflection,tags:JSON.parse(r.tags)}}))},qT="nimo_db_migrated",ma="fragment_diary_db",NM=()=>localStorage.getItem(qT)==="true"?!1:localStorage.getItem(ma)!==null,bM=async()=>{try{console.log("[Migration] Starting migration from localStorage...");const i=localStorage.getItem(ma);if(!i)return console.log("[Migration] No data to migrate"),{success:!0,migratedCount:0};const e=JSON.parse(i),o=Object.keys(e);console.log(`[Migration] Found ${o.length} dates to migrate`);let l=0,r=0;for(const u of o){const d=e[u];if(d.fragments&&d.fragments.length>0)for(const h of d.fragments)await Mc(u,h),l++;d.diaryEntry&&(await da(u,d.diaryEntry),r++)}return console.log(`[Migration] Migrated ${l} fragments and ${r} diary entries`),localStorage.setItem(qT,"true"),localStorage.setItem(ma+"_backup",i),localStorage.removeItem(ma),console.log("[Migration] Migration completed successfully"),{success:!0,migratedCount:l+r}}catch(i){return console.error("[Migration] Migration failed:",i),{success:!1,error:i.message}}},Fg="fragment_diary_lang",Qg="fragment_diary_config",RM="https://api.302.ai/v1",MM="gemini-2.5-flash",DM="sk-Xc1xkQKZmbBk3TCP2njCcM1fuTsh9AcQMONlbZHhLjJbwHZ3";function IM(){const[i,e]=de.useState(gc()),[o,l]=de.useState({fragments:[],diaryEntry:null}),[r,u]=de.useState([]),[d,h]=de.useState("en"),[y,g]=de.useState(""),[v,S]=de.useState(mt.COMPOSING),[E,A]=de.useState(null),[M,R]=de.useState(!1),[k,Y]=de.useState(!1),[W,G]=de.useState(!1),[K,ne]=de.useState("default"),[j,V]=de.useState({provider:"openai",openaiBaseUrl:RM,openaiApiKey:DM,openaiModel:MM}),L=hi(d);de.useEffect(()=>{const te=localStorage.getItem(Fg);(te==="en"||te==="zh")&&h(te);const ye=localStorage.getItem(Qg);if(ye)try{V(JSON.parse(ye))}catch(Re){console.error("Failed to parse api config",Re)}},[]),de.useEffect(()=>{localStorage.setItem(Fg,d)},[d]);const B=te=>{V(te),localStorage.setItem(Qg,JSON.stringify(te))};de.useEffect(()=>{(async()=>{try{if(await vM(),NM()){console.log("Migration needed, starting...");const ye=await bM();ye.success?console.log(`Migration successful: ${ye.migratedCount} items migrated`):console.error("Migration failed:",ye.error)}await F(),await ie()}catch(ye){console.error("Failed to initialize database:",ye)}})()},[]),de.useEffect(()=>{F()},[i]);const F=de.useCallback(async()=>{try{console.log("[loadCurrentDayData] Loading for date:",i);const[te,ye]=await Promise.all([SM(i),CM(i)]);console.log("[loadCurrentDayData] Loaded fragments:",te),console.log("[loadCurrentDayData] Fragment count:",te.length),te.length>0&&console.log("[loadCurrentDayData] First fragment:",te[0]),l({fragments:te,diaryEntry:ye})}catch(te){console.error("Failed to load day data:",te)}},[i]),ie=de.useCallback(async()=>{try{const te=await _M();u(te)}catch(te){console.error("Failed to load dates:",te)}},[]);de.useEffect(()=>{if(y.trim()){S(mt.SEARCH);return}v!==mt.GENERATING&&(o.diaryEntry?S(mt.READING):S(mt.COMPOSING),A(null))},[i,o.diaryEntry,y]);const[re,ae]=de.useState([]);de.useEffect(()=>{(async()=>{if(!y.trim()){ae([]);return}try{const[ye,Re]=await Promise.all([wM(y),xM(y)]),Ze=[],Hn=(ot,Ct,ht=40)=>{const Dt=ot.toLowerCase().indexOf(Ct.toLowerCase());if(Dt===-1)return ot.slice(0,100);const nn=Math.max(0,Dt-ht),yi=Math.min(ot.length,Dt+Ct.length+ht);let on=ot.slice(nn,yi);return nn>0&&(on="..."+on),yi<ot.length&&(on=on+"..."),on};Re.forEach(({date:ot,entry:Ct})=>{const{title:ht,content:Dt,mood:nn,reflection:yi,tags:on}=Ct,pn=y.toLowerCase();ht.toLowerCase().includes(pn)?Ze.push({date:ot,type:"diary",preview:ht,matchField:L.titleLabel}):Dt.toLowerCase().includes(pn)?Ze.push({date:ot,type:"diary",preview:Hn(Dt,y),matchField:L.contentLabel}):nn.toLowerCase().includes(pn)?Ze.push({date:ot,type:"diary",preview:nn,matchField:L.moodLabel}):yi.toLowerCase().includes(pn)?Ze.push({date:ot,type:"diary",preview:Hn(yi,y),matchField:L.reflectionLabel}):on.some(Go=>Go.toLowerCase().includes(pn))&&Ze.push({date:ot,type:"diary",preview:on.join(", "),matchField:L.tagsLabel})}),ye.forEach(({date:ot,fragment:Ct})=>{var Dt;const ht=y.toLowerCase();Ct.content.toLowerCase().includes(ht)?Ze.push({date:ot,type:"fragment",id:Ct.id,preview:Hn(Ct.content,y),matchField:L.fragment}):(Dt=Ct.tags)!=null&&Dt.some(nn=>nn.toLowerCase().includes(ht))&&Ze.push({date:ot,type:"fragment",id:Ct.id,preview:Ct.tags.join(", "),matchField:L.tagsLabel})}),ae(Ze)}catch(ye){console.error("Search failed:",ye),ae([])}})()},[y,L]);const Te=te=>{e(te),g("")},Le=de.useCallback(async(te,ye=[])=>{const Re={id:crypto.randomUUID(),content:te,timestamp:Date.now(),tags:ye};try{await Mc(i,Re),await F(),await ie()}catch(Ze){console.error("Failed to add fragment:",Ze)}},[i,F,ie]),H=de.useCallback(async te=>{try{await EM(te),await F(),await ie()}catch(ye){console.error("Failed to delete fragment:",ye)}},[F,ie]),ee=de.useCallback(async(te,ye,Re)=>{try{await TM(te,ye,Re),await F()}catch(Ze){console.error("Failed to update fragment:",Ze)}},[F]),he=async()=>{if(o.fragments.length!==0){S(mt.GENERATING),A(null);try{const te=await K1(o.fragments,d,K,j);await da(i,te),await F(),S(mt.READING)}catch(te){console.error(te),A(L.failedError),S(mt.COMPOSING)}}},qe=()=>{S(mt.COMPOSING)},Pe=()=>{G(!0)},b=async()=>{try{await AM(i),await F(),await ie(),S(mt.COMPOSING),G(!1)}catch(te){console.error("Failed to clear day:",te)}},$=async te=>{try{await da(i,te),await F()}catch(ye){console.error("Failed to update entry:",ye)}},oe=async te=>{try{for(const[ye,Re]of Object.entries(te)){for(const Ze of Re.fragments)await Mc(ye,Ze);Re.diaryEntry&&await da(ye,Re.diaryEntry)}await F(),await ie(),console.log("Import completed successfully")}catch(ye){console.error("Failed to import data:",ye)}},ce=()=>{e(te=>Mg(te,-1))},ve=()=>{e(te=>Mg(te,1))},_e=i===gc();return _.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 pb-10",children:[_.jsx(v_,{onToggleHistory:()=>R(!0),onOpenSettings:()=>Y(!0),language:d,setLanguage:h,searchQuery:y,setSearchQuery:g}),_.jsx(nR,{isOpen:M,onClose:()=>R(!1),dates:r,activeDate:i,onSelectDate:te=>{e(te),R(!1)},language:d}),_.jsx(oR,{isOpen:k,onClose:()=>Y(!1),onImport:oe,language:d,apiConfig:j,onSaveConfig:B}),_.jsxs("main",{className:"max-w-2xl mx-auto px-4",children:[v!==mt.SEARCH&&_.jsx(tR,{currentDate:i,onPrev:ce,onNext:ve,canGoNext:!_e,language:d,onDateSelect:e}),E&&_.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm flex items-center gap-2 animate-pulse",children:_.jsx("span",{children:E})}),v===mt.SEARCH&&_.jsx(iR,{results:re,query:y,onSelect:Te,language:d}),v===mt.COMPOSING&&_.jsxs("div",{className:"fade-in duration-500","data-state":"open",children:[_.jsx(Z1,{onAdd:Le,language:d,apiConfig:j}),_.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[_.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:L.timeline}),o.fragments.length>0&&_.jsx("button",{onClick:Pe,className:"text-xs text-gray-400 hover:text-red-500 underline transition-colors",children:L.clearDay})]}),_.jsx(W1,{fragments:o.fragments,onDelete:H,onUpdate:ee,language:d}),_.jsx("div",{className:"sticky bottom-6 mt-8 flex flex-col items-center z-30 pointer-events-none",children:_.jsxs("div",{className:"pointer-events-auto flex flex-col items-center gap-3",children:[o.fragments.length>0&&_.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-1.5 rounded-full shadow-sm border border-indigo-100 flex items-center gap-2 fade-in slide-in-from-top","data-state":"open",children:[_.jsxs("div",{className:"px-2 flex items-center gap-1 text-xs font-medium text-gray-400",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:_.jsx("path",{fillRule:"evenodd",d:"M10 2c-1.716 0-3.408.106-5.07.31C3.806 2.45 3 3.414 3 4.517V17.25a.75.75 0 001.075.676L10 15.082l5.925 2.844A.75.75 0 0017 17.25V4.517c0-1.103-.806-2.068-1.93-2.207A41.403 41.403 0 0010 2z",clipRule:"evenodd"})}),L.toneLabel]}),_.jsx("select",{value:K,onChange:te=>ne(te.target.value),className:"bg-gray-50 text-sm border-0 rounded-full py-1 pl-3 pr-8 focus:ring-2 focus:ring-indigo-500 text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors font-medium",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundSize:"1.5em 1.5em",backgroundRepeat:"no-repeat",appearance:"none"},children:Object.entries(L.tones).map(([te,ye])=>_.jsx("option",{value:te,children:ye},te))})]}),_.jsxs("button",{onClick:he,disabled:o.fragments.length===0,className:`
                      group relative inline-flex items-center justify-center overflow-hidden rounded-full p-4 px-8 font-medium text-white shadow-2xl transition-all duration-300 focus:outline-none
                      ${o.fragments.length===0?"bg-gray-300 cursor-not-allowed":"bg-gray-900 hover:bg-gray-800 hover:scale-105 hover:shadow-indigo-500/20"}
                    `,children:[_.jsx("span",{className:"mr-2",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})})}),_.jsx("span",{children:o.diaryEntry?L.regenerateButton:L.weaveButton})]})]})}),o.diaryEntry&&_.jsx("div",{className:"text-center mt-2",children:_.jsx("button",{onClick:()=>S(mt.READING),className:"text-sm text-indigo-600 hover:underline",children:L.cancelView})})]}),v===mt.GENERATING&&_.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] animate-pulse",children:[_.jsxs("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mb-6 relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-indigo-100 animate-[spin_3s_linear_infinite]"}),_.jsx("div",{className:"bg-white w-14 h-14 rounded-full z-10 flex items-center justify-center",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-indigo-500",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})})]}),_.jsx("h3",{className:"text-xl font-serif font-medium text-gray-800 mb-2",children:L.writingStory}),_.jsxs("p",{className:"text-gray-400 text-sm",children:[L.analyzing," ",Gl(i,d)]})]}),v===mt.READING&&o.diaryEntry&&_.jsx(j1,{entry:o.diaryEntry,onBack:qe,onUpdate:$,language:d}),W&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm fade-in duration-200","data-state":"open",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6 transform scale-100 zoom-in-95","data-state":"open",children:[_.jsx("h3",{className:"text-lg font-serif font-semibold text-gray-800 mb-2",children:"Clear Today's Data?"}),_.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:[L.clearConfirm," ",Gl(i,d),"?"]}),_.jsxs("div",{className:"flex justify-end gap-3",children:[_.jsx("button",{onClick:()=>G(!1),className:"text-sm font-medium text-gray-600 hover:bg-gray-50 px-4 py-2 rounded-lg transition-colors",children:L.cancel}),_.jsx("button",{onClick:b,className:"text-sm font-medium bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 shadow-sm shadow-red-200 transition-colors",children:L.confirmDelete})]})]})})]})]})}const Jg=document.getElementById("root");Jg&&y_.createRoot(Jg).render(_.jsx(c_.StrictMode,{children:_.jsx(IM,{})}));export{bS as W};
